\usepackage[utf8]{inputenc}
% 
% \setlength{\marginparwidth}{2cm}
\usepackage[textsize=tiny,obeyFinal]{todonotes}
\usepackage[backend=biber,style=numeric,sorting=none,isbn=false,url=false,eprint=false,citestyle=numeric-comp,backref=false,giveninits]{biblatex}

\usepackage[affil-it]{authblk} % affiliations for authors on title page
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{wasysym}
\usepackage{textcomp,gensymb}  % \degree
\usepackage{mathtools}
\usepackage{nicefrac}
\usepackage{csquotes}

\usepackage{caption}
\usepackage{subcaption}
\usepackage{xifthen}
\usepackage{tikz}
\usepackage{multicol}
\usepackage[outline]{contour}
%\usetikzlibrary{external}
%\tikzexternalize 
%% ATTENTION: Plots will not be automatically remade if the tikz file changes.
\usepackage{pgfplots}
\usepackage[super]{nth}
\usepackage[noend,boxed]{algorithm2e}
\usepackage{multirow}
\usepackage{numprint}
\usepackage{ifthen}
\usepackage{hyperref}
\usepackage{cleveref}

\usetikzlibrary{fit}
\usetikzlibrary{matrix}
\usetikzlibrary{shapes}
\usetikzlibrary{positioning}
\pgfplotsset{compat=1.17}

%\usepackage{showkeys}
%\usepackage{seqsplit}
%\renewcommand{\showkeyslabelformat}[1]{\fbox{\parbox{1.5cm}{\normalfont\tiny\ttfamily\seqsplit{#1}}}}

\newtheorem{definition}{Definition}[section]
\newtheorem{lemma}[definition]{Lemma}
\newtheorem{theorem}[definition]{Theorem}
\newtheorem{example}[definition]{Example}
\DeclareMathOperator{\Ima}{Im}

\Crefname{algocf}{Algorithm}{Algorithms}
\Crefname{equation}{Eq.}{Eq.}

\npthousandsep{,}

%%%%%  COMMENTS AND TODOS %%%%%
\newcommand{\generictodo}[3]{\todo[tickmarkheight=0.15cm,shadow,inlinewidth=0.97\textwidth,color=#1,#2]{#3}}
\newcommand{\general}[1]{\generictodo{black!20}{inline}{#1}}
%\newcommand{\general}[1][]{\generictodo{black!20}{inline,inlinewidth=0.95\textwidth}{#1}}

\newcommand{\mathias}[2][]{\generictodo{green!40}{#1}{\underline{Mathias}:\\[.25em]#2}}
\newcommand{\alex}[2][]{\generictodo{red!40}{#1}{\underline{Alex}:\\[.25em]#2}}
\newcommand{\helmut}[2][]{\generictodo{brown!40}{#1}{\underline{Helmut}:\\[.25em]#2}}
\newcommand{\aleks}[2][]{\generictodo{yellow!40}{#1}{\underline{Aleks}:\\[.25em]#2}}
\newcommand{\benedikt}[2][]{\generictodo{pink}{#1}{\underline{Benedikt}:\\[.25em]#2}}
\newcommand{\external}[2][]{\generictodo{olive}{#1}{\underline{External}:\\[.25em]#2}}

\newcommand{\TODO}[2][Who?]{\ifthenelse{\isempty{#2}}{\smallskip\generictodo{red!90}{inline, inlinewidth=0.14\textwidth, caption={Content Missing}}{\color{white}\large{TODO}}\smallskip}{\generictodo{orange!80}{}{\textbf{\underline{TODO} (#1)}\\[0.5em]#2}}}


%%%% TEXT %%%%%
\newcommand{\ite}{i.\,e.\xspace}
\newcommand{\eg}{e.\,g.\xspace}
\newcommand{\cf}{cf.\xspace}
\newcommand{\etal}{et\,al.\xspace}

%%%%% MATH %%%%%
% \Prob{bla} --> P(bla).   \Prob[bar]{foo}. --> P(foo|bar)
\newcommand{\Prob}[2][]{\operatorname{P}\ifthenelse{\isempty{#2}}{}{\left(#2\ifthenelse{\isempty{#1}}{}{\;\middle|\;#1}\right)}}
\newcommand{\Freq}[2][]{\operatorname{f}\ifthenelse{\isempty{#2}}{}{\left(#2\ifthenelse{\isempty{#1}}{}{\;\middle|\;#1}\right)}}
\newcommand{\actobsset}{\ensuremath{\mathcal{O}}\xspace}
\newcommand{\obsset}{\ensuremath{\mathfrak{O}}\xspace}
\newcommand{\featspace}{\ensuremath{\mathfrak{F}}\xspace}
\newcommand{\group}{\ensuremath{\Pi}\xspace}
\newcommand{\bandwidth}{\ensuremath{\sigma_{\text{KDE}}}\xspace}
\newcommand{\errorlimit}{\ensuremath{\varepsilon}\xspace}

\newcommand{\numbobs}{\ensuremath{\left|\obsset\right|}\xspace}
\newcommand{\obs}{\ensuremath{o}\xspace}
\newcommand{\dist}{\ensuremath{\Psi}\xspace}
\newcommand{\approxdist}{\ensuremath{\varPsi}\xspace}
\newcommand{\patset}{\ensuremath{\mathcal{P}}\xspace}
\newcommand{\trans}{\ensuremath{T}\xspace}
\newcommand{\class}{\ensuremath{C}\xspace}
\newcommand{\numbpats}{\ensuremath{\left|\patset\right|}\xspace}
\newcommand{\R}{\mathbb{R}\xspace}
\newcommand{\N}{\mathbb{N}\xspace}
\newcommand{\congraph}{\ensuremath{\mathcal{G}\xspace}}
\newcommand{\corr}[2]{\ensuremath{\mathrm{corr}(#1,#2)}\xspace}
\newcommand{\expval}[1]{\mathrm{E}[#1]\xspace}
\newcommand{\orb}[2]{\ensuremath{\mathrm{orb}_{#2}(#1)}\xspace}



\makeatletter
\newcommand{\@minipagerestore}{\setlength{\parskip}{\medskipamount}}
\makeatother

\newcommand{\redact}[2][]{%
    \ifcase\redactionmode%
        % \redactionmode==0: show both versions
        \ifthenelse{\isempty{#1}}%
            {%
              {\footnotesize\color{black!40}#2}%
            }%
            {%
                \ifvmode%
                  \begin{minipage}{0.3\textwidth}#1\end{minipage}%
                  \hfill%
                  \begin{minipage}{0.6\textwidth}\footnotesize\color{black!40}#2\end{minipage}%
                \else%
                  \par%
                  \begin{minipage}{0.3\textwidth}#1\end{minipage}%
                  \hfill%
                  \begin{minipage}{0.6\textwidth}\footnotesize\color{black!40}#2\end{minipage}%
                  \par%
                \fi
            }
    \or%
        % \redactionmode==1: show short version
        #1%
    \or%
        % \redactionmode==2: show long version
        #2%
    \fi%
}

\tikzstyle{state} = [rectangle, rounded corners, minimum height=1cm,text centered, draw=black, fill=white, text width=2.8cm]
