% ----------------------------------------
\definecolor{gray}{rgb}{0.6,0.6,0.6}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{auburn}{rgb}{0.43, 0.21, 0.1}
\definecolor{babyblue}{rgb}{0.54, 0.81, 0.94}
\definecolor{amaranth}{rgb}{0.9, 0.17, 0.31}
\definecolor{bleudefrance}{rgb}{0.19, 0.55, 0.93}
\definecolor{atomictangerine}{rgb}{1.0, 0.6, 0.4}
\definecolor{beaublue}{rgb}{0.74, 0.83, 0.9}
\definecolor{dkviolet}{rgb}{0.9, 0.17, 0.31}
\definecolor{dkgreen}{rgb}{0.0, 0.42, 0.24}
\definecolor{ltblue}{rgb}{0.0, 0.75, 1.0}
\definecolor{dkblue}{rgb}{0.2, 0.2, 0.6}
\definecolor{dkred}{rgb}{0.8, 0.0, 0.0}
\definecolor{byzantine}{rgb}{0.74, 0.2, 0.64}
% ----------------------------------------
\lstdefinestyle{bsmlstyle}{
%   frame=tb,
language=[Objective]caml,
mathescape=true,
texcl=false,
morekeywords=[4]{bsp_p,bsp_g,bsp_l,bsp_s,mkpar,apply,proj,put,par,Bsml},
morekeywords=[2]{int,bool,float,unit,char,string,list,option,array},
morecomment=[s]{(*}{*)},
showstringspaces=false,
morestring=[b]",
morestring=[d],
tabsize=2,
extendedchars=false,
sensitive=true,
breaklines=false,
basicstyle=\ttfamily,
captionpos=b,
%
% flexible columns
basewidth={2em, 0.5em},
columns=[l]flexible,
numberstyle=\sffamily\tiny\color{gray},
identifierstyle={\ttfamily\color{black}},
keywordstyle=[1]{\ttfamily\bfseries\color{dkviolet}},
keywordstyle=[2]{\ttfamily\bfseries\color{dkgreen}},
keywordstyle=[3]{\ttfamily\bfseries\color{ltblue}},
keywordstyle=[4]{\ttfamily\bfseries\color{dkblue}},
keywordstyle=[5]{\ttfamily\color{dkred}},
keywordstyle=[6]{\ttfamily\color{dkpink}},
stringstyle=\ttfamily,
commentstyle={\ttfamily\itshape\color{gray}},
numberstyle=\tiny\color{gray},
literate=
        {'a}{{\color{dkgreen}{$\alpha$}}}1
{'b}{{\color{dkgreen}{$\beta$}}}1
{'c}{{\color{dkgreen}{$\gamma$}}}1
{'d}{{\color{dkgreen}{$\delta$}}}1
{'e}{{\color{dkgreen}{$\epsilon$}}}1
{->}{{\color{dkviolet}{$\rightarrow$}}}2
{=}{{\color{dkviolet}{$=$}}}1
}
% ----------------------------------------
% lstlisting coq style (inspired from a file of Assia Mahboubi)
\lstdefinelanguage{Coq}{
% Anything betweeen $ becomes LaTeX math mode
mathescape=true,
% Comments may or not include Latex commands
texcl=false,
% Vernacular commands
morekeywords=[1]{Section, Module, End, Require, Import, Export,
                Variable, Variables, Parameter, Parameters, Axiom, Hypothesis,
                Hypotheses, Notation, Local, Tactic, Reserved, Scope, Open, Close,
                Bind, Delimit, Definition, Let, Ltac, Fixpoint, CoFixpoint, Add,
                Morphism, Relation, Implicit, Arguments, Unset, Contextual,
                Strict, Prenex, Implicits, Inductive, CoInductive, Record,
                Structure, Canonical, Coercion, Context, Class, Global, Instance,
                Program, Infix, Theorem, Lemma, Corollary, Proposition, Fact,
                Remark, Example, Proof, Goal, Save, Qed, Defined, Hint, Resolve,
                Rewrite, View, Search, Show, Print, Printing, All, Eval, Check,
                Projections, inside, outside, Def},
% Gallina
morekeywords=[2]{forall, exists, exists2, fun, fix, cofix, struct,
                match, with, end, as, in, return, let, if, is, then, else, for, of,
                nosimpl, when},
% Sorts
morekeywords=[3]{Type, Prop, Set, true, false, option},
% Various tactics, some are std Coq subsumed by ssr, for the manual purpose
morekeywords=[4]{pose, set, move, case, elim, apply, clear, hnf,
                intro, intros, generalize, rename, pattern, after, destruct,
                induction, using, refine, inversion, injection, rewrite, congr,
                unlock, compute, ring, field, fourier, replace, fold, unfold,
                change, cutrewrite, simpl, have, suff, wlog, suffices, without,
                loss, nat_norm, assert, cut, trivial, revert, bool_congr, nat_congr,
                symmetry, transitivity, auto, split, left, right, autorewrite},
% Terminators
morekeywords=[5]{by, done, exact, reflexivity, tauto, romega, omega,
                assumption, solve, contradiction, discriminate},
% Control
morekeywords=[6]{do, last, first, try, idtac, repeat},
% Comments delimiters, we do turn this off for the manual
morecomment=[s]{(*}{*)},
% Spaces are not displayed as a special character
showstringspaces=false,
% String delimiters
morestring=[b]",
morestring=[d],
% Size of tabulations
tabsize=2,
% Enables ASCII chars 128 to 255
extendedchars=true,
% Case sensitivity
sensitive=true,
% Automatic breaking of long lines
breaklines=false,
% Default style fors listings
% basicstyle=\footnotesize,
% Position of captions is bottom
captionpos=b,
% flexible columns
basewidth={2em, 0.5em},
columns=[l]flexible,
basicstyle={\ttfamily\color{black}},
numberstyle=\sffamily\tiny\color{gray},
% Style for (listings') identifiers
identifierstyle={\ttfamily\color{black}},
% Style for declaration keywords
keywordstyle=[1]{\ttfamily\bfseries\color{dkviolet}},
% Style for gallina keywords
keywordstyle=[2]{\ttfamily\bfseries\color{dkgreen}},
% Style for sorts keywords
keywordstyle=[3]{\ttfamily\bfseries\color{ltblue}},
% Style for tactics keywords
keywordstyle=[4]{\ttfamily\color{dkblue}},
% Style for terminators keywords
keywordstyle=[5]{\ttfamily\color{dkred}},
%Style for iterators
%keywordstyle=[6]{\ttfamily\color{dkpink}},
% Style for strings
stringstyle=\ttfamily,
% Style for comments
commentstyle={\ttfamily\itshape\color{dkgreen}},
%moredelim=**[is][\ttfamily\color{red}]{/&}{&/},
literate=
        {forall}{{\color{dkgreen}{$\forall\;$}}}1
{exists}{{$\exists\;$}}1
{<-}{{$\leftarrow\;\;$}}1
{=>}{{$\Rightarrow\;\;$}}1
%{==}{{\code{==}\;}}1
%{==>}{{\code{==>}\;}}1
%    {:>}{{\code{:>}\;}}1
{->}{{$\rightarrow\;\;$}}1
{<-->}{{$\longleftrightarrow\;\;$}}1
{<->}{{$\leftrightarrow\;\;$}}1
{<==}{{$\leq\;\;$}}1
{\#}{{$\#$}}1
{∘}{{$\circ\;$}}1
{\\o}{{$\circ\;$}}1
%    {\@}{{$\cdot$}}1 
{\/\\}{{$\wedge\;$}}1
{\\\/}{{$\vee\;$}}1
%{++}{{\code{++}}}1
{~}{{\ }}1
{\@\@}{{$@$}}1
{\\mapsto}{{$\mapsto\;$}}1
{\\hline}{{\rule{\linewidth}{0.5pt}}}1
%
}[keywords,comments,strings]
\lstdefinestyle{coqstyle}{language=Coq}
% ----------------------------------------
\lstdefinelanguage{why}{
% Anything betweeen $ becomes LaTeX math mode
mathescape=true,
% Comments may or not include Latex commands
texcl=false,
morekeywords=[1]{module,end,let,rec,match,with,fun,use,val,axiom,theory,lemma,predicate,type,ghost,function,if,then,else,import,export,raise},
morekeywords=[2]{variant,requires,ensures,returns,assert,absurd,invariant,raises},
morekeywords=[3]{int,list,bool,option,Int,List,Length,NthNoOpt,Option},
morekeywords=[4]{true,false},
morekeywords=[5]{},
morekeywords=[6]{},
% Comments delimiters, we do turn this off for the manual
morecomment=[s]{(*}{*)},
% Spaces are not displayed as a special character
showstringspaces=false,
% String delimiters
morestring=[b]",
morestring=[d],
% Size of tabulations
tabsize=2,
% Enables ASCII chars 128 to 255
extendedchars=true,
% Case sensitivity
sensitive=true,
% Automatic breaking of long lines
breaklines=false,
% Position of captions is bottom
captionpos=b,
% flexible columns
basewidth={2em, 0.5em},
columns=[l]flexible,
% Style for (listings') identifiers
basicstyle={\ttfamily\color{black}},
identifierstyle={\ttfamily\color{black}},
% Style for declaration keywords
keywordstyle=[1]{\ttfamily\bfseries\color{dkviolet}},
% Style for gallina keywords
keywordstyle=[2]{\ttfamily\bfseries\color{blue}},
% Style for sorts keywords
keywordstyle=[3]{\ttfamily\bfseries\color{dkgreen}},
% Style for tactics keywords
keywordstyle=[4]{\ttfamily\color{dkblue}},
% Style for terminators keywords
keywordstyle=[5]{\ttfamily\color{dkred}},
%Style for iterators
%keywordstyle=[6]{\ttfamily\color{dkpink}},
% Style for strings
stringstyle=\ttfamily,
% Style for comments
commentstyle={\ttfamily\itshape\color{olive}},
numberstyle=\sffamily\tiny\color{gray},
%moredelim=**[is][\ttfamily\color{red}]{/&}{&/},
literate=
        {forall}{{\bfseries\color{blue}{$\forall\;$}}}1
{exists}{{\bfseries\color{blue}$\exists$}}1
{<-}{{\bfseries\color{blue}$\leftarrow$}}1
{<>}{{$\not=$}}1
{>=}{{$\geq$}}2
{<=}{{$\leq$}}2
{->}{{\bfseries\color{blue}$\rightarrow$}}2
{<->}{{\bfseries\color{blue}$\leftrightarrow\$}}3
{\/\\}{{\bfseries\color{blue}$\wedge$}}2
{\\\/}{{\bfseries\color{blue}$\vee$}}2
{\@\@}{{\bfseries\color{blue}$@$}}1
{'a}{{\color{dkgreen}{$\alpha$}}}1
{'b}{{\color{dkgreen}{$\beta$}}}1
{'c}{{\color{dkgreen}{$\gamma$}}}1
{'d}{{\color{dkgreen}{$\delta$}}}1
{'e}{{\color{dkgreen}{$\epsilon$}}}1
%
}[keywords,comments,strings]
\lstdefinestyle{whystyle}{language=why}
% ----------------------------------------
\lstset{language=why}
% ----------------------------------------
\lstMakeShortInline[style=bsmlstyle]"
\lstMakeShortInline[style=coqstyle]!
\newcommand{\w}[1]{\lstinline[style=whystyle]{#1}}
