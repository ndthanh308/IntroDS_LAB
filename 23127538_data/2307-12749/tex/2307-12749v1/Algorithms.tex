\newcommand{\executionAlgo}{
\begin{algorithm}
\footnotesize
    \KwData{$e$ \tcp{Input event}}
    \KwData{$txn_{ts}$ \tcp{State transaction}}
    \KwData{$G$ \tcp{The currently constructed TPG}}
    \While{!finish processing of input streams}{
        \eIf(\tcp*[h]{Phase 1}){\text{$e$ is not a $punctuation$}}{
                $txn_{ts}$ $\gets$ PRE\_Processing($e$)\;
                \textbf{TPG\_Construction}($G$, $txn_{ts}$)\; 
          }(\tcp*[h]{Phase 2}){
                \textbf{TPG\_Refinement}($G$)\; 
                \textbf{TXN\_Scheduling}($G$)\; 
                POST\_Processing()\;
          }
    }
    
    \SetKwFunction{FMain}{TPG\_Construction}
    \SetKwProg{Fn}{Function}{:}{}
    \Fn{\FMain{$G$, $txn_{ts}$}}{
        $O_{1..k}$ $\gets$ \textbf{Partition} $txn_{ts}$\;
        \ForEach{\text{operation $O_{i}$ $\in$ $O_{1..k}$}}{
            \textbf{Identify} its \ld\;
            $G$ $\gets$ $G$ + $O_{i}$ \;
        }
    }
    \SetKwFunction{FMain}{TPG\_Refinement}
    \SetKwProg{Fn}{Function}{:}{}
    \Fn{\FMain{$G$}}{
        \ForEach{\text{vertex $e_{i}$ $\in$ $G$}}{
            \textbf{Identify} its \td, \pd\;
        }
    }
    
    \SetKwFunction{FMain}{TXN\_Scheduling}
    \SetKwProg{Fn}{Function}{:}{}
    \Fn{\FMain{$G$}}{
        $M$ $\gets$ Instantiated with $G$;\tcp{A decision model}
        \While{!finish scheduling of $G$
        }{
          \textbf{\circled{2}} $Scheduling Unit$ $\gets$ \textbf{\circled{1}} \emph{Explore}($G$, $M$)\; 
            \textbf{\circled{3}} \emph{Execute with Abort Handling} ($Scheduling Unit$)\; 
        }
    }
  \caption{\change{Execution Outline of \system}}
  \label{alg:algo}
\end{algorithm}
}