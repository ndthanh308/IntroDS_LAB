\usepackage{xspace}
\usepackage{tikz}
\usepackage{url}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage[noabbrev,capitalise]{cleveref}
\usepackage{listings}
\usepackage{soul}
\usepackage{ifthen}
\usepackage{inconsolata}
% \usepackage[font=bf]{caption}

% Nice line breaks in URLs
\def\UrlBreaks{\do\/\do-}

%%%%%%%%%%%%%%%%%%%%%%
%% STYLE AND COLORS %%
%%%%%%%%%%%%%%%%%%%%%%

\definecolor{fp_color}{RGB}{0, 110, 184} % navy blue
\definecolor{changes_color}{RGB}{0, 162, 227} % cerulian

% section referencing with nice symbol
\crefformat{section}{\S#2#1#3} % see manual of cleveref, section 8.2.1

% Hacks to compact stuff
\input{compress-whitespace}

\definecolor{fp_green}{rgb}{0,0.6,0}
\definecolor{fp_gray}{rgb}{0.5,0.5,0.5}
\definecolor{fp_mauve}{rgb}{0.58,0,0.82}

% code style
\lstdefinestyle{C}{ 
  backgroundcolor=\color{white},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  commentstyle=\color{fp_green},
  deletekeywords={},
  escapeinside={\%*}{*)},
  extendedchars=true,
  frame=single,
  keepspaces=true,
  language=C,
  keywordstyle  = \color{blue},
  keywordstyle  = [2]{\color{teal}},
  keywordstyle  = [3]{\color{magenta}},
  otherkeywords = {pkt_t,port_t,flow_t,bool,uint8_t},
  morekeywords  = [2]{allocate_port,map_get,map_put,forward,drop,rss_configure,map_init,rte_lcore_id},
  morekeywords  = [3]{LAN,WAN,PUBLIC_IP},
  numbers=left,
  numbersep=5pt,
  numberstyle=\tiny\color{fp_gray},
  rulecolor=\color{black},
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  stringstyle=\color{fp_mauve},
  tabsize=2,
}

\lstset{style=C}

%%%%%%%%%%%%%%%%%%%%
%% FOR COMMENTING %%
%%%%%%%%%%%%%%%%%%%%

\newcommand{\notes}[1]{}
\renewcommand{\notes}[1]{#1}
\newcommand{\fp}[1]{\notes{\textcolor{fp_color}{\textbf{FP: {#1}}}}}

%%%%%%%%%%%%
%% MACROS %%
%%%%%%%%%%%%

\newcommand{\etal}[0]{\textit{et al.}\xspace}
\newcommand{\ie}[0]{\textit{i.e.}\xspace}
\newcommand{\eg}[0]{\textit{e.g.}\xspace}
\newcommand{\etc}[0]{\textit{etc.}\xspace}

\newcommand{\Ie}[0]{\textit{I.e.}\xspace}
\newcommand{\Eg}[0]{\textit{E.g.}\xspace}

\DeclareRobustCommand\circled[1]{\tikz[baseline=(char.base)]{
            \node[shape=circle,fill,inner sep=1.5pt] (char)
            {\textcolor{white}{#1}};}}

\DeclareRobustCommand{\warn}[1]{{\textcolor{white}{\colorbox{red}{\textbf{#1}}}}}

\DeclareRobustCommand{\comment}[1]{\textcolor{teal}{\textbf{#1}}}

\DeclareRobustCommand{\added}[1]{\textcolor{blue}{#1}}
\DeclareRobustCommand{\deleted}[1]{\textcolor{blue}{\st{#1}}}
% \DeclareRobustCommand{\added}[1]{#1}
% \DeclareRobustCommand{\deleted}[1]{}

\newcommand{\kw}[1]{\textbf{\texttt{#1}}}

% emphasize first sentence
%\newcommand{\parsen}[2]{{#1} {\color{gray} #2}}

% show only first sentence
%\newcommand{\parsen}[2]{{#1}}

% show all
\newcommand{\parsen}[2]{{#1} {#2}}

% Create a box around some text
\newcommand{\fpbox}[1]{
	\vspace{.5em}
	\noindent
	\setlength\fboxrule{1pt}
	\fbox{\begin{minipage}{.95\linewidth}
	#1
	\end{minipage}}
	\vspace{.5em}
}

\newcommand{\camready}[2]{%
    \textcolor{blue} {%
        {%
            \scriptsize%
            \setlength{\fboxsep}{1pt}%
            \fbox{CR[{#1}]}%
        }
        {%
            #2%
        }%
    }%
}