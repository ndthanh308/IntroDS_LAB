\appendix
%----------------------------------------------------------------------------------------
\section{Derivatives of the action-angle cooridinates}
\label{sec:derivatives}
In this section, we carefully estimate the first and second derivatives of $q(x)$, $Q(h)$, $\phi(x)$, $A(h,\phi)$, and ${B_c}(h,\phi)$ in order to prove \eqref{eq:bounds}. 
Our main tool is the Morse lemma.
Note that we only need to verify the bounds near the separatrix, since the derivatives are uniformly bounded inside the domain.
For $x,y\in\mathbb R^2$, let $x\to y$ denote the line segment connecting $x$ and $y$. For $x,y\in\gamma(h)$ for certain $h$, let $x\xrightarrow{\gamma} y$ denote the piece of $\gamma(h)$ connecting $x$ to $y$ along the direction of $\nabla^\perp H$.
Recall that $q(x)=\int_{l(H(x))\xrightarrow{\gamma} x}\frac{1}{|\nabla H|}dl$. 
To start with, using the Morse lemma, one can compute that $q(x)\lesssim |\log H(x)|$ and $Q(h)\lesssim|\log h|$.
Then we make use of two special deterministic motions in the directions of $\nabla^\perp H$ and $\nabla H$ to calculate the first derivatives of $q(x)$ precisely:
\begin{equation}
    \begin{aligned}
        d\bm x_t&=\nabla^\perp H(\bm x_t)dt,\\
        d\bm y_t&=\nabla H(\bm y_t)dt.
    \end{aligned}
\end{equation}
% Figure environment removed
It follows that
\begin{equation}
\label{eqa:qxt}
    q(\bm x_t)
    %=\int_{l(H(\bm x_t))\xrightarrow{\gamma} \bm x_t}\frac{1}{|\nabla H|}dl=\int_{l(H(\bm x_0))\xrightarrow{\gamma} \bm x_0}\frac{1}{|\nabla H|}dl+\int_{\bm x_0\xrightarrow{\gamma} \bm x_t}\frac{1}{|\nabla H|}dl
    =q(\bm x_0)+t,
\end{equation}
\begin{equation}
\label{eqa:qyt}
    \begin{aligned}
        q(\bm y_t)
        =q(\bm y_0)+\int_{\partial D_t}\frac{\nabla H}{|\nabla H|^2}\cdot\bm ndl
        =q(\bm y_0)+\int_{D_t}\mathrm{div}(\frac{\nabla H}{|\nabla H|^2})dS,
    \end{aligned}
\end{equation}
where $D_t$ is the region bounded by $l$, trajectory of $\bm {y}_s$, $0\leq s\leq t$, $\gamma(H(\bm y_0))$, and $\gamma(H(\bm y_t))$, as shown in Figure~\ref{fig:coordinate}.
Thus, by differentiating \eqref{eqa:qxt} and \eqref{eqa:qyt} in $t$, we have the following equations:
\begin{equation}
\label{eqa:linear_sys}
    \begin{aligned}
        \nabla q(x)\cdot\nabla^\perp H(x)&=1,\\
        \nabla q(x)\cdot\nabla H(x)&=|\nabla H(x)|^2\int_{l(H(x))\xrightarrow{\gamma} x}\mathrm{div}(\frac{\nabla H}{|\nabla H|^2})\frac{1}{|\nabla H|}dl.
    \end{aligned}
\end{equation}
Therefore, with subscripts denoting the partial derivatives, by solving the linear system,
\begin{equation}
\label{eqa:q1q2}
    \begin{aligned}
        q'_1&=\frac{-H'_2}{{H'_1}^2+{H'_2}^2}+H'_1p,\\
        q'_2&=\frac{H'_1}{{H'_1}^2+{H'_2}^2}+H'_2p,
    \end{aligned}
\end{equation}
where $p(x)=\int_{l(H(x))\xrightarrow{\gamma} x}\mathrm{div}(\frac{\nabla H}{|\nabla H|^2})\frac{1}{|\nabla H|}dl$. Using the Morse lemma, one can compute $p(x)=O(1/H(x))$, since
\begin{equation}
    \left|\mathrm{div}(\frac{\nabla H}{|\nabla H|^2})\right|\lesssim\frac{1}{|\nabla H|^2}.
\end{equation}
Note that the non-degeneracy of the saddle point implies that $|H|\lesssim |\nabla H|^2$, and hence $\nabla q=O(|\nabla H|/H)$. The next step is to estimate $\nabla p$. For all $x,y$ close enough, with $D$ denoting the region bounded by $l$, $x\to y$, $\gamma(H(x))$, and $\gamma(H(y))$, we have
\begin{align*}
    |p(x)-p(y)|&=\left|\int_{\partial D}\mathrm{div}(\frac{\nabla H}{|\nabla H|^2})\frac{\nabla H}{|\nabla H|^2}\cdot \mathbf{n}dl-\int_{x\to y}\mathrm{div}(\frac{\nabla H}{|\nabla H|^2})\frac{\nabla H}{|\nabla H|^2}\cdot \mathbf{n}dl\right|\\
    &\leq\int_D \left|\mathrm{div}\left[\mathrm{div}(\frac{\nabla H}{|\nabla H|^2})\frac{\nabla H}{|\nabla H|^2}\right]\right|dS+\int_{x\to y}\left|\mathrm{div}(\frac{\nabla H}{|\nabla H|^2})\frac{1}{|\nabla H|}\right|dl\\
    &\lesssim\int_D \frac{1}{|\nabla H|^4}dS+\int_{x\to y}\frac{1}{|\nabla H|^3}dl.
\end{align*}
Then one can obtain $|\nabla p|\lesssim|\nabla H|/H^2$ by using the Morse lemma again and, as a result, $|q''_{ij}|\lesssim |\nabla H|^2/H^2$, $1\leq i,j\leq 2$. Similarly, we can estimate the derivatives of $Q(h)$. In fact, $Q'(h)=\int_{\gamma(h)}\mathrm{div}(\frac{\nabla H}{|\nabla H|^2})\frac{1}{|\nabla H|}dl=O(1/h)$ because of the estimate we had on $p(x)$. In addition,
\begin{equation}
    \left|Q''(h)\right|=\left|\int_{\gamma(h)}\mathrm{div}\left[\mathrm{div}(\frac{\nabla H}{|\nabla H|^2})\frac{\nabla H}{|\nabla H|^2}\right]\frac{1}{|\nabla H|}dl\right|\lesssim\int_{\gamma(h)}\frac{1}{|\nabla H|^5}dl=O(1/h^2).
\end{equation}
Since $\phi(x)=q(x)/Q(H(x))$, $|\nabla\phi|\lesssim|\nabla H|/H$ and $|\phi''_{ij}|\lesssim|\nabla H|^2/H^2$, $1\leq i,j\leq2$. Finally, we estimate the derivatives w.r.t. $h$ of a general function $F(h,\phi)=\Tilde F(x_1,x_2)$ with $\Tilde F$ having bounded first and second derivatives. By computing the inverse of the Jacobian of $(H,\phi)$ and using the first equation in \eqref{eqa:linear_sys},
\begin{equation}
\label{eqa:der_in_h}
    F'_h=\frac{\Tilde F'_1\phi'_2-\Tilde F'_2\phi'_1}{H'_1\phi'_2-H'_2\phi'_1}=(\Tilde F'_1\phi'_2-\Tilde F'_2\phi'_1)Q(H(x_1,x_2)).
\end{equation}
We deduce that $F'_h=O(|\log h|/h)$ and, using $F_h'$ instead of $F$ in {\eqref{eqa:der_in_h}, $F''_{hh}=O(|\log h|^2/h^3)$.} Similarly, one can obtain $F'_\phi=O(|\log h|)$ and $F''_{\phi\phi}=O(|\log h|/h)$.



%-----------------------------------------------------------------------------------------


\section{Exit from neighborhoods of critical points}
\label{sec:exitfromneighborhood}
In this section, we obtain estimates for the exit time from the neighborhoods of the critical points, including extremum points and saddle points. Recall the notation in Section~\ref{sec:averaging}: $O$ is a saddle point, $O'$ is an extremum point, $U$ is a domain bounded by the separatrix, and $\eta(h)=\inf\{t:|H(\tx_t^\e)-H(O')|=h\}$. Recall the function $u$ defined in \eqref{eq:u} and let us define 
\begin{equation}
    \label{eqb:nondegenerate-diffusion}
    \bm A(x)=\int_{\mathbb T^m}\nabla_y u(x,y)\sigma(y)\sigma(y)^\mathsf{T}\nabla_y u(x,y)^\mathsf{T}d\mu(y).
\end{equation}
Using assumption \hyperlink{H4'}{\textit{(H4$'$)}}, one can see that $\bm A(x)$ is positive-definite. 
Indeed, if there exist a point $x$ and a vector $v\not=0$ such that $v^\mathsf{T}\bm A(x)v=0$, then, since $\sigma\sigma^\mathsf{T}$ is positive-definite, $v^\mathsf{T}\nabla_y u(x,y)=0$ for all $y\in\mathbb T^m$.
Namely, $v^\mathsf{T} u(x,y)$ is constant, and $v^\mathsf{T}(b(x,y)-\bar b(x))=L(v^\mathsf{T}u(x,y))=0$ on $\mathbb T^m$, which contradicts with \hyperlink{H4'}{\textit{(H4$'$)}}. 
\begin{lemma}
\label{lemb:non-zero-drift}
    Recall the definition of $B_c(x)$ in \eqref{eq:definition_of_operator_AB_x}. If $O'$ is a minimum point, then $B_c(O')>0$; if $O'$ is a maximum point, then $B_c(O')<0$.
\end{lemma}
\begin{proof}
We prove the result in the case of minimum point. The other case can be treated similarly. Since $O'$ is a critical point and $Lu(x,y)=-(b(x,y)-\bar b(x))$, we have $\nabla H(O')=0$ and 
    \begin{align*}
        {B_c}(O')&=\int_{\mathbb T^m}[\nabla_xu_h(O',y)b(O',y)+\nabla_y u_h(O',y)c(x,y)]d\mu(y)\\
        &=\int_{\mathbb T^m}u(O',y)^\mathsf{T}\nabla^2 H(O')b(O',y)d\mu(y)\\
        &=-\int_{\mathbb T^m}u(O',y)^\mathsf{T}\nabla^2 H(O')Lu(O',y)d\mu(y)\\
        &=-\sum_{1\leq i,j\leq2}\frac{\partial^2}{\partial x_i\partial x_j}H(O')\int_{\mathbb T^m}u_i(O',y)Lu_j(O',y)d\mu(y)\\
        &=-\sum_{1\leq i,j\leq2}\frac{\partial^2}{\partial x_i\partial x_j}H(O')\int_{\mathbb T^m}\frac{1}{2}(u_iLu_j+u_jLu_i)(O',y)d\mu(y)\\
        &=\frac{1}{2}\sum_{1\leq i,j\leq2}\frac{\partial^2}{\partial x_i\partial x_j}H(O')\left(\bm A(O')_{i,j}-\int_{\mathbb T^m}L(u_iu_j)d\mu(y)\right)\\
        &=\frac{1}{2}\sum_{1\leq i,j\leq2}\frac{\partial^2}{\partial x_i\partial x_j}H(O')\bm A(O')_{i,j}.
\end{align*}
This is positive since both $\nabla^2 H$ and $\bm A$ are positive definite at $O'$.

\end{proof}
\begin{lemma}
\label{lem:near_extremum}
    For each $\kappa>0$, there exists $\delta>0$ such that
    \begin{equation}
    \label{eq:near_extremum}
        \E_{(x,y)}\eta(\delta)\leq\kappa
    \end{equation}
    for all $x$ satisfying $|H(x)-H(O')|<\delta$, $y\in\mathbb T^m$, and $\e$ sufficiently small.
\end{lemma}
\begin{proof}
Without loss of generality, we assume $O'$ to be a minimum point. Similarly to \eqref{eq:H}, we apply Ito's formula to $u_h(\tx^\e_{\eta(\delta)\wedge1},\txi^\e_{\eta(\delta)\wedge1})$ and we obtain
\begin{align*}
        H(\tx^\e_{\eta(\delta)\wedge1})&=H(x)+\int_0^{\eta(\delta)\wedge1} \nabla_y u_h(\tx_s^\e,\txi_s^\e)^{\mathsf T}\sigma(\txi_s^\e)dW_s+\e(u_h(x,y)-u_h(\tx_{\eta(\delta)\wedge1}^\e,\txi_{\eta(\delta)\wedge1}^\e))\\
    &\quad+\int_0^{\eta(\delta)\wedge1}[\nabla_x u_h(\tx_s^\e,\txi_s^\e)\cdot b(\tx_s^\e,\txi_s^\e)+\nabla_y u_h(\tx_s^\e,\txi_s^\e)\cdot c(\tx_s^\e,\txi_s^\e)]ds.
    \end{align*}
By taking the expectation on both sides and using Corollary~\ref{cor:avg}, we obtain
\begin{equation}
\label{eqb:exit_from_extremum}
    \E_{(x,y)}\int_0^{\eta(\delta)\wedge1}B_c(\tx_s^\e)ds<\delta+O(\e).
\end{equation}
Due to Lemma~\ref{lemb:non-zero-drift}, $B_c(O')>0$. Hence we can choose $\delta$ to be small enough such that $B_c(\tx_s^\e)>B_c(O')/2>0$ before $\eta(\delta)$. Thus, it follows from \eqref{eqb:exit_from_extremum} that, for all $\e$ sufficiently small,
\[\E_{(x,y)}(\eta(\delta)\wedge1)\leq 4\delta/B_c(O').\]
Then $\Prob_{(x,y)}(\eta(\delta)\geq1)\leq4\delta/B_c(O')$ for all $x$ satisfying $|H(x)-H(O')|<\delta$, $y\in\mathbb T^m$ by Markov's inequality. Then, one can obtain the desired result using the Markov property by the fact that $\E_{(x,y)}\eta(\delta)\leq \E_{(x,y)}(\eta(\delta)\wedge1)+\E_{(x,y)}(\eta(\delta)\chi_{\{\eta(\delta)>1\}})$.
\end{proof}



%--------------------------------------------------------------------------------------------------
\input{exit_time_separatrix.tex}




%--------------------------------------------------------------------------------------------------












%------------------------------------------------------------------------------------------------------
\section{Tightness}
\label{sec:tightness}
In this section, we verify the tightness for the original process \eqref{eq:rescaled_process1} on $\mathbb R^2\times\mathbb T^m$.
By the Arzelà–Ascoli theorem, it suffices to check the following two conditions 
\begin{align}
    &(\romannumeral1)\lim_{R\to+\infty}\Prob_{(x,y)}\left(\sup_{0\leq t\leq T}|H(X_t^\e)|\geq R\right)\to0,\label{eqc:bounded}\\
    &(\romannumeral2)\lim_{\delta\downarrow0}\Prob_{(x,y)}\left(\sup_{\substack{0\leq s<t\leq T\\ |s-t|<\delta}}r(h(X_t^\e),h(X_s^\e))>\kappa\right)\to0,\label{eqc:equi-cont}
\end{align}
hold for all $\kappa>0$, uniformly in all $0<\e<1$.
As in \eqref{eq:H}, we can also write the equation for $H(X_t^\e)$, where we consider $(X_t^\e,\xi_t^\e)$ to be a process on $\mathbb R^2\times\mathbb T^m$:
\begin{equation}
\label{eqc:h}
    \begin{aligned}
    H(X_t^\e)&=H(x)+\int_0^t \nabla_y u_h(X_s^\e,\xi_s^\e)^{\mathsf T}\sigma(\xi_s^\e)dW_s+\e(u_h(x_0,y_0)-u_h(X_t^\e,\xi_t^\e))\\
    &\quad+\int_0^t \nabla_x u_h(X_s^\e,\xi_s^\e)\cdot b(X_s^\e,\xi_s^\e)ds.
\end{aligned}
\end{equation}
By assumption \hyperlink{H4}{\textit{(H4)}} and Lemma~\ref{lem:solution}, $u(x,y)$ is bounded together with its first derivatives.
Besides, by assumption \hyperlink{H2}{\textit{(H2)}}, $H(x)/|x|\to+\infty$ as $|x|\to+\infty$, hence $\sup\{|x|:H(x)\leq R\}/R\to0$ as $R\to+\infty$. 
Also, there exists an $K>0$ such that  and $H(x)>-K$ for all $x\in\mathbb R^2$.
For $R>K$, let $\tau_R=\inf\{t:|H(X_t^\e)|=R\}\wedge T$. Then, by Markov's inequality and boundedness of second derivatives of $H$,
\begin{align*}
    \Prob_{(x,y)}(\sup_{0\leq t\leq T}|H(X_t^\e)|\geq R)
    &=\Prob_{(x,y)}(H(X^\e_{\tau_R})=R)\\
    &\leq \E_{(x,y)}(H(X^\e_{\tau_R})+K)/R\\
    &\lesssim ({H(x)+(\e+T)\sup\{|\nabla H(x)|:H(x)\leq R\}+T+K})/{R}\\
    &\lesssim ({H(x)+(\e+T)\sup\{|x|:H(x)\leq R\}+T+K})/{R}\to0,
\end{align*}
as $R\to+\infty$, uniformly in $0<\e<1$.
Thus, we have \eqref{eqc:bounded}, and it also follows that
\begin{equation}
\label{eqc:bounded_gradient}
    \Prob_{(x,y)}(\sup_{0\leq t\leq T}|\nabla H(X_t^\e)|\geq R)\to0,
\end{equation}
as $R\to+\infty$, uniformly in $0<\e<1$.
To verify \eqref{eqc:equi-cont}, we see that, for an arbitrary $\kappa>0$ small,
\begin{align*}
    \Prob_{(x,y)}\left(\sup_{\substack{0\leq s<t\leq T\\ |s-t|<\delta}}r(h(X_t^\e),h(X_s^\e))>\kappa\right)&\leq \sum_{k=0}^{[T/\delta]}\Prob_{(x,y)}\left(\sup_{t\leq \delta}r(h(X_{k\delta+t}^\e),h(X_{k\delta}^\e))>\kappa/4\right)\\
    &\leq \sum_{k=0}^{[T/\delta]}\Prob_{(x,y)}\left(\sup_{t\leq \delta}|H(X_{k\delta+t}^\e)-H(X_{k\delta}^\e)|>\kappa/12\right).
\end{align*}
Since \eqref{eqc:bounded_gradient} holds, it is sufficient to prove, for each $R>0$,
\begin{equation}
    \sum_{k=0}^{[T/\delta]}\Prob_{(x,y)}\left(\sup_{t\leq \delta}|H(X_{k\delta+t}^\e)-H(X_{k\delta}^\e)|>\kappa/12,\sup_{0\leq t\leq T}|\nabla H(X_t^\e)|\leq R\right)\to0.
\end{equation}
Let $K'$ be the upper bound for $|b(x,y)-\nabla^\perp H(x)|$, $|u(x,y)|$, $|\nabla_x u(x,y)|$, and eigenvalues of $\nabla^2 H(x)$ and $(\nabla_y u\sigma\sigma^\mathsf{T}\nabla_y u^\mathsf{T})(x,y)$ over $\mathbb R^2\times\mathbb T^m$. 
Here we need to deal with the cases where $\e$ is small or large compared to $\kappa$ separately. 
Namely, on the event $\{\sup_{0\leq t\leq T}|\nabla H(X_t^\e)|\leq R\}$:
\begin{enumerate}[(1)]
    \item If $\e>\frac{\kappa}{48K'R}$, we have that, by \eqref{eq:rescaled_process1}, for $\delta<(\frac{\kappa}{24K'R})^2$ and all $0\leq t\leq\delta$,
\begin{equation*}
    |H(X_{k\delta+t}^\e)-H(X_{k\delta}^\e)|=|\frac{1}{\e}\int_{k\delta}^{k\delta+t}\nabla H(X_s^\e)\cdot b(X_s^\e,\xi_s^\e)ds|\leq \frac{\delta RK'}{\e}<\kappa/12,
\end{equation*}
and the probabilities are simply zero;
    \item If $\e<\frac{\kappa}{48K'R}$, by recalling \eqref{eqc:h}, we have
\begin{align*}
    \sup_{t\leq \delta}|H(X_{k\delta+t}^\e)-H(X_{k\delta}^\e)|&\leq\sup_{t\leq \delta}|\int_{k\delta}^{k\delta+t}\nabla_y u_h(X_s^\e,\xi_s^\e)^{\mathsf T}\sigma(\xi_s^\e)dW_s|+2\e K'R+{K'}^2(K'+R)\delta\\
    &\leq\sup_{0\leq t\leq\delta K'R^2}|\tilde W_t|+{K'}^2(K'+R)\delta+\kappa/24,
\end{align*}
\end{enumerate}
where $\tilde W_t$ is another Brownian motion. Hence, for $\delta$ sufficiently small, independently of $\e$,
\begin{align*}
    &\sum_{k=0}^{[T/\delta]}\Prob_{(x,y)}\left(\sup_{t\leq \delta}|H(X_{k\delta+t}^\e)-H(X_{k\delta}^\e)|>\kappa/12,\sup_{0\leq t\leq T}|\nabla H(X_t^\e)|\leq R\right)\\
    &\leq\left[\frac{T}{\delta}+1\right]\cdot\Prob_{(x,y)}\left(\sup_{0\leq t\leq\delta K'R^2}|\tilde W_t|>\kappa/48\right)\\
    &\to0,
\end{align*}
as $\delta\downarrow0$, since each term is exponentially small as $\delta\downarrow0$.

