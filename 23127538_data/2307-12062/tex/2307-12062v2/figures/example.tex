% This file was created with tikzplotlib v0.9.12.
\begin{tikzpicture}

\definecolor{color0}{rgb}{0.552941176470588,0.707450980392157,0.896078431372549}
\definecolor{color1}{rgb}{0.703057937269964,0.856470725837709,0.708208636049633}
\definecolor{color2}{rgb}{0.744102947491485,0.669256898711933,0.879184450886271}
\definecolor{color3}{rgb}{0.905434799735519,0.144732659736887,0.401761241571282}

\begin{axis}[
height=4cm,
width=\textwidth,
scale only axis,
axis line style={white!15!black},
legend cell align={left},
legend columns=2,
legend style={
  fill opacity=0,
  draw opacity=1,
  text opacity=1,
  at={(0.53,1.01)},
  anchor=north,
  draw=none,
  font=\scriptsize
},
% ytick pos = left,
xtick pos = lower,
tick align=outside,
x grid style={white!80!black},
xmin=-0.345, xmax=3.945,
xtick style={color=white!15!black},
xtick={0.45,1.8,3.3},
xticklabels={\scriptsize{No Attack},\scriptsize{MaxDiff},\scriptsize{Robust Sarsa}},
y grid style={white!80!black},
ylabel={\scriptsize{Average episode rewards}},
ymin=-100, ymax=6500,
ytick style={color=white!15!black},
y grid style={white},
tick label style={font=\tiny},
ymajorgrids,
]

\draw[draw=white!93.3333333333333!black,fill=color0,opacity=0.8,very thin,postaction={pattern=crosshatch, pattern color=white!93.3333333333333!black, fill opacity=0.8}] (axis cs:-0.15,0) rectangle (axis cs:0.15,4943);
\addlegendimage{ybar,ybar legend,draw=white!93.3333333333333!black,fill=color0,opacity=0.8,very thin,postaction={pattern=crosshatch, pattern color=white!93.3333333333333!black, fill opacity=0.8}}
\addlegendentry{PA-ATLA-PPO}


\draw[draw=white!93.3333333333333!black,fill=color0,very thin,postaction={pattern=crosshatch, pattern color=white!93.3333333333333!black}] (axis cs:1.35,0) rectangle (axis cs:1.65,2686);
\draw[draw=white!93.3333333333333!black,fill=color1,very thin,postaction={pattern=north west lines, pattern color=white!93.3333333333333!black}] (axis cs:0.15,0) rectangle (axis cs:0.45,5014);
\addlegendimage{ybar,ybar legend,draw=white!93.3333333333333!black,fill=color1,very thin,postaction={pattern=north west lines, pattern color=white!93.3333333333333!black}}
\addlegendentry{PA-ATLA-PPO*}

\draw[draw=white!93.3333333333333!black,fill=color1,very thin,postaction={pattern=north west lines, pattern color=white!93.3333333333333!black}] (axis cs:2.85,0) rectangle (axis cs:3.15,2431);
\draw[draw=white!93.3333333333333!black,fill=color2,opacity=0.8,very thin,postaction={pattern=north east lines, pattern color=white!93.3333333333333!black, fill opacity=0.8}] (axis cs:0.45,0) rectangle (axis cs:0.75,5034);
\addlegendimage{ybar,ybar legend,draw=white!93.3333333333333!black,fill=color2,opacity=0.8,very thin,postaction={pattern=north east lines, pattern color=white!93.3333333333333!black, fill opacity=0.8}}
\addlegendentry{WocaR-PPO}

\draw[draw=white!93.3333333333333!black,fill=color2,opacity=0.8,very thin,postaction={pattern=north east lines, pattern color=white!93.3333333333333!black, fill opacity=0.8}] (axis cs:1.65,0) rectangle (axis cs:1.95,2931);
\draw[draw=white!93.3333333333333!black,fill=color2,opacity=0.8,very thin,postaction={pattern=north east lines, pattern color=white!93.3333333333333!black, fill opacity=0.8}] (axis cs:3.15,0) rectangle (axis cs:3.45,2705);
\draw[draw=white!93.3333333333333!black,fill=color3,very thin] (axis cs:0.75,0) rectangle (axis cs:1.05,4928);
\addlegendimage{ybar,ybar legend,draw=white!93.3333333333333!black,fill=color3,very thin}
\addlegendentry{PSRO(Ours)}





\draw[draw=white!93.3333333333333!black,fill=color1,opacity=0.8,very thin,postaction={pattern=north west lines, pattern color=white!93.3333333333333!black, fill opacity=0.8}] (axis cs:2.165,0) rectangle (axis cs:2.495,3024);
\draw[draw=white!93.3333333333333!black,fill=color1,opacity=0.8,very thin,postaction={pattern=north west lines, pattern color=white!93.3333333333333!black, fill opacity=0.8}] (axis cs:4.165,0) rectangle (axis cs:4.495,2032);
\draw[draw=white!93.3333333333333!black,fill=color2,opacity=0.8,very thin,postaction={pattern=north east lines, pattern color=white!93.3333333333333!black, fill opacity=0.8}] (axis cs:0.595,0) rectangle (axis cs:0.925,3568);
\addlegendimage{ybar,ybar legend,draw=white!93.3333333333333!black,fill=color2,opacity=0.8,very thin,postaction={pattern=north east lines, pattern color=white!93.3333333333333!black, fill opacity=0.8}}
\addlegendentry {ourppo}

\draw[draw=white!93.3333333333333!black,fill=color2,opacity=0.8,very thin,postaction={pattern=north east lines, pattern color=white!93.3333333333333!black, fill opacity=0.8}] (axis cs:2.595,0) rectangle (axis cs:2.925,3114);
\draw[draw=white!93.3333333333333!black,fill=color2,opacity=0.8,very thin,postaction={pattern=north east lines, pattern color=white!93.3333333333333!black, fill opacity=0.8}] (axis cs:4.595,0) rectangle (axis cs:4.925,2729);

\draw[draw=white!93.3333333333333!black,fill=color3,opacity=0.8,very thin] (axis cs:0.925,0) rectangle (axis cs:1.255,3616);
\addlegendimage{ybar,ybar legend,draw=white!93.3333333333333!black,fill=color3,opacity=0.8,very thin}
\addlegendentry{ourppo (Ours)}

\draw[draw=white!93.3333333333333!black,fill=color3,opacity=0.8,very thin] (axis cs:2.925,0) rectangle (axis cs:3.255,3541);
\draw[draw=white!93.3333333333333!black,fill=color3,opacity=0.8,very thin] (axis cs:4.925,0) rectangle (axis cs:5.255,3277);

\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:0,3035)
--(axis cs:0,3939);

\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:2,2827)
--(axis cs:2,3335);

\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:4,1220)
--(axis cs:4,1914);



\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:0.33,3225)
--(axis cs:0.33,3799);

\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:2.33,2865)
--(axis cs:2.33,3183);

\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:4.33,1829)
--(axis cs:4.33,2235);


\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:0.76,3372)
--(axis cs:0.76,3764);

\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:2.76,2885)
--(axis cs:2.76,3343);

\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:4.76,2365)
--(axis cs:4.76,3093);


\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:1.09,3517)
--(axis cs:1.09,3715);

\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:3.09,3334)
--(axis cs:3.09,3748);

\path [draw=white!41.1764705882353!black, line width=0.48pt]
(axis cs:5.09,3118)
--(axis cs:5.09,3436);

\addplot [line width=0.48pt, white!41.1764705882353!black, opacity=1, mark=-, mark size=1.3, mark options={solid}, only marks]
table {%
0 3035
2 2827
4 1220
};

\addplot [line width=0.48pt, white!41.1764705882353!black, opacity=1, mark=-, mark size=1.3, mark options={solid}, only marks]
table {%
0 3939
2 3335
4 1914
};

\addplot [line width=0.48pt, white!41.1764705882353!black, opacity=1, mark=-, mark size=1.3, mark options={solid}, only marks]
table {%
0.33 3225
2.33 2865
4.33 1829
};

\addplot [line width=0.48pt, white!41.1764705882353!black, opacity=1, mark=-, mark size=1.3, mark options={solid}, only marks]
table {%
0.33 3799
2.33 3183
4.33 2235
};

\addplot [line width=0.48pt, white!41.1764705882353!black, opacity=1, mark=-, mark size=1.3, mark options={solid}, only marks]
table {%
0.76 3372
2.76 2885
4.76 2365
};

\addplot [line width=0.48pt, white!41.1764705882353!black, opacity=1, mark=-, mark size=1.3, mark options={solid}, only marks]
table {%
0.76 3764
2.76 3343
4.76 3093
};

\addplot [line width=0.48pt, white!41.1764705882353!black, opacity=1, mark=-, mark size=1.3, mark options={solid}, only marks]
table {%
1.09 3517
3.09 3334
5.09 3118
};

\addplot [line width=0.48pt, white!41.1764705882353!black, opacity=1, mark=-, mark size=1.3, mark options={solid}, only marks]
table {%
1.09 3715
3.09 3748
5.09 3436
};

\end{axis}
\end{tikzpicture}
