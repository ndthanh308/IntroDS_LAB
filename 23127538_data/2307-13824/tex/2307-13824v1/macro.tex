%!TEX root = ./OfflineRL.tex
\DeclareMathOperator{\ind}{\mathds{1}}  % Indicator

\newcommand{\defn}{\coloneqq}
\newcommand{\MDP}{\mathcal{M}}
\newcommand{\gap}{\omega}
\newcommand{\net}[1]{\mathcal{N}_{#1}}
\newcommand{\linf}[1]{\left\|#1 \right\|_{\infty}}
\newcommand{\one}{\bm 1}
\newcommand{\zero}{\textbf{0}}
\newcommand{\Ind}{\bm I}
 

\newcommand{\rhob}{\rho^{\mathsf{b}}}
\newcommand{\taumax}{\tau_{\max}}



\newcommand{\mprob}{\mathbb{P}}
\newcommand{\myrho}{d^{\mathsf{b}, P^{\no}}}
\newcommand{\mub}{\mu^{\mathsf{b}}}
\newcommand{\tmix}{t_{\mathsf{mix}}}
\newcommand{\infs}{}
\newcommand{\Cstar}{C^{\star}_{\mathsf{rob}}}

\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
\newcommand{\magenta}[1]{\textcolor{magenta}{#1}}

\newcommand{\Datab}{\mathcal{D}_{\mu}}
% \newcommand{\pib}{\mu}
\newcommand{\pib}{\pi_{\mathsf{b}}}




% extra notation for dro
\newcommand{\nop}{P^0} % nominal transition kernel
\newcommand{\no}{0} % nominal transition kernel superscript
\newcommand{\ror}{\sigma} % uncertainty set radius
\newcommand{\unb}{\cU} % uncertainty set
\newcommand{\piopt}{\pi^\star} % optimal robust policy
\newcommand{\minp}{P_{\mathsf{min}}} % the minimum of transition kernel P_h(. |s,a}
\newcommand{\minpall}{P_{\mathsf{min}}^\star} % the minimum of all transition kernel P_h(. |s,a}
\newcommand{\DRLCB}{{\sf DRVI-LCB}\xspace} 
\newcommand{\DRVI}{{\sf DRVI}\xspace}
\newcommand{\RALCB}{{\sf RAVI-LCB}\xspace}
\newcommand{\cq}{c_{\mathsf{q}}}
\newcommand{\that}{\widehat{\cT}}
\newcommand{\CRVI}{{\sf CRVI}\xspace} 
% \newcommand{\mprob}{\mathbb{P}}
\newcommand{\pmin}{P}
\newcommand{\pmhat}{\widehat{P}}
\newcommand{\Pv}{\underline{P}}
\newcommand{\Phatv}{\underline{\widehat{P}}}

\newcommand{\bPi}{{\bf \Pi}}
\newcommand{\Pq}{{\bm P}^\pi}
\newcommand{\e}{{\bm e}}
\newcommand{\real}{\mathbb{R}}
\newcommand{\Var}{\mathsf{Var}}


\newcommand{\ab}{\mathbf{a}}
\newcommand{\bbb}{\mathbf{b}}
\newcommand{\cbb}{\mathbf{c}}
\newcommand{\db}{\mathbf{d}}
\newcommand{\eb}{\mathbf{e}}
\newcommand{\fb}{\mathbf{f}}
\newcommand{\gb}{\mathbf{g}}
\newcommand{\hb}{\mathbf{h}}
\newcommand{\ib}{\mathbf{i}}
\newcommand{\jb}{\mathbf{j}}
\newcommand{\kb}{\mathbf{k}}
\newcommand{\lb}{\mathbf{l}}
\newcommand{\mb}{\mathbf{m}}
\newcommand{\nbb}{\mathbf{n}}
\newcommand{\ob}{\mathbf{o}}
\newcommand{\pb}{\mathbf{p}}
\newcommand{\qb}{\mathbf{q}}
\newcommand{\rb}{\mathbf{r}}
\newcommand{\sbb}{\mathbf{s}}
\newcommand{\tb}{\mathbf{t}}
\newcommand{\ub}{\mathbf{u}}
\newcommand{\vb}{\mathbf{v}}
\newcommand{\wb}{\mathbf{w}}
\newcommand{\xb}{\mathbf{x}}
\newcommand{\yb}{\mathbf{y}}
\newcommand{\zb}{\mathbf{z}}

\newcommand{\ba}{\bm{a}}
\newcommand{\bb}{\bm{b}}
\newcommand{\bc}{\bm{c}}
\newcommand{\bd}{\bm{d}}
\newcommand{\be}{\bm{e}}
\newcommand{\bbf}{\bm{f}}
\newcommand{\bg}{\bm{g}}
\newcommand{\bh}{\bm{h}}
\newcommand{\bi}{\bmf{i}}
\newcommand{\bj}{\bm{j}}
\newcommand{\bk}{\bm{k}}
\newcommand{\bl}{\bm{l}}
\newcommand{\bbm}{\bm{m}}
\newcommand{\bn}{\bm{n}}
\newcommand{\bo}{\bm{o}}
\newcommand{\bp}{\bm{p}}
\newcommand{\bq}{\bm{q}}
\newcommand{\br}{\bm{r}}
\newcommand{\bs}{\bm{s}}
\newcommand{\bt}{\bm{t}}
\newcommand{\bu}{\bm{u}}
\newcommand{\bv}{\bm{v}}
\newcommand{\bw}{\bm{w}}
\newcommand{\bx}{\bm{x}}
\newcommand{\by}{\bm{y}}
\newcommand{\bz}{\bm{z}}

\newcommand{\cb}{c_{\mathrm{b}}}


\newcommand{\Ab}{\mathbf{A}}
\newcommand{\Bb}{\mathbf{B}}
\newcommand{\Cb}{\mathbf{C}}
\newcommand{\Db}{\mathbf{D}}
\newcommand{\Eb}{\mathbf{E}}
\newcommand{\Fb}{\mathbf{F}}
\newcommand{\Gb}{\mathbf{G}}
\newcommand{\Hb}{\mathbf{H}}
\newcommand{\Ib}{\mathbf{I}}
\newcommand{\Jb}{\mathbf{J}}
\newcommand{\Kb}{\mathbf{K}}
\newcommand{\Lb}{\mathbf{L}}
\newcommand{\Mb}{\mathbf{M}}
\newcommand{\Nb}{\mathbf{N}}
\newcommand{\Ob}{\mathbf{O}}
\newcommand{\Pb}{\mathbf{P}}
\newcommand{\Qb}{\mathbf{Q}}
\newcommand{\Rb}{\mathbf{R}}
\newcommand{\Sbb}{\mathbf{S}}
\newcommand{\Tb}{\mathbf{T}}
\newcommand{\Ub}{\mathbf{U}}
\newcommand{\Vb}{\mathbf{V}}
\newcommand{\Wb}{\mathbf{W}}
\newcommand{\Xb}{\mathbf{X}}
\newcommand{\Yb}{\mathbf{Y}}
\newcommand{\Zb}{\mathbf{Z}}

\newcommand{\bA}{\bm{A}}
\newcommand{\bB}{\bm{B}}
\newcommand{\bC}{\bm{C}}
\newcommand{\bD}{\bm{D}}
\newcommand{\bE}{\bm{E}}
\newcommand{\bF}{\bm{F}}
\newcommand{\bG}{\bm{G}}
\newcommand{\bH}{\bm{H}}
\newcommand{\bI}{\mathbf{I}}
\newcommand{\bJ}{\bm{J}}
\newcommand{\bK}{\bm{K}}
\newcommand{\bL}{\bm{L}}
\newcommand{\bM}{\bm{M}}
\newcommand{\bN}{\bm{N}}
\newcommand{\bO}{\bm{O}}
\newcommand{\bP}{\bm{P}}
\newcommand{\bQ}{\bm{Q}}
\newcommand{\bR}{\bm{R}}
\newcommand{\bS}{\bm{S}}
\newcommand{\bT}{\bm{T}}
\newcommand{\bU}{\bm{U}}
\newcommand{\bV}{\bm{V}}
\newcommand{\bW}{\bm{W}}
\newcommand{\bX}{\bm{X}}
\newcommand{\bY}{\bm{Y}}
\newcommand{\bZ}{\bm{Z}}


%----- calligraphic fonts -----%

\newcommand{\cA}{\mathcal{A}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cD}{\mathcal{D}}
\newcommand{\cE}{\mathcal{E}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\cH}{\mathcal{H}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cJ}{\mathcal{J}}
\newcommand{\cK}{\mathcal{K}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\cM}{\mathcal{M}}
\newcommand{\cN}{\mathcal{N}}
\newcommand{\cO}{\mathcal{O}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\cQ}{\mathcal{Q}}
\newcommand{\cR}{\mathcal{R}}
\newcommand{\cS}{{\mathcal{S}}}
\newcommand{\cT}{{\mathcal{T}}}
\newcommand{\cU}{\mathcal{U}}
\newcommand{\cV}{\mathcal{V}}
\newcommand{\cW}{\mathcal{W}}
\newcommand{\cX}{\mathcal{X}}
\newcommand{\cY}{\mathcal{Y}}
\newcommand{\cZ}{\mathcal{Z}}

\newcommand{\mymid}{\,|\,} 

%%%%



%%%%---------- extra for this paper 
%---- names of algorithms 
\newcommand{\DADV}{{\sf CB-Q-Advantage}\xspace}
\newcommand{\RADV}{{\sf UCB-Q-Real-Advantage}\xspace}
\newcommand{\QAB}{{\sf Q-Advantage-Base}\xspace}
\newcommand{\UCBQ}{{\sf UCB-Q}\xspace}
\newcommand{\UCB}{{\sf UCB}\xspace}
\newcommand{\UCBVI}{{\sf UCB-VI}\xspace}
\newcommand{\UCBQA}{{\sf UCB-Q-Advantage}\xspace}
\newcommand{\UCBM}{{\sf UCB-M-Q}\xspace}
\newcommand{\LCBQ}{{\sf LCB-Q}\xspace}
\newcommand{\VILCB}{{\sf VI-LCB}\xspace}
\newcommand{\LCB}{{\sf LCB}\xspace}

\newcommand{\LCBQR}{{\sf LCB-Q-Advantage}\xspace}

%---- defined useful notations 
\newcommand{\rref}{\mathsf{R}}
% used in Q-advantage-base in main routine
\newcommand{\nextbr}{B^{\mathsf{next},\mathsf{R}}}
\newcommand{\sumb}{B}
% used in Q-advantage-base in subroutine routine
\newcommand{\re}{\mathsf{ref}}
\newcommand{\adv}{\mathsf{adv}}
\newcommand{\refmu}{\mu^{\mathsf{ref}}} 
\newcommand{\refsg}{\sigma^{\mathsf{ref}}}
\newcommand{\advmu}{\mu^{\mathsf{adv}}}
\newcommand{\advsg}{\sigma^{\mathsf{adv}}}
\newcommand{\nextb}{B^{\mathsf{next}}}
% the auxiliary term
\newcommand{\refbar}{\overline{V}}
\newcommand{\sumbbar}{\overline{B}}
\newcommand{\nnext}{\mathsf{next}}
\newcommand{\epo}{\mathsf{epo}}


\usepackage{scalerel,stackengine}
\stackMath
\newcommand\reallywidehat[1]{%
\savestack{\tmpbox}{\stretchto{%
  \scaleto{%
    \scalerel*[\widthof{\ensuremath{#1}}]{\kern-.6pt\bigwedge\kern-.6pt}%
    {\rule[-\textheight/2]{1ex}{\textheight}}%WIDTH-LIMITED BIG WEDGE
  }{\textheight}% 
}{0.5ex}}%
\stackon[1pt]{#1}{\tmpbox}%
}
\newcommand\reallywidecheck[1]{%
\savestack{\tmpbox}{\stretchto{%
  \scaleto{%zh
    \scalerel*[\widthof{\ensuremath{#1}}]{\kern-.6pt\bigwedge\kern-.6pt}%
    {\rule[-\textheight/2]{1ex}{\textheight}}%WIDTH-LIMITED BIG WEDGE
  }{\textheight}% 
}{0.5ex}}%
\stackon[1pt]{#1}{\scalebox{-1}{\tmpbox}}%
}

