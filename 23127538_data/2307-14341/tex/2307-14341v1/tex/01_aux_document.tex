\newcommand{\fref}[1]{Figure~\ref{#1}}
\newcommand{\tref}[1]{Table~\ref{#1}}
\newcommand{\eref}[1]{Equation~\ref{#1}}
\newcommand{\eeref}[2]{Equations~\ref{#1} and \ref{#2}}
\newcommand{\cref}[1]{Chapter~\ref{#1}}
\newcommand{\sref}[1]{Section~\ref{#1}}
\newcommand{\ssref}[2]{Sections~\ref{#1}~and~\ref{#2}}
\newcommand{\aref}[1]{Annex~\ref{#1}}

% change to show/hide comments for camera ready
% \newcommand{\crhide}[1]{}
\newcommand{\crhide}[1]{#1}
% \newcommand{\draft}[1]{#1}
% \newcommand{\phide}[1]{}
\newcommand{\phide}[1]{#1}

% change to show/hide thigns inside draft
\newcommand{\draft}[1]{#1}
%\newcommand{\draft}[1]{}

% Commenting tools
\definecolor{red}{rgb}{0.8,0,0}
\definecolor{purered}{rgb}{1,0,0}
\definecolor{pink}{rgb}{0.9,0,0.9}
\definecolor{darkred}{rgb}{0.6,0,0}
\definecolor{green}{rgb}{0.0,0.5,0}
\definecolor{blue}{rgb}{0,0,0.75}
\definecolor{darkblue}{rgb}{0,0,0.55}
\definecolor{lightcyan}{rgb}{0.5,0.7,0.7}
\definecolor{orange}{rgb}{0.9,0.3,0.1}
\definecolor{purple}{rgb}{0.6,0.0,0.6}
\definecolor{cyan}{rgb}{0.0,0.7,0.7}
\definecolor{darkgray}{rgb}{0.4,0.4,0.4}
\definecolor{bronze}{rgb}{0.7, 0.4, 0.18}
\definecolor{dorange}{rgb}{0.75, 0.4, 0.0}
\definecolor{black}{rgb}{0.0,0.0,0.0}

\newcommand{\new}[1]{\textcolor{defaultcolor}{#1}}
\newcommand{\neww}[1]{\textcolor{defaultcolor}{#1}}
\newcommand{\newww}[1]{\textcolor{defaultcolor}{#1}}
\newcommand{\NEW}[1]{\textcolor{defaultcolor}{#1}}
\newcommand{\NEWW}[1]{\textcolor{defaultcolor}{#1}}

% MATH, ACRONYMS, PREFORMATTED TEXT

\newcommand{\exptAvailable}[1]{\colortxt{green}{#1}}
\newcommand{\exptTentative}[1]{\colortxt{red}{#1}}
\newcommand{\rarr}{\rightarrow}
\newcommand{\larr}{\leftarrow}
\newcommand{\transpose}{{\scriptstyle\top}}
\renewcommand{\transpose}{{\intercal}}
% \DeclareMathOperator*{\argmax}{arg\,max}
% \DeclareMathOperator*{\argmin}{arg\,min}
\newcommand{\minv}[1]{{#1}^{-1}}
\newcommand{\Fspace}[1]{\widehat{#1}}
\newcommand{\Fourier}[1]{\mathcal{F}\left\{#1\right\}}
\newcommand{\invFourier}[1]{\mathcal{F}^{-1}\left\{#1\right\}}
\newcommand{\mat}[1]{{\mathbf{#1}}}
\newcommand{\reparam}[1]{\mathrm{#1}}
\newcommand{\freq}{{\Omega}}
\newcommand{\fq}{{\freq}}
\newcommand{\wl}{{\lambda}}
\newcommand{\conv}{\ast}
\newcommand\given[1][]{\:#1\vert\:}

% \newcommand{\todo}{$\square$\xspace}%
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\newcommand{\tododone}{\cmark\xspace}%
\newcommand{\todofail}{\xmark\xspace}%
\newcommand{\enumstrength}{S.\arabic*}%
\newcommand{\enumproblem}{P.\arabic*}%

% Usual terms
\newcommand*{\pmapping}[0]{\emph{photon mapping}}
\newcommand*{\Pmapping}[0]{\emph{Photon mapping}}
\newcommand*{\PMapping}[0]{\emph{Photon Mapping}}
\newcommand*{\pbeams}[0]{\emph{photon beams}}
\newcommand*{\Pbeams}[0]{\emph{Photon beams}}
\newcommand*{\PBeams}[0]{\emph{Photon Beams}}
\newcommand*{\Ptracing}[0]{\emph{Path tracing}}
\newcommand*{\VPTracing}[0]{\emph{Volumetric Path Tracing}}
\newcommand*{\PTracing}[0]{\emph{Path Tracing}}
\newcommand*{\ptracing}[0]{\emph{path tracing}}
\newcommand*{\Bptracing}[0]{\emph{Bidirectional path tracing}}
\newcommand*{\bptracing}[0]{\emph{bidirectional path tracing}}
\newcommand*{\Metropolis}[0]{\emph{Metropolis light transport}}
\newcommand*{\brdf}[0]{\emph{BRDF}}
% \renewcommand*{\ns}[0]{\mathrm{ns}}
% Usual math and physics terms

\newcommand{\Tr}{{T_r}}
\newcommand{\alb}{{_\Lambda}}
\newcommand{\scalb}{\alpha}
\newcommand{\crossscat}{\kappa_s}
\newcommand{\crossabs}{\kappa_a}
\newcommand*{\pf}[0]{\rho}
\newcommand*{\coefext}[0]{\sigma_t}
\newcommand*{\coefextx}[0]{\ext(x)}
\newcommand*{\coefabs}[0]{\sigma_a}
\newcommand*{\coefabsx}[0]{\abs(x)}
\newcommand*{\coefscat}[0]{\sigma_s}
\newcommand*{\coefscatx}[0]{\sca(x)}
\newcommand*{\mcoefext}[0]{$\coefext$}
\newcommand*{\mcoefextx}[0]{$\coefextx$}
\newcommand*{\mcoefabs}[0]{$\coefabs$}
\newcommand*{\mcoefabsx}[0]{$\coefabsx$}
\newcommand*{\mcoefscat}[0]{$\coefscat$}
\newcommand*{\mcoefscatx}[0]{$\coefscatx$}
\newcommand*{\phasefunction}[0]{p(x, \vec{\omega}^\prime, \vec{\omega})}
\newcommand*{\ior}[0]{\eta}
%Usual equation expressions
\newcommand{\diff}{\mathrm{d}}
\newcommand{\bvec}[1]{\mathbf{#1}}
\newcommand{\omegav}{\vec{\omega}}
\newcommand{\omegaout}{\omegav_o}
\newcommand{\omegain}{\omegav_i}
\newcommand{\momegain}{$\omegain$}
\newcommand{\ppwr}{\Phi}
\newcommand{\eqbreak}{\nonumber \\}
\newcommand{\x}{\ensuremath{\mathbf{x}}\xspace}
\newcommand{\y}{\ensuremath{\mathbf{y}}\xspace}
\newcommand{\z}{\ensuremath{\mathbf{z}}\xspace}
\newcommand{\rvec}{\vec{\ensuremath{\mathbf{r}}}\xspace}
\newcommand{\rlen}{\ensuremath{\mathrm{r}}\xspace}
\newcommand{\xpr}{\ensuremath{\mathbf{x}^\prime}\xspace}
%\newcommand{\xm}{{\x}}
%\newcommand{\xc}{{\x_r}}
\newcommand{\ym}{{\y}}
\newcommand{\zm}{{\z}}
\newcommand{\VRegion}{\ensuremath{\aleph}\xspace}
\newcommand{\xs}{\ensuremath{\x_{s}}\xspace} %sensor, point seen by a spad sensor pixel
\newcommand{\ys}{\ensuremath{\y_{\! s}}\xspace}
%\newcommand{\xw}{\ensuremath{\hat{\x}}\xspace}
\newcommand{\yw}{\ensuremath{\hat{\y}}\xspace}
\newcommand{\mpar}{r}
\newcommand{\pkern}{\Omega}
\newcommand{\optpath}{\Pi}

% Steady-state transport matrix formulation
\newcommand{\stransportImage}{\mathbf{i}}
\newcommand{\stransportMatrix}{\mathbf{T}}
\newcommand{\stransportMatrixTransient}{\mathbf{H}}
\newcommand{\stransportSources}{\mathbf{p}}


% Virtual steady-state transport matrix formulation
\newcommand{\svtransportImage}{\mathbf{i_v}}
\newcommand{\svtransportMatrix}{\stransportMatrix}
\newcommand{\svtransportSources}{\mathbf{p_v}}


% Phasor fields terms
% NOTE(droyo): https://tex.stackexchange.com/questions/297253/norm-symbol-have-different-sizes-in-equation
\let\norm\undefined
\DeclarePairedDelimiter{\norm}{\lvert}{\rvert}
\DeclarePairedDelimiter{\Norm}{\lVert}{\rVert}
% \renewcommand{\norm}[1]{\left\lvert#1\right\rvert}
% \newcommand{\Norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\pftime}{t}
\newcommand{\planeC}{S}
\newcommand{\planeP}{L}
\newcommand{\xbf}{\mathbf{x}}
\newcommand{\xp}{\mathbf{x}_p} 
\newcommand{\xl}{\mathbf{x}_l} %laser, illuminated point
\newcommand{\xlG}{\xl^G} %Mirror reflection of \xl over plane G
\newcommand{\xlM}{\xl^M} %Mirror reflection of \xl over plane M
\newcommand{\xlGM}{\xl^{GM}} %Mirror reflection of \xlG over plane M
\newcommand{\xlMG}{\xl^{MG}} %Mirror reflection of \xlM over plane G
\newcommand{\xlp}{\xl^\prime} %laser, illuminated point
\newcommand{\xlpp}{\xl^{\prime\prime}} %laser, illuminated point
\newcommand{\vvec}{\vec{\mathbf{v}}}
\newcommand{\dxp}{\diff \xp}
\newcommand{\xc}{\mathbf{x}_c}
\newcommand{\dxc}{\diff \xc}
\newcommand*\laplace{\mathop{}\!\mathcal{4}}

\newcommand{\xr}{\mathbf{x}_r}
\newcommand{\xv}{\mathbf{x}_v}
\newcommand{\xw}{\mathbf{x}_w}
% \newcommand{\xbf}{\mathbf{x}}
\newcommand{\xa}{\mathbf{x}_a}
\newcommand{\xb}{\mathbf{x}_b}
\newcommand{\xm}{\mathbf{x}_m}
\newcommand{\xmbar}{\overline{\mathbf{x}}_m}
\newcommand{\nonEmpty}{\Gamma}
\newcommand{\maskNonEmpty}{\textbf{m}_{\nonEmpty}}
\newcommand{\phasor}{\mathcal{P}}
\newcommand{\Pf}{\Fspace{\phasor}}
\newcommand{\pfIllumination}{\Fspace{I}}
\newcommand{\Pt}{{\phasor}}
\newcommand{\ptIllumination}{I}
\newcommand{\gating}{\mathbf{G}}
\newcommand{\dist}{\mathbf{D}}
\newcommand{\distf}[1]{\dist\left(#1\right)}
\newcommand{\gatingf}[1]{\gating\left(#1\right)}
\newcommand{\phasorf}[1]{\phasor\left(#1\right)}
\newcommand{\phasorwf}[1]{\phasor_{\pfFreq}\!\left(#1\right)}
\newcommand{\phasorxt}{\phasorf{\x, \pftime}}
\newcommand{\phasorwxt}{\phasorwf{\x, \pftime}}
\newcommand{\phasorxpt}{\phasorf{\xp, \pftime}}
\newcommand{\phasorwxpt}{\phasorwf{\xp, \pftime}}
\newcommand{\phasorxct}{\phasorf{\xc, \pftime}}
\newcommand{\phasorwxct}{\phasorwf{\xc, \pftime}}
\newcommand{\pfImagingModel}{\Phi}
\newcommand{\ROI}{V}
\newcommand{\pfImage}{I}
\newcommand{\pfImageof}[2]{\pfImage_{#1}\left(#2\right)}
\newcommand{\pfImpulse}{\stransportMatrixTransient}
\newcommand{\pfImpulseFun}{\pfImpulse\left(\xp,\xc,\pftime\right)}
\newcommand{\tof}{\textbf{\pftime}}
\newcommand{\dtof}[1]{\textbf{\pftime}_d\left(#1\right)}
\newcommand{\pfThinLens}{\mathcal{L}}
\newcommand{\pfThinLensFun}[2]{\pfThinLens_{#1}\!\left(#2\right)}
\newcommand{\pfFreq}{\omega}
\newcommand{\ff}{\Fspace{f}}
\newcommand{\fftc}{\Fspace{f}_{\textrm{tc}}}
\newcommand{\ffcc}{\Fspace{f}_{\textrm{cc}}}
\newcommand{\ffss}{\Fspace{f}_{\textrm{ss}}}
\newcommand{\ftc}{f_{\textrm{tc}}}
\newcommand{\fcc}{f_{\textrm{cc}}}
\newcommand{\fss}{f_{\textrm{ss}}}
\newcommand{\fbp}{f_{\textrm{bp}}}
% Other
\newcommand{\pathseq}[1]{\left\langle#1\right\rangle}

\newcommand{\lM}{M}
\newcommand{\lMp}{M^{\prime}} % M reflected over G
\newcommand{\lMG}{M^{G}} % M reflected over G
\newcommand{\lR}{R}
\newcommand{\lRp}{R^{\prime}}
\newcommand{\lG}{G}
\newcommand{\lGp}{G^{\prime}}
\newcommand{\lL}{\mathcal{L}}
\newcommand{\lS}{\mathcal{S}}
\newcommand{\lSp}{\mathcal{S}^{\prime}}
\newcommand{\lSpp}{\mathcal{S}^{\prime \prime}}
\newcommand{\lV}{\mathcal{V}}
\newcommand{\lW}{\mathcal{W}}
\newcommand{\xg}{\textbf{c}_\lG} 
\newcommand{\normalg}{\textbf{n}_\lG} 

\newcommand{\fM}{\droyo{REPLACE ME}}
\newcommand{\ffM}{\droyo{REPLACE ME}}
\newcommand{\ftcM}{f_{\textrm{tc\lM}}}
\newcommand{\fftcM}{\Fspace{f}_{tc\textrm{\lM}}}
\newcommand{\fccM}{f_{\textrm{cc\lM}}}
\newcommand{\ffccM}{\Fspace{f}_{cc\textrm{\lM}}}