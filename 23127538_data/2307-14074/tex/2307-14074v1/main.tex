%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Template for USENIX papers.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[letterpaper,twocolumn,10pt]{article}
\usepackage{usenix2019_v3}
\usepackage{tikz}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{xspace}
\usepackage{breakurl}
\usepackage{url}
\usepackage{multirow}
\usepackage{pifont}% http://ctan.org/pkg/pifont
\usepackage{caption}
\usepackage{subfigure}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{xcolor}
\usepackage{booktabs}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,linkcolor=black,citecolor=red
}

\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\newcommand{\paraspace}{\vspace{0.04in}}
\newcommand{\parab}[1]{\paraspace\noindent{\bf #1} }
\newcommand{\todo}[1]{\textcolor{red}{(todo)#1}}
\newcommand{\add}{\textcolor{blue}}
\newcommand{\modify}{\textcolor{blue}}
\newcommand{\red}{\textcolor{red}}
\newcommand{\blue}{\textcolor{blue}}
\newcommand{\del}{\textcolor{gray}}
\newcommand{\etal}{\textit{et al}.\xspace}
\newcommand{\etc}{\textit{etc}.\xspace}
\newcommand{\ie}{\textit{i}.\textit{e}.\xspace}
\newcommand{\eg}{\textit{e}.\textit{g}.\xspace}
\newcommand{\aka}{\textit{a}.\textit{k}.\textit{a}.\xspace}

\newcommand{\sys}{Gleam\xspace}
\newcommand{\rdverb}{\textit{verb}\xspace}
\newcommand{\rdverbs}{\textit{verbs}\xspace}
\newcommand{\rdread}{READ\xspace}
\newcommand{\rdwrite}{WRITE\xspace}
\newcommand{\rdatomic}{\textsf{atomic}\xspace}
\newcommand{\rdsend}{SEND\xspace}
\newcommand{\rdreceive}{RECEIVE\xspace}
\newcommand{\rdwqe}{WQE\xspace}
\newcommand{\lkey}{\textit{L\_key}\xspace}
\newcommand{\rkey}{\textit{R\_key}\xspace}
\newcommand{\rdcqe}{CQE\xspace}
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
            \node[shape=circle,draw,inner sep=0.1pt] (char) {#1};}}
\newcommand{\romannumerber}[1] {\romannumeral #1}
\newcommand{\envelope}{\textit{envelope}\xspace}
\newcommand{\mpibcast}{$MPI\_Bcast$\xspace}

%--------------------------------------------------------------
\begin{document}
%--------------------------------------------------------------

%don't want date printed
\date{}

% make title bold and 14 pt font (Latex default is non-bold, 16 pt)
\title{Gleam: An RDMA-accelerated Multicast Protocol for Datacenter Networks}

%for single author (just remove % characters)
%\author{{\textit{Paper ID: \# 201}}} % end author

\author{
\rm Wenxue Li$^{1}$\thanks{Co-first authors.}~~~
\rm Junyi Zhang$^{2*}$~~~
\rm Gaoxiong Zeng$^{2}$~~~
\rm Yufei Liu$^{2}$~~~
\rm Zilong Wang$^{1}$~~~\\
\rm Chaoliang Zeng$^{1}$~~~
\rm Pengpeng Zhou$^{2}$~~~
\rm Qiaoling Wang$^{2}$~~~
\rm Kai Chen$^{1}$~~~\\
\\
$^1$Hong Kong University of Science and Technology~~~~
}

%\author{
%\rm Wenxue Li$^{1}$\thanks{Co-first authors.}~~~
%\rm Junyi Zhang$^{2*}$~~~
%\rm Gaoxiong Zeng$^{2}$~~~
%\rm Yufei Liu$^{2}$~~~
%\rm Zilong Wang$^{1}$~~~\\
%\rm Chaoliang Zeng$^{1}$~~~
%\rm Pengpeng Zhou$^{2}$~~~
%\rm Qiaoling Wang$^{2}$~~~
%\rm Kai Chen$^{1}$~~~\\
%\\
%$^1$Hong Kong University of Science and Technology~~~~
%$^2$Huawei~~~~
%}

\maketitle
%--------------------------------------------------------------
\begin{abstract}
%--------------------------------------------------------------
RDMA has been widely adopted for high-speed datacenter networks. However, native RDMA merely supports one-to-one reliable connection, which mismatches various applications with group communication patterns (\eg, one-to-many). While there are some multicast enhancements to address it, they all fail to simultaneously achieve optimal multicast forwarding and fully unleash the distinguished RDMA capabilities. 

In this paper, we present Gleam, an RDMA-accelerated multicast protocol that simultaneously supports optimal multicast forwarding, efficient utilization of the prominent RDMA capabilities, and compatibility with the commodity RNICs. At its core, Gleam re-purposes the existing RDMA RC logic with careful switch coordination as an efficient multicast transport. Gleam performs the one-to-many connection maintenance and many-to-one feedback aggregation, based on an extended multicast forwarding table structure, to achieve integration between standard RC logic and in-fabric multicast. We implement a fully functional Gleam prototype. With extensive testbed experiments and simulations, we demonstrate Gleam's significant improvement in accelerating multicast communication of realistic applications. For instance, Gleam achieves 2.9$\times$ lower communication time of an HPC benchmark application and 2.7$\times$ higher data replication throughput.
%with a programmable switch platform and commodity RNICs
\end{abstract}

\input{sections/introduction}
\input{sections/background}
\input{sections/design}
\input{sections/implementation}
\input{sections/evaluation}
%\input{sections/discussion}
\input{sections/relatedworks}

%-----------------------------------------------------------------------
\section{Conclusion}
%-----------------------------------------------------------------------
We present \sys, an RDMA-accelerated multicast protocol that significantly facilitates multicast communication while maintaining compatibility with commodity RNICs. \sys reuses existing RDMA RC transport to process multicast traffic, thus preserving the optimal bandwidth utilization and benefiting from superior RDMA functionality. \sys replaces packet headers and aggregates feedback in the fabric to remain compatible between existing RC logic and multicast traffic. We provide a fully functional \sys prototype, which requires no RNIC modification. Extensive testbed experiments and simulations demonstrate \sys's superior performance in multicast acceleration.

\sys opens the door for efficiently leveraging the prominent RDMA stacks with in-fabric assistance to accelerate group communication patterns. While this work mainly focuses on multicast; for future works, we plan to extend \sys for more group communication patterns, such as many-to-one (\eg, $MPI\_Reduce$) and many-to-many (\eg, $MPI\_Alltoall$), \etc

%-----------------------------------------------------------------------
%\section*{Acknowledgments}

%-----------------------------------------------------------------------
%-----------------------------------------------------------------------
\bibliographystyle{plain}
\bibliography{main.bib}

\input{sections/appendix}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%  LocalWords:  endnotes includegraphics fread ptr nobj noindent
%%  LocalWords:  pdflatex acks