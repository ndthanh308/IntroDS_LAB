\section{TODOs}

\begin{enumerate}
    \item \textcolor{red}{\bf CONCUR'23 Abstract Deadline: April 24 AoE, 2023}
    \item \textcolor{red}{\bf CONCUR'23 Submission Deadline: May 2 AoE, 2023}
    \item CONCUR'23 has 14 page limit, excluding references
    \item Title suggestions:
    \begin{enumerate}
        \item Dimension Prime Vector Addition Systems
        \item Dimension Prime Vector Addition Systems with States
        \item Labelled Vector Addition Systems Dimension Primality
        \item Dimension Minimization and Primality of Counter Nets
        \shtodo{I think (like Henry mentioned a while back, I think) that we should call these things ``Counter Nets''. We should obviously add sufficient VASS keywords to attract the reviewers.}
    \end{enumerate}
    \item Can we change the lemma/theorem numbering to be section based like Theorem 1.1, Theorem 1.2, Claim 1.3, Lemma 2.1, Proposition 2.2, ...? (are we allowed to do this?)
\end{enumerate}

\subsection{Recap of what we have}
I want to see if we can get some decidability results to complement our main undecidability proofs.
In the following, VASS is nondeterministic and DVASS is deterministic, similarly VAS and DVAS are single-state VASS.
Please help fill the following list. 
\begin{enumerate}
    \item Primality of $k$-VASS: undecidable, even from $2$-VASS to $1$-VASS.
    \item Dimension minimization of $k$-VASS: undecidable (already for dimension 2?) \aytodo{That's right}
    \item Dimension minimization of $k$-DVASS? \aytodo{Regularity of 1-VASS (not necessarily deterministic) is decidable if all states are accepting - based on results about Petri Nets.}
    \shtodo{I think we can show that this is decidable using similar arguments to those of $1$-DVASS, only replacing the single number with unbounded vectors. Unboundedness is knwon to be decidable for VASS (without alphabet). For the negative cycle we only need one coordinate to be negative.}
    \shtodo{Question: we can split a $k$-DVASS to an intersection of $k$ 1-DVASSes. Clearly if the languages of all the respective $1$-DVASSes are regular, then the language of the $k$-DVASS is regular. What about the converse? Do we have an example where the language of a $k$-DVASS is regular, but some of the 1-VASSes in the intersection are not? \\ 
    Answer: yes, of course. We can have a 2-DVASS where in one component requires the number of $a$'s to be bigger than the number  of $b$'s and another that does the reverse condition. Then the language is empty.}
    \hstodo{DVASS regularity is decidable: Section~\ref{sec:dvass-regularity}.}
    \item Dimension minimization of $1$-DVASS i.e., Regularity of $1$-DVASS: I have a conjecture: 
    
    Consider a $1$-DVASS $\cD$. An \emph{up-down structure}  in $\cD$ consists of 4 states $q,p,r,s$ where $q\in Q_0, s\in F$ and the following holds: $q\runsto{x}p\runsto{y}p\runsto{z}r\runsto{u}r\runsto{v}s$, where the cycle on $y$ is positive and the cycle on $s$ is negative.
    \begin{conjecture}
        $L(\cD)$ is regular iff $\cD$ has no up-down structure.
    \end{conjecture}
    \begin{proof}[Proof Idea:]
        If there is an up-down structure, then if there is an equivalent DFA, we can show that $xy^kzu^tv$ is accepted for some fixed $k$ with arbitrarily large $t$, which shouldn't be accepted.

        Conversely, if there is no up-down structure, then from every positive cycle we cannot reach a negative cycle, so we don't have to track the counter beyond some fixed value. Then, we can construct an equivalent DFA.
    \end{proof}
    \shtodo{Please check the above.}
    \aytodo{I agree 100\%. In addition - I think that the "some fixed value" above which there is no need to track the counter is the maximum between: 1. The largest counter necessary to travel anywhere without traversing negative cycles. 2. The maximum counter that can be accumulated without traversing positive cycles. Proof that this bound is enough - any accepting run either does not traverse a positive cycle or does not traverse a negative cycle afterwards. (1) is enough to capture the latter case, and (2) captures the former.}
    \item Primality of $k$-DVASS to intersection of $k$ 1-DVASSes: always possible by projections.
    \hstodo{Proposition~\ref{pro:dvass-projection}}
    \item Primality of $k$-DVASS to $k'$ 1-DVASSes for $k'<k$: equivalent to asking if there's an equivalent $k'$-DVASS, so dimension minimization - we don't know if it's decidable.
    \hstodo{Figure~\ref{fig:2dvass-with-1dvass-language} is an example of a 2-DVASS which recognises a 1-DVASS language, but this is not obtained by just projecting the counters, I called this example ``artificial'' in the last Zoom meeting.}
    \hstodo{Figure~\ref{fig:2dvass-with-0dvass-language} is an example of a 2-DVASS which recognises a regular language. This language is not the language that is obtained by removing/projecting away both counters, see Figure~\ref{fig:0dvass-with-0dvass-language} for the smallest DFA recognising the language. The language in question is some prefix-bounded version of a 2-DVASS language that cannot be recognised by a 1-DVASS (Figure~\ref{fig:2dvass-with-2dvass-language})}.
    \item Primality of $k$-DVASS to $k'$ 1-VASSes for $k'<k$: equivalent to asking if there's an equivalent $k'$-VASS, so dimension minimization - we don't know if it's decidable.
    \item Example of a $k$-DVASS that has an equivalent $k'$-VASS for $k'<k$, but not an equivalent $k'$-DVASS -- do we have such an example? (i.e., nondeterminism can be used for dimension reduction). \aytodo{Yes, Henry's first example in section 3 \henry{Claim~\ref{clm:2dvass-1vass}}}
    \item Example of a $k$-VAS that does not have an equivalent $k'$-DVAS? (not entirely related, but curious)
    \hstodo{False for $k=1$, see Claim~\ref{clm:1vas-are-1dvas}. 
    Example for $k=2$ holding for all $k'\in \N$, see Claim~\ref{clm:2vas-is-non-deterministic}.}
\item Example of a $k$-DVAS that does not have an equivalent $k'$-DVAS?
\shtodo{YES: $a/(1,1),b/(-1,1),c/(1,-1)$.}
\hstodo{Slightly generalisation to dimension three: $\set{ \#/(1, 1, 1), a/(1, 0, -1), b/(-1, 1, 0), c(0, -1, 1) }$. I can't find a ``neat'' argument for why this is not factorisable.}
\hstodo{Note: you can always project $k$-DVAS to $k$ many 1-DVAS, same reason for DVASS, you can also see this as the single-state special case.}
    
    \item Example of a $k$-VAS that is not prime? \henry{do you mean prime or non-prime?} (the only non-prime example we have is a VASS, can we make it into a VASS by increasing dimension?)
    \hstodo{{\bf not prime:} I can give non-prime examples really easily.
    Consider $\set{ a/(1,1), b/(-1, -1) }$ -- you can just project down to a 1-VAS, so is not prime. 
    Consider $\set{ a/(1,1), b/(-1,1), c/(1, -1)}$ -- you can just project down to each component, then intersect the two 1-DVAS together.}
    \hstodo{{\bf prime:} The 2-VAS that is ``strictly non-deterministic'' is dimension prime, see Claim~\ref{clm:prime-2vas}.
    There's couple of `hstodo' boxes below that claim discussing this a little further.}
    \shtodo{I meant prime, of course. Nice example.}
    \item Example of a $k$-VAS that has an equivalent $k'$-VAS for $k'<k$, but that obtaining the $k'$-DVAS is not by ``throwing away'' a dimension: take the 2-VAS $a/ (1,1),\ b/(-1,0),\ b/(0,-1)$: you charge both counters on $a$, and then reduce either one on $b$. This can be captured with the 1-VAS $a/(2), b/(-1)$.
    \item Example of a $k$-DVAS that has an equivalent $k'$-DVAS for $k'<k$, but that obtaining the $k'$-DVAS is not by ``throwing away'' a dimension?
    \item Can we decide dimension minimization for DVAS to VAS (or to VASS)? 
    \item Can we decide dimension minimization for DVAS to DVAS (or to DVASS)? 
    \hstodo{Based on Section~\ref{sec:dvass-regularity}, I think DVAS dimension minimsation and DVASS dimension minimsation are going to be about as bad as each other.}
\end{enumerate}

\subsection{old conversation}

\shtodo{Dimension minimization for DVASS}
\shtodo{Primality for DVASS}
\aytodo{Isn't this one trivial? The language of a D-VASS is always the intersection of languages of 1-VASSes (through counter projection), isn't it?}
\shtodo{$\uparrow$ Not if you ask for a smaller number of automata than the dimension. But then it's equivalent to dimension minimization.}
\shtodo{Add corollary - you can't have a general algorithm that always decreases dimension by 1.}
\shtodo{If we minimize dimension to 0, this is essentially regularity. Do we know anything about regularity? For DVASS? For VASS?}
\shtodo{Is dimension minimization for DVASS undecidable?}
\shtodo{Check this paper for regularity questions: Petri Nets and Regular Languages}
% \aytodo{Very interesting paper. If I understand correctly the relation between VASS and Petri nets (k-VASS = Petri Net of the same structure, but with extra k unbounded places to store tokens for each counter), then we get decidability of k-VASS regularity - Threorem 5. If a language of a k-VASS is regular we also get an effect construction of an equivalent DFA - Theorem 7. The paper also proves that Petri net language regularity is undecidable if we allow acceptance to be only for a specific set of configurations, which is interesting.}
\hstodo{interesting indeed, I also came round to the fact that we need to at least be able to decide k-DVASS regularity if we want to try to do dimension minimsation of k-DVASS. Thanks for digging into this paper Asaf, seems the next question is whether given a $k$-DVASS (maybe just $k=2$ is interesting enough for now), is it decidable to test whether its language is recognised by some 1-DVASS?}
\shtodo{Based on Henry's example (\henry{Figure~\ref{fig:2dvass-with-0dvass-language} and Figure~\ref{fig:2dvass-with-1dvass-language}}): conjecture 1: if a $k$-DVASS has a bounded counter, then we can reduce dimension by tracking the counter in the states.}
\shtodo{Based on Henry's example: conjecture 2: if a $k$-DVASS admits dimension reduction, then it has a bounded counter. Obviously not, since we can just have counters growing.  Maybe bounded reversal? \henry{Maybe we need to detect `downwards' pumping}}
\shtodo{Can we decide if a certain counter is bounded? Check this paper: https://arxiv.org/pdf/1011.0217.pdf}
\aytodo{Thanks Henry for the ideas. About your points Shaull - I thought about it pretty deeply, and I believe that the idea of dimension minimization is much deeper than counter boundedness. For example - take any legitimate 1-VASS that counts something and add a second counter the mimics the first counter exactly. Obviously nothing is bounded here, but the second counter can be dismissed. This arguments is correct every time a counter is a "weaker" copy of another counter. For example - counter 1 gains +1 for a's and -1 for b's, while counter 2 gains +2 for a's and -1 for b's. The second counter does nothing because it is a "weaker copy" of the first counter. This doesn't seem to me easy to check. In fact, I don't even know how this can be checked for a k-DVASS that is comprised of a single linear path scheme and nothing else.}
\hstodo{(response to Asaf's comment above): in your ``mirroring'' example: projection deals with this,no? Somehow if two counters ``play the same role'' then I'm guessing you can detect this with projection.}
\aytodo{You're right, projection does cover this idea. In any case - I still claim that counter minimization for DVASS may be a a really tricky problem}