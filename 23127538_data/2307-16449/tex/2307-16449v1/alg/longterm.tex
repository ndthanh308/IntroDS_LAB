\begin{algorithm}[t]
\caption{Memory consolidation}\label{alg:longterm}
\begin{algorithmic}[1]
\Require $\mathcal{S}$ \Comment{short-term memory}
\While{$len(\mathcal{S}) \textgreater N$} \Comment{iterative merge}
\For{$\mathbf{x}_{i}$ in $\mathcal{S}$}
\State $s \gets sim(\mathbf{x}_{i}, \mathbf{x}_{i+1})$ \Comment{tokens similarity}
\EndFor
\State $m \gets max(s)$ \Comment{the maximum value index}
\State $\mathbf{x}_{m} \gets merge (\mathbf{x}_{m},\mathbf{x}_{m+1})$ \Comment{merge}
\State \textbf{del} $\mathbf{x}_{m+1}$
\EndWhile
\end{algorithmic}
\end{algorithm}
