%Preamble

% Load Packages
\usepackage[utf8]{inputenc}
\usepackage{textgreek}
\usepackage[colorlinks,unicode]{hyperref}
\usepackage{xspace}
\usepackage{float}
\usepackage{appendix}
\usepackage{tikz}
\usepackage{pgfplots}\pgfplotsset{compat=1.18}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{braket}
\usepackage{mathtools}
\usepackage{siunitx}
\usepackage{enumitem}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{array}
\usepackage{booktabs}
\usepackage{cleveref}
\usepackage{comment}
\usepackage{orcidlink}
\usepackage{doi}
\usepackage{color}


% Hyperref colours
\hypersetup{
    linkcolor=blue
    ,citecolor=blue
    %,filecolor=
    ,urlcolor=blue
    %,menucolor=
    %,runcolor=
    %,linkbordercolor=
    %,citebordercolor=
    %,filebordercolor=
    %,urlbordercolor=
    %,menubordercolor=
    %,runbordercolor=
}

% Load commutative diagrams library
\usetikzlibrary{cd}

% Enumerate
\setlist[enumerate,1]{label={(\arabic*)}}

% Algorithm
\newcommand\StateX{\Statex\hspace{\algorithmicindent}}
\makeatletter
\newcounter{algorithmicH}% New algorithmic-like hyperref counter
\let\oldalgorithmic\algorithmic
\renewcommand{\algorithmic}{%
    \stepcounter{algorithmicH}% Step counter
    \oldalgorithmic}% Do what was always done with algorithmic environment
\renewcommand{\theHALG@line}{ALG@line.\thealgorithmicH.\arabic{ALG@line}}
\makeatother

% Allow page breaks in align
\allowdisplaybreaks

% Create Theorem environment
\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
\newtheorem{lem}[thm]{Lemma}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{hyp}[thm]{Hypothesis}
\newtheorem{ass}[thm]{Assumption}
\newtheorem{defn}[thm]{Definition}
\theoremstyle{definition}
\newtheorem{rem}[thm]{Remark}
\newtheorem{ex}[thm]{Example}
\theoremstyle{plain}

\crefname{thm}{theorem}{theorems}
\Crefname{thm}{Theorem}{Theorems}
\crefname{defn}{definition}{definitions}
\Crefname{defn}{Definition}{Definitions}
\crefname{prop}{proposition}{propositions}
\Crefname{prop}{Proposition}{Propositions}
\crefname{lem}{lemma}{lemmas}
\Crefname{lem}{Lemma}{Lemmas}
\crefname{cor}{corollary}{corollaries}
\Crefname{cor}{Corollary}{Corollaries}
\crefname{ex}{example}{examples}
\Crefname{ex}{Example}{Examples}
\crefname{rem}{remark}{remarks}
\Crefname{rem}{Remark}{Remarks}
\crefname{hyp}{hypothesis}{hypotheses}
\Crefname{hyp}{Hypothesis}{Hypotheses}

% Alignement in substack
\makeatletter
\newcommand{\subalign}[1]{%
    \vcenter{%
        \Let@ \restore@math@cr \default@tag
        \baselineskip\fontdimen10 \scriptfont\tw@
        \advance\baselineskip\fontdimen12 \scriptfont\tw@
        \lineskip\thr@@\fontdimen8 \scriptfont\thr@@
        \lineskiplimit\lineskip
        \ialign{\hfil$\m@th\scriptstyle##$&$\m@th\scriptstyle{}##$\hfil\crcr
            #1\crcr
        }%
    }%
}
\makeatother
