% --- Packages ---

\usepackage{hyperref}
\usepackage{geometry}  % page geometry
% \usepackage{amssymb} 
\usepackage{amsbsy}  % maths symbols
\usepackage{mathtools}  % misc maths enhancements and tools
\usepackage{isomath}  % capital Greek -> italic + mathbfit mathsfit mathsbfit
\usepackage{xfrac}  % compact inline fractions
\usepackage{xspace}  % smart space character
\usepackage{float}  % floating environments
\usepackage{graphicx}  % enhanced graphics support
\usepackage{subcaption}  % sub-figure environment
\usepackage{natbib}  % extended citation commands + bib styling
\usepackage[capitalise]{cleveref}  % smart cross-references [always capitalise]
\usepackage{appendix}  % appendix
\usepackage{enumitem}  % customisable enumerate environment
\usepackage{multicol}  % multiple column environment
\usepackage[noend]{algpseudocode}  % pseudo-code commands [hide end statements]
\usepackage{algorithm}  % algorithm float environment 
\usepackage{acro}  % automatic acronyms
\usepackage{xr}  % cross referencing between documents
\usepackage{bm} % bold greek symbols in maths
\usepackage{tabularx}  % more flexible tabular environment
\usepackage{etoolbox}  % tools for macros
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{chngcntr}
\usepackage{apptools}
\usepackage{amsfonts}
\usepackage{mathrsfs}
\usepackage{amsmath} %,amsthm
\usepackage{amsthm}
\usepackage{xcolor}
% \usepackage{authblk}
\usepackage{comment}
\AtAppendix{\counterwithin{lemma}{section}}

% --- Setup and definitions ---

% colour all hyperlinks in blue
\hypersetup{colorlinks=true, allcolors=blue}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}
\newtheorem*{definition}{Definition}
\newtheorem*{assump}{Assumption} 
\newtheorem{remark}{Remark}
\newtheorem{step}{Step}
\newtheorem{cor}{Corollary}
\newtheorem{ex}{Example}

\newcommand{\Cov}{\mathop {\rm Cov}}
\newcommand{\Var}{\mathop {\rm Var}}
\newcommand{\const }{\mathop {\rm const }}
\newcommand{\1}{\mbox{1}\hspace{-0.25em}\mbox{l}}
\newcommand{\trueparam}{\theta^\dagger}
\newcommand{\truebeta}{\beta^\dagger}
\newcommand{\truesigma}{\sigma^\dagger}
\newcommand{\truegamma}{\gamma^\dagger}
\newcommand{\trueE}{\mathbb{E}_{\trueparam}}
\newcommand{\truedist}{\nu_{\trueparam}}
\newcommand{\est}{\hat{\theta}_n}
\newcommand{\estgamma}{\hat{\gamma}_n}
\newcommand{\f}{\frac}
\newcommand{\mrm}{\mathrm} 
\newcommand{\mbf}{\mathbf}  
\newcommand{\limit}{$n \to \infty$, $\Delta_n \to 0$ and $n \Delta_n \to \infty$} 
\newcommand*{\filtration}[1]{\mathcal{F}_{t_{#1}}} 
\newcommand*{\sample}[1]{X_{{#1}}}
\newcommand*{\E}[1]{\mathbb{E}_{#1}}
\newcommand*{\hermite}[1]{\mathcal{H}_{#1}(\Delta, \sample{X}{i-1}, \sample{X}{i}; \trueparam)}
\newcommand*{\ellterm}[1]{\frac{(X_{t_i}^{#1} - r_{i-1}^{#1} (\Delta; \truebeta)) }{\sqrt{\Delta}}}
\newcommand*{\hypoterm}[1]{\frac{(X_{t_i}^{#1} - r_{i-1}^{#1} ( \Delta; \trueparam)  )}{\sqrt{\Delta^3}}}
\newcommand*{\invSigma}[2]{\hat{\Sigma}^{-1}_{#1 #2} (\sample{X}{i-1}; \gamma, \sigma^\ast)}
\newcommand*{\invSig}[4] {\hat{\Sigma}^{-1}_{#1 #2} (#3; #4)}
\newcommand*{\Gone}[1]{\mathcal{G}_{#1}^{(1)} (\sample{X}{i-1}; \gamma, \sigma^\ast)}
\newcommand*{\Gtwo}[1]{\mathcal{G}_{#1}^{(2)} (\sample{X}{i-1}; \theta^\ast)}
\newcommand*{\Gthree}[1]{\mathcal{G}_{#1}^{(3)} (\sample{X}{i-1}; \theta^\ast)}
\newcommand*{\G}[1]{\mathcal{G}_{#1}^{} (\sample{X}{i-1}; \theta^\ast)}
\newcommand*{\contrast}[1]{\ell_{n, \Delta}(#1)}
\newcommand*{\contrastG}[1]{\ell_{n, \Delta}^{(1)}(#1)}
\newcommand*{\contrastW}[1]{\ell_{n, \Delta}^{(2)}(#1)}
\newcommand{\probconv}{\xrightarrow{\mathbb{P}_{\trueparam}}}
\newcommand{\distconv}{\xrightarrow{\mathcal{L}_{\trueparam}}}
\newcommand*{\deriv}[2] {\partial_{#1_{#2}}}
\providecommand{\keywords}[1]{\textit{Keywords:} #1}
\everymath {\displaystyle}

\newcommand{\ruby}[2]{
\leavevmode
\setbox0=\hbox{#1}
\setbox1=\hbox{\tiny #2}
\ifdim\wd0>\wd1 \dimen0=\wd0 \else \dimen0=\wd1 \fi
\hbox{
\kanjiskip=0pt plus 2fil
\xkanjiskip=0pt plus 2fil
\vbox{
\hbox to \dimen0{
\small \hfil#2\hfil}
\nointerlineskip
\hbox to \dimen0{\mathstrut\hfil#1\hfil}}}}
\allowdisplaybreaks[1]

\def\qedsymbol{$\blacksquare$}
\renewcommand{\thefootnote }{\fnsymbol{footnote}}
\renewcommand{\refname }{References}
\renewcommand{\theenumi}{{C\arabic{enumi}}}
\renewcommand{\labelenumi}{(\theenumi)}
\newtheorem{condition}{Condition}
\renewcommand{\thecondition}{{(H)}}


 