\beginsupplement
\begin{refsection}

\section{Pseudocode Example of Cumulative Disruption Algorithm} \label{sec:psuedocode}

For readers seeking a succinct code-like description of our cumulative disruption curve algorithm, we have included \cref{lst:psuedocode}.

\begin{lstlisting}[label=lst:psuedocode, language=Python, caption=Pseudocode for disruption algorithm]
disruption = []
for c in communities:
    remaining = 0
    original = 0
    removeCommunity(c)
    for user in users:
        if degree(user) > 0:
            remaining += degree(user)
            original += originalDegree(user)
    disruption += [1 - (remaining / original)]
\end{lstlisting}

Note that when calculating disruption on large networks, it is much more efficient to cache the size of the smallest community that each user participates in. We can then sort all users by the order in which they will be removed, and avoid computationally expensive references to a graph or adjacency matrix for each removal-step in the algorithm.

\section{Applications to Unipartite Networks} \label{sec:unipartite}

Our influence metric is intended for settings with clearly defined communities. For example, participation in subreddits, membership on a Mastodon server, or committing to a software code repository, all discretely identify users as members of those explicitly-bounded groups. However, network data is often presented in a unipartite configuration such as users following other users. If it is still desirable to delineate communities and measure their influence in these settings, then they can be converted into compatible bipartite networks using the following procedure:

\begin{enumerate}
    \item Apply a context-appropriate community detection algorithm to label each user as belonging to one community

    \item Create a vertex for each community

    \item Replace all user-user edges with user-to-community edges, where the edge weight is equal to the number of unipartite edges each user had to other nodes in that community

    \item Apply our influence metric to the resulting bipartite graph
\end{enumerate}

An example of this procedure is illustrated in \cref{fig:unipartite}, using a unipartite Watts-Strogatz small-world network (100 nodes, 5 neighbors, rewiring probability of 5\%), and label-propagation for community detection. The unipartite graph is shown in the top-left with community labels visualized with color. It is converted to a bipartite representation shown in the upper-right, and the effect of removing each community is illustrated in the bottom frame.

% Figure environment removed






\section{Calculating the Area Under the Disruption Curve} \label{sec:auc_explanation}

For \cref{fig:real_networks_auc,fig:toy_networks_auc,fig:assortativity_auc} we use the area under the disruption curve as a single-variable summary of how centralized a network is around its largest communities. To calculate the AUC, we use a trapezoidal approximation in logarithmic space.

We chose a trapezoidal approximation to calculate the area even with limited sample points from real-world networks. Integration is possible for purely analytic disruption curve simulations as in \cref{sec:analytic_simulations}, but this is not feasible for our non-Erd\H{o}s-R\'{e}nyi networks, so we use a trapezoidal approximation for all synthetic networks for consistency.

We measure the AUC in logarithmic space, because measuring in linear space would heavily weight the influence of the smallest communities that are removed last, and our primary interest is in examining the influence of the largest communities on the broader population. 

\section{Synthetic Network Topology Details} \label{sec:toy_examples}

We measure centralization on a variety of synthetic networks introduced in \cref{sec:disruption_toy}. In this section, we include further description and visualization of the synthetic networks used.

Bipartite Near-Star networks are analogous to a unipartite star network with duplicate edges, but in a bipartite setting. Starting with a unipartite star, replace each edge from the hub to a leaf with a two-path from the hub community to a new ``user" vertex, to the leaf community. Duplicate edges from the unipartite hub to leaves are converted into multiple users that share a community, and serve to break ties when pruning communities for disruption curves. This is illustrated in \cref{fig:star}.

% Figure environment removed

For our ``Powerlaw" networks we follow a bipartite configuration model. We first create vertices representing the desired number of communities and users. We then draw from a powerlaw distribution with an assigned $\gamma$ exponent, and assign the drawn degree to each community. Then, we create a corresponding number of edges, wiring each community to users drawn uniformly at random without replacement. This yields networks where communities follow a powerlaw degree distribution, while users follow a normal degree distribution.

Bipartite community-user networks can be visualized in a flat plane, as in \cref{fig:centralization-pl}, or as a multi-layer graph, as in \cref{fig:pl-toy}. A multi-layer representation may be beneficial for representing inter-community relationships that are not explained by shared users, such as Mastodon federation agreements, or shared moderator staff in two subverses. However, these multiplex relationships were deemed out-of-scope for our current work.

% Figure environment removed




\begin{comment}
  #data structure for the dispersion metric
  D = np.zeros(nm)

  #calculate dispersion
  cumu_sum=0
  for n in np.arange(0,nm):
    cumu_sum += n*pn[n]
    #calculate U_n
    if pn[n]==0:
      continue
    Pnpm = Pnm[n,:]/np.sum(Pnm[n,:])
    U=0
    for m in np.arange(0,mm):
      if(np.sum(Pnm[:,m])>0):
        Pnmp = Pnm[:,m]/np.sum(Pnm[:,m])
        prob = np.sum(Pnmp[n:-1])
        U+=Pnpm[m]*prob**(m-1)
    D[n] = n*pn[n]*(1-U)/(cumu_sum-n*pn[n]*U)
\end{comment}

\section{Mathematical Analysis of Disruption in Random Networks} \label{sec:analytic_simulations}

We here calculate the disruption curves for random bipartite networks parameterized by their joint-degree distribution. This approach therefore fixes the distribution $\lbrace g_m \rbrace$ of communities $m$ per user, the distribution $\lbrace p_n \rbrace$ of community size $n$, and the joint-distribution $P_{n,m}$ for the degree of the node and community involved in a random bipartite link. Beyond these constraints, the networks are fully random but allow us to explore the role of heterogeneous connectivity at the user and community level as well as the impact of correlations between both levels.

We wish to calculate the disruption $D(n)$ involved when removing communities of size $n'<n$ in these random networks. By definition of the bipartite network, we know that $np_n$ edges are removed when removing communities of size $n$. Once again, we define disruption as the fraction of \textit{remaining} edges disrupted by communities of size $n$ during the pruning process. It is thus given by the number of edges that belong to communities of size $n$ minus the fraction $u_n$ of those that are the sole edge of the corresponding users (since these users are removed in the pruning) divided by the number of edges belonging to communities of size equal or smaller than $n$ minus the $u_nnp_n$ users removed. We write:

\vspace{2em}
\begin{equation}
    D(n) = \frac{
            \eqnmarkbox[NavyBlue]{bigedges}{np_n}
            -
            \eqnmarkbox[OliveGreen]{prunededges}{u_nnp_n}
        }{
            \eqnmarkbox[WildStrawberry]{remainingedges}{\sum_{n'\leq n}n'p_{n'}}
            -
            \eqnmarkbox[OliveGreen]{prunededges2}{u_nnp_n}
        } \; .
    % Here's Laurent's original expression
    %D(n) = \frac{np_n-u_nnp_n}{-u_nnp_n + \sum_{n'\leq n}n'p_{n'}} \; .
\end{equation}
\annotate[yshift=1em]{above,left}{bigedges}{Edges to comms. of size n}
\annotate[yshift=1em]{above,right}{prunededges}{Edges to removed users}
%\annotate[yshift=-1em]{below,right}{prunededges2}{Edges for removed users}
\annotate[yshift=-0.5em]{below}{remainingedges}{Edges to comms. n or smaller}
\vspace{2em}

The quantity $u_n$ can also be defined as the probability that a random user of a community of size $n$ has no community smaller than $n$. It can therefore be calculated like so:

\vspace{1em}
\begin{equation}
    u_n = \mathlarger{\sum}_m 
        \eqnmarkbox[NavyBlue]{users_in_n_with_m}{\frac{P_{n,m}}{\sum_{m'}P_{n,m'}}}
        \left(
            \eqnmarkbox[OliveGreen]{users_with_m_larger_than_n}{\frac{\sum_{n'\geq n} P_{n',m}}{\sum_{n'}P_{n',m}}}
        \right)^{m-1} \; .
    %u_n = \mathlarger{\sum}_m \frac{P_{n,m}}{\sum_{m'}P_{n,m}} \left(\frac{\sum_{n'\geq n} P_{n',m}}{\sum_{n'}P_{n',m}}\right)^{m-1} \; .
    \label{eq:un}
\end{equation}
\annotate[yshift=1em]{above,right}{users_in_n_with_m}{Fraction of users in comm. \\ \sffamily \footnotesize size n that have m edges}
\annotate[yshift=-0.5em]{below,left}{users_with_m_larger_than_n}{Fraction of users with m edges\\ \sffamily \footnotesize in comms. larger than size n}
\vspace{2.5em}

In the previous equation, we sum over every possible type of node in a community of size $n$, which will have a number of \textit{other} communities $m-1$ proportional to $P_{n,m}$, and ask for all of these communities to be larger or equal to $n$, which will be proportional to the sum of $P_{n',m}$ over all $n'$ larger or equal to $n$. Normalizing the probabilities appropriately yields Eq. (\ref{eq:un}) as written.

Note that these equations assume that edges are unweighted, and that there are no duplicate edges, which is what we expect from an infinite random simple graph. In our real-world data sets there are often duplicate edges (for example, one user following several different users on a Mastodon instance), which we compress to weighted edges for convenience.

Despite this difference between the analytical expression and real socio-technical networks, the analysis of random infinite graphs can be useful to test how disruption is impacted by simple network statistics such as degree distributions or correlations in the joint community-user degree matrix $P_{n,m}$. 

In a simple experiment, we create a random Erd\H{o}s-R\'{e}nyi-like bipartite network and correlated equivalent networks with the same degree distributions and variable community-user degree matrices $P_{n,m}$. The random network has a simple $P^{\textrm{rand}}_{n,m} \propto np_n mg_m$ (normalized) which we can modify manually. To do so, we calculate the maximally correlated $P^{\textrm{max}}_{n,m}$ by assigning users with highest degrees $m_{\textrm{max}}$ to the largest communities available before doing the same to users with the next higher degree and so on all the way down. We can do the same to calculate $P^{\textrm{min}}_{n,m}$ by assigning users with the lowest degree to the largest communities and working our way up in the user degree distribution. We can then create arbitrary community-user degree matrix $P_{n,m}$ by interpolating between linearly with $(1-\rho) P^{\textrm{rand}}_{n,m} + \rho P^{\textrm{max}}_{n,m}$ or $(1-\rho) P^{\textrm{rand}}_{n,m} + \rho P^{\textrm{min}}_{n,m}$.

Our results are shown in \cref{fig:assortivity_random_networks}. We find that positive user-community degree correlations increase disruption and therefore \textit{centralizes} the resulting socio-technical network. Conversely, negative correlations decreases correlations and \textit{decentralizes} the network. That being said, the relative effect of correlations is relatively small as the networks are still otherwise completely random.

% Figure environment removed

\section{Further Analysis of Assortativity} \label{sec:supplemental_assortativity}

There are multiple interpretations of degree assortativity in a bipartite setting. The linear correlation between user degrees and community degrees measures whether high-degree users are likely to be connected to high-degree communities. In our network definitions edges represent activity, like follow relationships or participation in conversations, so this measures whether active users are likely to be connected to communities with lots of activity. However, a second metric of interest is whether large communities are likely to be connected to other large communities, or in other words, the  assortativity of a unipartite-projected community-community graph. This can also be broken into two sub-cases: assortativity of community size (do communities with many users share users with other high-population communities), and assortativity of degree (do communities with lots of activity share users with other high-activity communities).

These three notions of assortativity are not independent; we might expect that users with lots of activity are active in communities with high populations, and may act as bridges between multiple communities with high activity and high population. However, the three metrics are not guaranteed to correlate and should be measured separately.

While rewiring to promote user-community degree assortativity, we also plotted the changes in community-community degree assortativity, shown in \cref{fig:assortivity_user_vs_community}. Strikingly, the community assortativity \textit{decreases} as we rewire to promote user assortativity. This is because as we rewire edges to focus user connections on the largest communities we implicitly decrease the number of edges between communities. This also matches the changes in disruption in \cref{fig:assortativity_auc}: increasing assortativity may reconnect large and insular communities with the rest of the network, briefly increasing their influence, but continued assortativity rewiring also cuts bridges to and between smaller communities, yielding a sparse network that is far less centralized.

% Figure environment removed

To further explore the relationship between these types of assortativity, we also rewired networks in the reverse direction: for randomly selected pairs of edges, we rewired those edges to \textit{decrease} user to community activity assortativity. We have plotted the change in disruption curves (\cref{fig:disassortative_auc}) and correlation between assortativity metrics (\cref{fig:disassortivity_user_vs_community}). In most networks, decreasing activity assortativity lowers centralization, although the effect diminishes as the network topology more closely approximates a random network. The one exception is the Penumbra; this network has such sparse inter-community connections that any perturbation of edges increases the cross-community links and therefore \textit{increases} centralization.

% Figure environment removed

% Figure environment removed

\section{Cumulative Impact on Giant Component Size} \label{sec:giant_components}

Some readers may be interested in how removing large communities influences the giant component size on each network. This is closely related to the cumulative population size in the top sub-plots of \cref{fig:real_networks_size_comparison} and \cref{fig:toy_networks_size_comparison}. Intuition suggests that the size of the giant component will be inversely proportional to the number of cumulative communities removed; as more large communities are pruned, the giant component should shrink. This relationship holds so long as the remaining communities are interlinked, but falters once a ``bridge" community is removed and the giant component splinters. Therefore, sparsely connected networks where bridges are more prominent will have a chaotic giant component size, while more densely connected networks will present a smooth curve until most communities are pruned. This relationship is illustrated in \cref{fig:real_giant_component}. Most curves are smooth until the tail of the distribution, with two notable exceptions: Voat's giant component changes once the largest insular communities are removed (see \cref{fig:voat_render}), and the Penumbra's curve is much ``spikier" as a result of its highly sparse structure.

% Figure environment removed

Measuring the change in giant component size captures some of the same features as our disruption metric. In particular, removing large insular communities may not change the giant component size if the community is completely isolated from the giant component, so this captures some aspect of both the size and topological role of a community. However, the impact of a community is boolean: if it touches the giant component, then removing the community will shrink the giant component by the size of that community. There is no distinction between a minimally integrated and tightly integrated community. Measuring the impact of a community in terms of fraction of edges severed, rather than component vertex size, offers finer insight into the interplay between size distribution and network structure.



\section{Comparison to Network Bottlenecking} \label{sec:cheeger}

The Cheeger number \cite{cheeger} is a single-valued metric representing how large of a ``bottleneck" inhibits conductance across a graph. It is typically written as:

\vspace{2em}
\begin{equation}
    h(G) = \min \left\{
        \frac{
                \eqnmarkbox[NavyBlue]{cheeger_crossedges}{|\partial A|}
            }{
                \eqnmarkbox[OliveGreen]{cheeger_alledges}{|A|}
            }
        : \eqnmarkbox[WildStrawberry]{cheeger_subset}{A \subseteq V(G)}, 
        \eqnmarkbox[Plum]{cheeger_bounds}{0 < |A| \leq \frac{1}{2} |V(G)|}
    \right\} 
\end{equation}
\annotate[yshift=1.2em]{above}{cheeger_crossedges}{Edges crossing the boundary of A}
\annotate[yshift=-0.2em]{below}{cheeger_alledges}{All edges in+across A}
\annotate[yshift=0.8em]{above}{cheeger_subset}{A is a subset of vertices of G}
\annotate[yshift=-2em]{below,left}{cheeger_bounds}{A contains at most half of all vertices}
\vspace{2em}

Our measurement of how much a community influences a larger population, and the Cheeger measurement of whether a community is a ``bottleneck" bear some conceptual similarities. Therefore, we compare our metric to the Cheeger number in two ways. First, we create a ``local Cheeger number," following an identical equation $\frac{|\partial A|}{|A|}$, but where $A$ is defined as the set of communities we are pruning, rather than via a global search. Second, we estimate bounds on the global Cheeger value of the graph. Since evaluating the graph conductance of all possible subsets of vertices is an NP-hard problem \cite{kaibel2004expansion}, it is impractical to directly measure the Cheeger constant on most large graphs. Fortunately, the Cheeger inequality offers upper and lower bounds on the Cheeger number based on the second eigenvalue of the normalized Laplacian of the adjacency matrix of G as follows:

$$\lambda_2/2 \leq h(G) \leq \sqrt{2\lambda_2}$$

Since they are sparse, these bounds can be calculated even on large real-world datasets. 
Unfortunately, in our tests the bounds are quite wide (see \cref{fig:cheeger}), limiting the utility of this approximation. We have plotted a comparison of the ``local" Cheeger number, bounds of the global Cheeger number, and our disruption metric, for a variety of simulated networks.

% Figure environment removed

\printbibliography[heading=subbibliography]
\end{refsection}
