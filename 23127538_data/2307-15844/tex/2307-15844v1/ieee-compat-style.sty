%% salt.sty v20180812
%% (c) 2018 Prannay Khosla (Indian Institute of Technology Kanpur)
%% 
%% Draws upon style elements from 
%% the style file for the course CS777 by Purushottam Kar
%% the style file for the course CS773 by Purushottam Kar
%% the style file for the course CS289 by Alexander Sherstov
%% the class file for the publication NOW FnT(R)-ML by Neal Parikh
%% the style file for the proceedings of the NIPS 2015 conference
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}	
\usepackage{csquotes}
\usepackage[T1]{fontenc}
% \usepackage{lmodern}
\usepackage{microtype}
\usepackage{amsmath,amsthm,amssymb}
\usepackage{stmaryrd}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{xspace}
\usepackage{framed}
\usepackage{float}
% \PassOptionsToPackage{hyphens}{url}\usepackage{hyperref}
% \usepackage[draft]{hyperref}
\usepackage{bbm}
\usepackage[pdftex,dvipsnames]{xcolor}
\usepackage{mathtools}
\usepackage{enumitem}
\usepackage{cleveref}
% \usepackage[backend=biber,style=alphabetic,sorting=nty,doi=false,isbn=false,url=false,eprint=false]{biblatex}
\usepackage[backend=biber,style=ieee,sorting=nyt,doi=false,isbn=false,url=false,eprint=false]{biblatex}
\AtEveryBibitem{\clearfield{pages}}
\AtEveryBibitem{\clearfield{location}} 
% \usepackage[backend=biber,style=ieee,sorting=ynt]{biblatex}
\usepackage[framemethod=TikZ]{mdframed}
% \usepackage{hyperref}
\usepackage{nicefrac}
\usepackage{apptools}
\usepackage{braket}
\usepackage{tikz}
\AtAppendix{\counterwithin{theorem}{section}}
\usepackage[normalem]{ulem} % for strikethrough
\usepackage{flushend}

% %%% For TODO notes
% \usepackage{xargs}
% \usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
% \newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
% \newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
% \newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
% \newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}

% cleveref does not refer to equations as `eqn.'
\crefname{equation}{}{} 

% Allow equations to bleak across lines 
% \allowdisplaybreaks

% % listings
% \usepackage{listings}
% \lstset{
%     basicstyle=\ttfamily,
%     escapeinside={(*}{*)}
% }

% % Formatting titles
% \usepackage{titlesec}
% \titleformat{\subsection}
% {\normalfont\sffamily\bfseries}{\thesubsection}{1em}{}
% \titleformat{\section}
% {\normalfont\sffamily\large\bfseries}{\thesection}{1em}{}
% \titleformat{\subsubsection}
% {\normalfont\sffamily}{\thesubsubsection}{1em}{}
% \titlespacing\section{0pt}{12pt plus 4pt minus 2pt}{4pt plus 2pt minus 2pt}
% %\titlespacing\subsection{0pt}{12pt plus 4pt minus 2pt}{2pt plus 2pt minus 2pt}
% %\titlespacing\subsubsection{0pt}{12pt plus 4pt minus 2pt}{2pt plus 2pt minus 2pt}

% \usepackage{titling}

% Theorem environments
% \theoremstyle{ssf-title-thm}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{definition}{Definition}


\theoremstyle{remark}
\newtheorem{remark}{Remark}
% \newtheorem{example}{Example}

\newtheorem{example}{Example}
\AtBeginEnvironment{example}{%
  \pushQED{\qed}\renewcommand{\qedsymbol}{$\Box$}%
}
\AtEndEnvironment{example}{\popQED\endexample}

% %equation numbering
% \numberwithin{equation}{section}
% \numberwithin{theorem}{section}
% \numberwithin{remark}{section}
% \numberwithin{definition}{section}

\def\LatinUpper{A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z}
\def\LatinLower{a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z}

% Caligraphic fonts
\newcommand{\genCal}[1]{\expandafter\newcommand\csname c#1\endcsname{{\mathcal #1}}}
\@for\i:=\LatinUpper\do{%
	\expandafter\genCal\i
}

% Blackboard fonts
\newcommand{\genBb}[1]{\expandafter\newcommand\csname b#1\endcsname{{\mathbb #1}}}
\@for\i:=\LatinUpper\do{%
	\expandafter\genBb\i
}

% Fraktur fonts
\newcommand{\genFk}[1]{\expandafter\newcommand\csname k#1\endcsname{{\mathfrak #1}}}
\@for\i:=\LatinUpper\do{%
	\expandafter\genFk\i
}

\newcommand{\genFkl}[1]{\expandafter\newcommand\csname k#1\endcsname{{\mathfrak #1}}}
\@for\i:=\LatinLower\do{%
	\expandafter\genFkl\i
}

% Vectors
\renewcommand{\vec}[1]{{\mathbf{#1}}}
\newcommand{\genLatinVec}[1]{\expandafter\newcommand\csname v#1\endcsname{{\vec #1}}}
\@for\i:=\LatinLower\do{%
	\expandafter\genLatinVec\i
}

\newcommand{\genLatinVecU}[1]{\expandafter\newcommand\csname v#1\endcsname{{\vec #1}}}
\@for\i:=\LatinUpper\do{%
	\expandafter\genLatinVecU\i
}

% Greek symbol vectors
\def\mydefgreek#1{\expandafter\def\csname v#1\endcsname{\text{\boldmath$\mathbf{\csname #1\endcsname}$}}}
\def\mydefallgreek#1{\ifx\mydefallgreek#1\else\mydefgreek{#1}%
   \lowercase{\mydefgreek{#1}}\expandafter\mydefallgreek\fi}
\mydefallgreek {alpha}{beta}{gamma}{delta}{epsilon}{varepsilon}{zeta}{eta}{theta}{vartheta}{iota}{kappa}{lambda}{mu}{nu}{xi}{omicron}{pi}{rho}{varrho}{sigma}{tau}{upsilon}{phi}{varphi}{chi}{psi}{omega}\mydefallgreek

% Upper Greek symbol vectors
\def\mydefugreek#1{\expandafter\def\csname v#1\endcsname{\text{\boldmath$\mathbf{\csname #1\endcsname}$}}}
\def\mydefallugreek#1{\ifx\mydefallugreek#1\else\mydefugreek{#1}%
   \lowercase{\mydefugreek{#1}}\expandafter\mydefallugreek\fi}
\mydefallugreek{Gamma}{Delta}{Theta}{Lambda}{Xi}{Sigma}{Upsilon}{Phi}{Psi}{Omega}\mydefallugreek

% Vector numerals
\newcommand{\vzero}{\vec{0}}
\newcommand{\vone}{\vec{1}}

% Parentheses
\newcommand{\bc}[1]{\left\{{#1}\right\}}
\newcommand{\br}[1]{\left({#1}\right)}
\newcommand{\bs}[1]{\left[{#1}\right]}
\newcommand{\abs}[1]{\left| {#1} \right|}
\newcommand{\norm}[1]{\left\| {#1} \right\|}
\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
\newcommand{\bsd}[1]{\left\llbracket{#1}\right\rrbracket}
\newcommand{\ip}[2]{\left\langle{#1},{#2}\right\rangle}

% Asymptotic notation
\newcommand{\bigO}[1]{{\cal O}\br{{#1}}}
\newcommand{\softO}[1]{\widetilde{\cal O}\br{{#1}}}
\newcommand{\Om}[1]{\Omega\br{{#1}}}
\newcommand{\softOm}[1]{\tilde\Omega\br{{#1}}}

% Statistics notation
% Probabilities
\renewcommand{\P}[1]{P\br{{#1}}}
% Expectations
\newcommand{\E}[1]{\bE\bs{{#1}}}
% Variance
\DeclareMathOperator{\mathvar}{Var}
\newcommand{\Var}[1]{\mathvar\bs{{#1}}}
\newcommand{\Varr}[2]{\underset{#1}{\text{Var}}\bs{{#2}}}

% Miscellaneous
\newcommand{\argmin}{\mathop{\arg\min}}
\newcommand{\argmax}{\mathop{\arg\max}}
\newcommand{\etal}{\emph{et al}\xspace}
\newcommand{\nth}{\text{$^{\text{th}}$}\xspace}
\newcommand{\supp}{\mathrm{supp}}
\newcommand{\rank}{\mathrm{rank}}
\newcommand{\trace}{\mathrm{trace}}
\newcommand{\diag}{\mathrm{diag}}
\newcommand{\cond}{\,|\,}
\newcommand{\bigcond}{\,\big|\,}
\newcommand{\id}{\mathbbm{1}}
\DeclareMathOperator{\tr}{Tr}
\DeclareMathOperator{\cl}{cl}
\newcommand{\on}{\text{ on }}
\newcommand{\ind}{\perp\!\!\!\!\perp}


\DeclarePairedDelimiterX{\infdivx}[2]{(}{)}{  #1\;\delimsize\|\;#2}
\newcommand{\D}{D\infdivx}


% Conditional KL Divergence
\DeclarePairedDelimiterX{\cinfdivx}[3]{(}{)}{  #1\;\delimsize\|\;#2 \,\raisebox{-0.2ex}{\scalebox{1.5}{|}}\, #3}
\newcommand{\cDiv}{D\cinfdivx}

%coloured text
\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
\newcommand{\green}[1]{\textcolor{green}{#1}}
\newcommand{\cyan}[1]{\textcolor{cyan}{#1}}

\newcommand{\mc}{-\!\!\circ\!\!-}

\usetikzlibrary{backgrounds}

\DeclareMathOperator{\SI}{SI}
\DeclareMathOperator{\II}{I}
\DeclareMathOperator{\HH}{H}
\DeclareMathOperator{\WW}{W}
\DeclareMathOperator{\cII}{\mathcal{I}\,}