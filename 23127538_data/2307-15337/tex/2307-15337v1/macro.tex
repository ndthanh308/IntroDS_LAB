\usepackage{tablefootnote}
\usepackage{float}
\usepackage{multirow}
\usepackage{scrextend}
\usepackage{hyperref}
\usepackage{parselines} 
\usepackage{scrextend}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan
}
\usepackage[utf8]{inputenc}

\usepackage{tcolorbox}
\long\def\linesaver#1{\obeylines#1} %



\usepackage{pifont}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{nicefrac}
\usepackage{xstring}
\usepackage{newfloat}

\newcommand{\DefineRemark}[2]{%
  \expandafter\newcommand\csname rmk-#1\endcsname{#2}%
}
\newcommand{\Remark}[1]{\csname rmk-#1\endcsname}


\usepackage[nameinlink,capitalize]{cleveref}

\crefname{section}{\S}{\S}
\Crefname{section}{\S}{\S}
\crefname{appendix}{App.}{Apps.}
\Crefname{appendix}{App.}{Apps.}
\crefname{theorem}{Thm.}{Thms.}
\Crefname{theorem}{Thm.}{Thms.}
\crefname{proposition}{Prop.}{Props.}
\Crefname{proposition}{Prop.}{Props.}


\crefname{algorithm}{Alg.}{Algs.}
\Crefname{algorithm}{Alg.}{Algs.}
\crefname{assumption}{Asm.}{Asms.}
\Crefname{assumption}{Asm.}{Asms.}
\crefname{mechanism}{Mech.}{Mechs.}
\Crefname{mechanism}{Mech.}{Mechs.}


\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\authnote}[2]{{\bf \textcolor{blue}{#1}: \em \textcolor{red}{#2}}}

\newcommand{\zinan}[1]{\authnote{Zinan}{#1}}
\newcommand{\xuefei}[1]{\authnote{Xuefei}{#1}}
\newcommand{\Zixuan}[1]{\authnote{Zixuan}{#1}}



\newcommand{\myparatight}[1]{\noindent{\bf {#1}:}~}

\newcommand{\myparatightest}[1]{\noindent\textbf{{#1:}}~}
\newcommand{\myparatightestn}[1]{ \noindent\textbf{{#1}}}

\newcommand{\myparaemphtightestn}[1]{\noindent\emph{{#1}}}

\newcounter{packednmbr}
\newenvironment{packedenumerate}{\begin{list}{\thepackednmbr.}{\usecounter{packednmbr}\setlength{\itemsep}{0.5pt}\addtolength{\labelwidth}{-4pt}\setlength{\leftmargin}{\labelwidth}\setlength{\listparindent}{\parindent}\setlength{\parsep}{1pt}\setlength{\topsep}{0pt}}}{\end{list}}
\newenvironment{packeditemize}{\begin{list}{$\bullet$}{\setlength{\itemsep}{0.5pt}\addtolength{\labelwidth}{-4pt}\setlength{\leftmargin}{\labelwidth}\addtolength{\leftmargin}{-2pt}\setlength{\listparindent}{\parindent}\setlength{\parsep}{1pt}\setlength{\topsep}{0pt}}}{\end{list}}
\newenvironment{packedtrivlist}{\begin{list}{\setlength{\itemsep}{0.2pt}\addtolength{\labelwidth}{-4pt}\setlength{\leftmargin}{\labelwidth}\setlength{\listparindent}{\parindent}\setlength{\parsep}{1pt}\setlength{\topsep}{0pt}}}{\end{list}}


\newcommand{\concept}[1]{\emph{{#1}}}

\newcommand{\vicunadataset}{Vicuna-80}
\newcommand{\method}{Skeleton-of-Thought}
\newcommand{\methodshort}{SoT}
\newcommand{\methodbase}{normal}
\newcommand{\Methodbase}{Normal}

\DefineRemark{llama2}{LLaMA2}
\DefineRemark{llamachat7B2}{LLaMA2-Chat-7B}
\DefineRemark{llamachat13B2}{LLaMA2-Chat-13B}
\DefineRemark{vicuna7B1.1}{Vicuna-7B V1.1}
\DefineRemark{vicuna}{Vicuna}
\DefineRemark{llama}{LLaMA}
\DefineRemark{vicuna7B1.3}{Vicuna-7B V1.3}
\DefineRemark{vicuna13B1.3}{Vicuna-13B V1.3}
\DefineRemark{vicuna33B1.3}{Vicuna-33B V1.3}
\DefineRemark{ultralm13B}{UltraLM-13B}
\DefineRemark{ultralm}{UltraLM}
\DefineRemark{openchat13B}{OpenChat-13B}
\DefineRemark{stablevicuna13B}{StableVicuna-13B}

\DefineRemark{chatgpt}{ChatGPT-3.5}
\newcommand{\chatgpt}{ChatGPT-3.5}

\DefineRemark{claude}{Claude}
\newcommand{\claude}{Claude}

\newcommand{\fastchat}{FastChat}
\newcommand{\llmzoo}{LLMZoo}


\newcommand{\texample}[6]{\begin{tcolorbox}[colback=yellow!5!white,colframe=yellow!50!black,colbacktitle=yellow!75!black,coltitle=black,title={\footnotesize\textbf{Question:~~~} #2}]
  \textbf{\IfEqCase{#4}{{correct}{\textcolor{green}{\ding{51}}}{incorrect}{\textcolor{red}{\ding{55}}}} ~~\footnotesize\methodshort{}'s answer (#1) \outline{(Orange texts are the skeleton.)} }
  \begin{addmargin}[1em]{2em}%
    {\obeylines
      \scriptsize
      #3
    }
   \end{addmargin}
  \tcblower
  \textbf{\IfEqCase{#6}{
        {correct}{\textcolor{green}{\ding{51}}}
        {incorrect}{\textcolor{red}{\ding{55}}}}~~\footnotesize \Methodbase{} answer (#1)}
    \begin{addmargin}[1em]{2em}%
      {\obeylines
        \scriptsize
        #5
      }
   \end{addmargin}
\end{tcolorbox}\egroup}

\newcommand{\example}{\bgroup\obeylines\obeyspaces\texample}


\newcommand{\texamplesot}[4]{\begin{tcolorbox}[colback=yellow!5!white,colframe=yellow!50!black,colbacktitle=yellow!75!black,coltitle=black,title={\footnotesize \textbf{Question:~~~} #2}]
  \textbf{\IfEqCase{#4}{{correct}{\textcolor{green}{\ding{51}}}{incorrect}{\textcolor{red}{\ding{55}}}} ~~\footnotesize\methodshort{}'s answer (#1) \outline{(Orange texts are the skeleton.)} }
  \begin{addmargin}[1em]{2em}%
    {\obeylines
        \scriptsize
        #3
      }
   \end{addmargin}
\end{tcolorbox}\egroup}

\newcommand{\examplesot}{\bgroup\obeylines\obeyspaces\texamplesot}

\newcommand{\outline}[1]{\obeylines\textcolor{orange}{#1}}
\newcommand{\hide}[1]{\emph{\textcolor{gray}{<more texts are omitted...>}}}

\newcommand{\promptarg}[1]{\textcolor{red}{\{\textit{#1}\}}}
\newcommand{\prompt}{\bgroup\tprompt}

\newcommand{\tprompt}[3]{\begin{tcolorbox}[colback=cyan!5!white,colframe=cyan!50!black,colbacktitle=cyan!75!black,coltitle=white,title={\footnotesize \textbf{#1}}]
  \begin{addmargin}[1em]{2em}%
    \scriptsize
    \textbf{[User:]} #2
      \end{addmargin}
      \begin{addmargin}[1em]{2em}%
          \scriptsize
          \textbf{[Assistant:]} #3
      \end{addmargin}
    \end{tcolorbox}\egroup}



  \DeclareFloatingEnvironment[fileext=frm,placement={!ht},name=Frame]{myfloat}

  \newcounter{promptenv}
  \setcounter{promptenv}{0}
  \newenvironment{promptenv}[4][]{
    \begin{myfloat}[tb]\refstepcounter{promptenv} \prompt{\textbf{Prompt~\thepromptenv. #2}}{#3}{#4}
    }{
    \end{myfloat}
  }
\crefname{promptenv}{Prompt}{Prompts}
\Crefname{promptenv}{Prompt}{Prompts}
