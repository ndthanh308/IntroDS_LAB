\section{\vispur: System Components} \label{sec:systemdesign}

\input{images/vispur_system_overview_caption}
{In light of the design requirements, we describe how we design \vispur to implement the aforementioned ``de-paradox'' workflow for causal analysis of spurious/paradoxical associations. \tocomments{The demonstration is based on the Lalonde dataset \cite{lalonde1986evaluating}, as it has been a benchmark data in causal inference literature and incorporated for use cases in many libraries such as MatchIt \cite{stuart2011matchit} and Cobalt \cite{greifer2020covariate}.} As shown in Fig.~\ref{fig:system_overview}A-E, our visual design leverages human perceptional features to reduce users' cognitive burdens, highlighting two major components---\subgroupviewer and \reasoningstoryboard---to assist inspecting subgroup characteristics, as well as making sense of association paradox, respectively. (1) In \subgroupviewer, we exploit radar-shaped glyphs to encode rich and multidimensional data features into a small and compact graphic representation, allowing users to visually compare the most important ``feature signatures'' of subgroups (Fig.~\ref{fig:system_overview}C-3). To distinguish subgroups' causal properties, we redefine the most popular two-dimensional space (that data practitioners are familiar with) to represent a new causality space (Fig.~\ref{fig:system_overview}C-1, C-2), where several causal concepts (propensity, base effects, etc) are encoded into simple visual signals, facilitating a straightforward and contrastive comparison. Furthermore, to support paradox reasoning, we leverage flow-based visualizations based on a common idea that the cause is followed by the effect. The progression pathways showcase how subjects chose their preferred treatment options, and how alternative chains of treatments lead to different outcomes (Fig.~\ref{fig:system_overview}D).}

% Users will explore the {\bf \generator} (A) to identify confounding factors that might distort a cause-outcome relationship ({\bf R1 -- confounder identification}), then they will make use of {\bf \partition} (B) to produce a set of meaningful subgroups to further examine their differences {\bf \group}, from the aspects of both causality and features ({\bf R2} -- subgroup heterogeneity). In face of possible paradoxical or conflicting associations, users will interact with {\bf \storyboard} (D) for detailed explanations ({\bf R3} -- reasoning). Finally, users will refer to the interface {\bf \diagnosis} (E) when making a decision regarding the effect of a treatment ({\bf R4} -- decision-making). That said, our system assists users answer a series of questions in the workflow of studying empirical associations. The distinguishing contribution of our work lies in its ability -- visually and interactively -- to locate and explain association spuriousness ({\bf \storyboard}), as well as to explicitly reveal the heterogeneous subgroup patterns from both aspects of causality and features ({\bf \partition} and {\bf \group}).
\input{sections/410_generator.tex}
\input{sections/420_partition.tex}
\input{sections/430_group.tex}
\input{sections/440_reasoning.tex}
\input{sections/450_diagnosis.tex}

\tocomments{More details of our iterative development, design choices and considerations are provided in Supplementary Materials \ref{sec:appendix}.}