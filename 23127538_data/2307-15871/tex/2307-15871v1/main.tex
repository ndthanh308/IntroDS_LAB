\def\anon{0}
\def\draft{1}

\documentclass[11pt]{article}
\usepackage{color,colortbl,latexsym,amsthm,amsmath,amssymb,path,enumitem,soul,tikz,fullpage,subcaption}
\usetikzlibrary{shapes.geometric}
% \usepackage[hidelinks]{hyperref}
\usepackage[colorlinks,citecolor=blue,linkcolor=blue,urlcolor=red,pagebackref]{hyperref}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\usepackage{soul}
\usepackage{multirow}
% \usepackage{authblk}

\usepackage{relsize}
\usepackage{diagbox}
\usepackage{comment}
%\geometry{margin=1in}
\usepackage[font={small,sf}]{caption}
\newcommand{\ignore}[1]{}

\makeatother
\makeatletter
\newenvironment{breakablealgorithm}
  {% \begin{breakablealgorithm}
   \begin{center}
     \refstepcounter{algorithm}% New algorithm
     \hrule height.8pt depth0pt \kern2pt% \@fs@pre for \@fs@ruled
     \renewcommand{\caption}[2][\relax]{% Make a new \caption
       {\raggedright\textbf{\ALG@name~\thealgorithm} ##2\par}%
       \ifx\relax##1\relax % #1 is \relax
         \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##2}%
       \else % #1 is not \relax
         \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##1}%
       \fi
       \kern2pt\hrule\kern2pt
     }
  }{% \end{breakablealgorithm}
     \kern2pt\hrule\relax% \@fs@post for \@fs@ruled
   \end{center}
  }
\makeatother

% \def\marrow{{\marginpar[\hfill$\longrightarrow$]{$\longleftarrow$}}}
% \def\Yinzhan#1{(\textcolor{purple}{{\sc Yinzhan says: }{\marrow\sf #1}})}
% \def\Surya#1{(\textcolor{cyan}{{\sc Surya says: }{\marrow\sf #1}})}
% \def\Virgi#1{(\textcolor{red}{{\sc Virginia says: }{\marrow\sf #1}})}
% \newcommand{\todo}[1]{\textcolor{blue}{TODO: #1}}
% \newcommand{\towrite}[1]{\textcolor{magenta}{Write about: #1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FORMAT
\iffalse
\setlength{\textwidth}{6.0in}
\setlength{\evensidemargin}{0.25in}
\setlength{\oddsidemargin}{0.25in}
\setlength{\textheight}{8.4in}
\setlength{\topmargin}{-0.5in} 
%\setlength{\parskip}{2mm}
\setlength{\parskip}{0mm}
\setlength{\baselineskip}{1.7\baselineskip}
\fi 

\setlist[itemize]{itemsep=-0.1em}
\setlist[enumerate]{itemsep=-0.1em}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% THEOREMS ETC.

%theorem titles in bold
\makeatletter
\def\th@plain{%
  \thm@notefont{}% same as heading font
  \itshape % body font
}
\def\th@definition{%
  \thm@notefont{}% same as heading font
  \normalfont % body font
}
\makeatother
% up to here

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{observation}[theorem]{Observation}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{hypothesis}[theorem]{Hypothesis}
\newtheorem{question}{Question}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{example}[theorem]{Example}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FIGURES
\usepackage{graphicx,psfrag}

\newcommand{\mycaption}[1]
        {\caption{\small #1}}
\newcommand{\placefig}[2]
        {% Figure removed}

\usepackage{listings,xcolor}
\iffalse
\lstset{language=Mathematica}
\lstset{basicstyle={\sffamily\footnotesize},
  numbers=left,
  lineskip=1mm,
  numberstyle=\tiny\color{gray},
  numbersep=5pt,
  breaklines=true,
  captionpos={t},
  frame={lines},
  rulecolor=\color{black},
  framerule=0.5pt,
  columns=flexible,
  tabsize=2
}
\fi
\lstset{language=Mathematica}
\lstset{basicstyle={\sffamily\footnotesize},
  numbers=left,
  lineskip=1mm,
  numberstyle=\tiny\color{gray},
  numbersep=5pt,
  breaklines=true,
  captionpos={t},
  frame={lines},
  rulecolor=\color{black},
  framerule=0.5pt,
  columns=flexible,
  tabsize=2,
  mathescape
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  NUMBERS
\usepackage{dsfont}
\newcommand{\NN}{\ensuremath{\mathbb N}}
\newcommand{\ZZ}{\ensuremath{\mathbb Z}}
\newcommand{\RR}{\ensuremath{\mathbb R}}
\newcommand{\CC}{\ensuremath{\mathbb C}}
\newcommand{\TT}{\ensuremath{\mathbb T}}
\newcommand{\FF}{\ensuremath{\mathbb F}}
\newcommand{\DD}{\ensuremath{\mathbb D}}
\newcommand{\PP}{\ensuremath{\mathbb P}}
\newcommand{\EE}{\ensuremath{\mathbb E}}
\renewcommand{\epsilon}{\varepsilon}
\newcommand{\eps}{\varepsilon}
\newcommand{\NNnull}{\NN_{^{_0}\!}}
\newcommand{\RRplus}   {\RR^{\!^+}}
\newcommand{\RRplusnull}{\RR^{\!^+}_{^{_0}\!}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% PROBABILITY
\newcommand{\prr}       {{\mathrm{P\hspace{-0.05em}r}}}
\newcommand{\prrprime}  {{\mathrm{P\hspace{-0.05em}r}'}}
\newcommand{\pr}[1]     {{\,\prr\hspace{-0.05em}\left(#1\right)}}
\newcommand{\prprime}[1]{{\,\prrprime\hspace{-0.05em}\left(#1\right)}}
\newcommand{\ex}[1]     {{\,{\ensuremath{\mathbb E}}\!\left[#1\right]}}
\newcommand{\var}[1]    {{\,{\mathrm{var}}\!\left(#1\right)}}
\newcommand{\cond}      {\!\mid\!}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% PAPER SPECIFIC

\def \poly {\mathop{\rm poly}} %{ \text{\rm poly~} }
\def \polylog {\mathop{\rm polylog}}%{ \text{\rm polylog~} }
\def\th{{\text{\rm th}}}
\def\tO{\tilde{O}}

\def\eps{{\varepsilon}}

\newcommand{\parag}[1]{\vspace{2mm}

\noindent{\bf #1} }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TODO and comment Shortcuts
% \newcommand{\todo}[1]{\textcolor{magenta}{TODO: #1}}
% \newcommand{\mathtodo}[1]{\textcolor{red}{Math TODO: #1}}

\ifnum\draft=1
\newcommand{\mina}[1]{\textcolor{red}{(Mina: #1)}}
\newcommand{\surya}[1]{\textcolor{magenta}{(Surya: #1)}}
\newcommand{\yinzhan}[1]{\textcolor{green}{(Yinzhan: #1)}}
\newcommand{\virgi}[1]{\textcolor{red}{(Virginia: #1)}}
\else
    \newcommand{\mina}[1]{}
    \newcommand{\surya}[1]{}
    \newcommand{\yinzhan}[1]{}
    \newcommand{\virgi}[1]{}
\fi 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand\cliquelist[1]{(#1)\text{-}\mathsf{Clique}\text{-}\mathsf{Listing}}
\newcommand\cliquedet[1]{(#1)\text{-}\mathsf{Clique}\text{-}\mathsf{Detection}}
\newcommand{\exactclique}[1]{\mathsf{Exact}\text{-}#1\text{-}\mathsf{Clique}}
\newcommand\MM{\mathsf{MM}}
%%%%%%%%%%%%%%%%
\newcommand\sparse{{\tt Sparse}}
\newcommand\dense{{\tt Dense}}
%%%%%%%%%%%%%%%%



\title{Listing Cliques from Smaller Cliques}
\ifnum\anon=1
    \author{Anonymous}
\else
    \author{\normalsize Mina Dalirrooyfard\thanks{Morgan Stanley Research. \texttt{minad@mit.edu}. While at MIT, supported by a Google Faculty Research Award and an Akamai MIT CS Theory Group Fellowship.} \and \normalsize Surya Mathialagan\thanks{MIT. \texttt{smathi@mit.edu}. Supported by the Siebel Scholars program, by DARPA under Agreement No. HR00112020023 and by NSF grant CNS-2154149.}
    \and \normalsize Virginia Vassilevska Williams\thanks{MIT. \texttt{virgi@mit.edu}. Partially supported by NSF Career Award CCF-1651838, NSF Grant CCF-2129139, a Sloan Research Fellowship and a Google Faculty Research Award.} 
    \and \normalsize  Yinzhan Xu\thanks{MIT. \texttt{xyzhan@mit.edu}. Supported by NSF Grant CCF-2129139.}}
\fi 

\date{}
\begin{document}

\maketitle 
\pagenumbering{gobble} 
\begin{abstract}
We study finding and listing $k$-cliques in a graph, for constant $k\geq 3$, a fundamental problem of both theoretical and practical importance.

Our main contribution is a new output-sensitive algorithm for listing $k$-cliques in graphs, for arbitrary $k\geq 3$, coupled with lower bounds based on standard fine-grained assumptions, showing that our algorithm's running time is tight. Previously, the only known conditionally optimal output-sensitive algorithms were for the case of $3$-cliques by Bj\"{o}rklund, Pagh, Vassilevska W. and Zwick [ICALP'14].

Typical inputs to subgraph isomorphism or listing problems are measured by the number of nodes $n$ or the number of edges $m$. Our framework is very general in that it gives $k$-clique listing algorithms whose running times are measured in terms of the number of $\ell$-cliques $\Delta_\ell$ in the graph for any $1\leq \ell<k$. This generalizes the typical parameterization in terms of $n$ (the number of $1$-cliques) and $m$ (the number of $2$-cliques).

If the matrix multiplication exponent $\omega$ is $2$, and if the size of the output, $\Delta_k$, is sufficiently large, then for every $\ell<k$, the running time of our algorithm for listing $k$-cliques is 
$$\tilde{O}\left(\Delta_\ell^{\frac{2}{\ell (k - \ell)}}\Delta_k^{1-\frac{2}{k(k-\ell)}}\right).$$ 
For sufficiently large $\Delta_k$, we prove that this runtime is in fact {\em optimal} for all $1 \leq \ell < k$ under the Exact $k$-Clique hypothesis. 

In the special cases of $k = 4$ and $5$, our algorithm in terms of $n$ is conditionally optimal for all values of $\Delta_k$ if $\omega = 2$. Moreover, our framework is powerful enough to provide an improvement upon the 19-year old runtimes for $4$ and $5$-clique detection  in $m$-edge graphs, as a function of $m$ [Eisenbrand and Grandoni, TCS'04]. 
\end{abstract}

\newpage


\tableofcontents{}
\newpage 
\pagenumbering{arabic} 
\section{Introduction}
\input{intro-new}


\section{Preliminaries}
\label{sec:prelim}

\input{prelim}

\section{Detecting Cliques}\label{sec:detection}

\input{detection}

\section{Lower Bounds for Listing Cliques}\label{sec:lower_bounds}
\input{lower-bound}


\section{Optimal Listing Algorithms for Graphs with Many \texorpdfstring{$k$}{k}-Cliques}
\label{sec:upper-bound}
\input{upper-bound}

\section{Extending the Algorithm to Graphs with Fewer \texorpdfstring{$k$}{k}-Cliques}
\label{sec:general-list}
\input{general_list}

\section{6-Clique Madness}
\label{sec:6clique}
\input{6-clique}

\bibliographystyle{alpha}
\bibliography{ref}

\end{document}