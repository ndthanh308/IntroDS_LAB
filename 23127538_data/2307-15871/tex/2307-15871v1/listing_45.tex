In this section, we give algorithms for $\cliquelist{4,\ell}$ and $\cliquelist{5,\ell}$.

\surya{In this section, we illustrate how one can compute }

\subsection{Listing 4-cliques}

\begin{algorithm}
    \caption{Algorithms for $\cliquelist{4, \ell}$.}
    \begin{algorithmic}
    \item $\dense(G = (V, E), n, t)$:
    \begin{itemize}
        \item If $n < 4$, return that there are no 4-cliques.
        \item Choose a parameter $\lambda.$ We call an edge $\lambda$-light if it is in fewer than $\lambda$ $4$-cliques.
        \item Initialize an empty list $T.$
        \item Repeat the following algorithm $O(\lambda \log n)$ times:
        \begin{itemize}
            \item Sample a subset $\overline{E}$ of the edges of size at most $|E|/\lambda.$
            \item Construct adjacency matrices $A$ and $\overline{A}$ where the rows are indexed by $V$ and the columns are indexed $\overline{E}.$
            \item Let $A[v, e] = 1$ if node $v$ is disjoint from edge $e = (x, y)$ and $v$ is adjacent to both $x$ and $y$ (i.e. $v, x, y$ forms a triangle), and set $A[v, e] = 0$ otherwise.
            \item Let $\overline{A}[v, e] = A[v, e] \cdot e$, i.e. column $e$ contains entries $0$ or $e$.
            \item Compute $B = A \cdot A^T$ and $\overline{B} = A \cdot \overline{A}^T$. This takes $O(MM(n, |E'|/\lambda, n))$ time.
            \item For every edge $(u, v) \in E$ that is $\lambda$-light, if $B[u, v] = 1$, add $(u, v, \overline{B}[u, v])$ to $T$.
        \end{itemize}
        \item Output $T$.
        \item Deleter all $\lambda$-light edges from $E$ to obtain $E'$.
        \item Call $\sparse(G' = (V, E'), 6t/\lambda, t)$.
    \end{itemize}
    \end{algorithmic}
\end{algorithm}