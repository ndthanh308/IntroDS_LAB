\def\anon{0}
\def\draft{1}

\documentclass[11pt]{article}
\usepackage{color,colortbl,latexsym,amsthm,amsmath,amssymb,path,enumitem,soul,tikz,fullpage,subcaption}
\usetikzlibrary{shapes.geometric}
\usepackage[colorlinks,citecolor=blue,linkcolor=blue,urlcolor=blue,pagebackref]{hyperref}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\usepackage{soul}
\usepackage{multirow}

\usepackage{relsize}
\usepackage{diagbox}
\usepackage{comment}
\usepackage[font={small,sf}]{caption}
\newcommand{\ignore}[1]{}

\makeatother
\makeatletter
\newenvironment{breakablealgorithm}
  {%
   \begin{center}
     \refstepcounter{algorithm}%
     \hrule height.8pt depth0pt \kern2pt%
     \renewcommand{\caption}[2][\relax]{%
       {\raggedright\textbf{\ALG@name~\thealgorithm} ##2\par}%
       \ifx\relax##1\relax %
         \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##2}%
       \else %
         \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##1}%
       \fi
       \kern2pt\hrule\kern2pt
     }
  }{%
     \kern2pt\hrule\relax%
   \end{center}
  }
\makeatother




\setlist[itemize]{itemsep=-0.1em}
\setlist[enumerate]{itemsep=-0.1em}


\makeatletter
\def\th@plain{%
  \thm@notefont{}%
  \itshape %
}
\def\th@definition{%
  \thm@notefont{}%
  \normalfont %
}
\makeatother

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{observation}[theorem]{Observation}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{hypothesis}[theorem]{Hypothesis}
\newtheorem{question}{Question}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{example}[theorem]{Example}
\usepackage{graphicx,psfrag}

\newcommand{\mycaption}[1]
        {\caption{\small #1}}
\newcommand{\placefig}[2]
        {% Figure removed}

\usepackage{listings,xcolor}
\lstset{language=Mathematica}
\lstset{basicstyle={\sffamily\footnotesize},
  numbers=left,
  lineskip=1mm,
  numberstyle=\tiny\color{gray},
  numbersep=5pt,
  breaklines=true,
  captionpos={t},
  frame={lines},
  rulecolor=\color{black},
  framerule=0.5pt,
  columns=flexible,
  tabsize=2,
  mathescape
}

\usepackage{dsfont}
\newcommand{\NN}{\ensuremath{\mathbb N}}
\newcommand{\ZZ}{\ensuremath{\mathbb Z}}
\newcommand{\RR}{\ensuremath{\mathbb R}}
\newcommand{\CC}{\ensuremath{\mathbb C}}
\newcommand{\TT}{\ensuremath{\mathbb T}}
\newcommand{\FF}{\ensuremath{\mathbb F}}
\newcommand{\DD}{\ensuremath{\mathbb D}}
\newcommand{\PP}{\ensuremath{\mathbb P}}
\newcommand{\EE}{\ensuremath{\mathbb E}}
\renewcommand{\epsilon}{\varepsilon}
\newcommand{\eps}{\varepsilon}
\newcommand{\NNnull}{\NN_{^{_0}\!}}
\newcommand{\RRplus}   {\RR^{\!^+}}
\newcommand{\RRplusnull}{\RR^{\!^+}_{^{_0}\!}}
\newcommand{\prr}       {{\mathrm{P\hspace{-0.05em}r}}}
\newcommand{\prrprime}  {{\mathrm{P\hspace{-0.05em}r}'}}
\newcommand{\pr}[1]     {{\,\prr\hspace{-0.05em}\left(#1\right)}}
\newcommand{\prprime}[1]{{\,\prrprime\hspace{-0.05em}\left(#1\right)}}
\newcommand{\ex}[1]     {{\,{\ensuremath{\mathbb E}}\!\left[#1\right]}}
\newcommand{\var}[1]    {{\,{\mathrm{var}}\!\left(#1\right)}}
\newcommand{\cond}      {\!\mid\!}

\def \poly {\mathop{\rm poly}} %
\def \polylog {\mathop{\rm polylog}}%
\def\th{{\text{\rm th}}}
\def\tO{\tilde{O}}

\def\eps{{\varepsilon}}

\newcommand{\parag}[1]{\vspace{2mm}

\noindent{\bf #1} }

\newcommand{\todo}[1]{\textcolor{magenta}{TODO: #1}}

\ifnum\draft=1
\newcommand{\mina}[1]{\textcolor{red}{(Mina: #1)}}
\newcommand{\surya}[1]{\textcolor{magenta}{(Surya: #1)}}
\newcommand{\yinzhan}[1]{\textcolor{green}{(Yinzhan: #1)}}
\newcommand{\virgi}[1]{\textcolor{red}{(Virginia: #1)}}
\else
    \newcommand{\mina}[1]{}
    \newcommand{\surya}[1]{}
    \newcommand{\yinzhan}[1]{}
    \newcommand{\virgi}[1]{}
\fi 
\newcommand\cliquelist[1]{(#1)\text{-}\mathsf{Clique}\text{-}\mathsf{Listing}}
\newcommand\cliquedet[1]{(#1)\text{-}\mathsf{Clique}\text{-}\mathsf{Detection}}
\newcommand{\exactclique}[1]{\mathsf{Exact}\text{-}#1\text{-}\mathsf{Clique}}
\newcommand\MM{\mathsf{MM}}
\newcommand\sparse{{\tt Sparse}}
\newcommand\dense{{\tt Dense}}


\title{Towards Optimal Output-Sensitive Clique Listing\\
{{or: Listing Cliques from Smaller Cliques}}}
\ifnum\anon=1
    \author{Anonymous}
\else
    \author{\normalsize Mina Dalirrooyfard\thanks{Morgan Stanley Research. \href{mailto:minad@mit.edu}{\texttt{minad@mit.edu}}. While at MIT, supported by a Google Faculty Research Award and an Akamai MIT CS Theory Group Fellowship.} \and \normalsize Surya Mathialagan\thanks{MIT. \href{mailto:smathi@mit.edu}{\texttt{smathi@mit.edu}}. Supported by the Siebel Scholars program, by DARPA under Agreement No. HR00112020023 and by NSF grant CNS-2154149.}
    \and \normalsize Virginia Vassilevska Williams\thanks{MIT. \href{mailto:virgi@mit.edu}{\texttt{virgi@mit.edu}}. Partially supported by NSF Career Award CCF-1651838, NSF Grant CCF-2129139, a Sloan Research Fellowship and a Google Faculty Research Award.} 
    \and \normalsize  Yinzhan Xu\thanks{MIT. \href{mailto:xyzhan@mit.edu}{\texttt{xyzhan@mit.edu}}. Supported by NSF Grant CCF-2129139.}}
\fi 

\date{}
\begin{document}

\maketitle 
\pagenumbering{gobble} 
\begin{abstract}
We study the problem of finding and listing $k$-cliques in an $m$-edge, $n$-vertex graph, for constant $k\geq 3$. This is a fundamental problem of both theoretical and practical importance.

Our first contribution is an algorithmic framework for finding $k$-cliques that gives the first improvement in 19 years over the old runtimes for $4$ and $5$-clique finding, as a function of $m$ [Eisenbrand and Grandoni, TCS'04]. 
With the current bounds on matrix multiplication, our algorithms run in $O(m^{1.66})$ and $O(m^{2.06})$ time, respectively, for $4$-clique and $5$-clique finding.

Our main contribution is an output-sensitive algorithm for listing $k$-cliques, for any constant $k\geq 3$. We complement the algorithm with tight lower bounds based on standard fine-grained assumptions. Previously, the only known conditionally optimal output-sensitive algorithms were for the case of $3$-cliques given by Bj\"{o}rklund, Pagh, Vassilevska W. and Zwick [ICALP'14]. If the matrix multiplication exponent $\omega$ is $2$, and if the number of $k$-cliques $t$ is large enough, the running time of our algorithms is 
$$\tilde{O}\left(\min\{m^{\frac{1}{k-2}}t^{1 - \frac{2}{k(k-2)}},n^{\frac{2}{k-1}}t^{1-\frac{2}{k(k-1)}}\}\right),$$
and this is {\em tight} under the Exact-$k$-Clique Hypothesis. This running time naturally extends the running time obtained by Bj\"{o}rklund, Pagh, Vassilevska W. and Zwick for $k=3$.

Our framework is very general in that it gives $k$-clique listing algorithms whose running times can be measured in terms of the number of $\ell$-cliques $\Delta_\ell$ in the graph for any $1\leq \ell<k$. This generalizes the typical parameterization in terms of $n$ (the number of $1$-cliques) and $m$ (the number of $2$-cliques).

If $\omega$ is $2$, and if the size of the output, $\Delta_k$, is sufficiently large, then for every $\ell<k$, the running time of our algorithm for listing $k$-cliques is 
$$\tilde{O}\left(\Delta_\ell^{\frac{2}{\ell (k - \ell)}}\Delta_k^{1-\frac{2}{k(k-\ell)}}\right).$$ 
We also show that this runtime is {\em optimal} for all $1 \leq \ell < k$ under the Exact $k$-Clique hypothesis. 
\end{abstract}

\newpage


\tableofcontents{}
\newpage 
\pagenumbering{arabic} 
\section{Introduction}
\input{1-intro}


\section{Preliminaries}
\label{sec:prelim}

\input{2-prelim}

\section{Detecting Cliques}\label{sec:detection}

\input{3-detection}

\section{Lower Bounds for Listing Cliques}\label{sec:lower_bounds}
\input{4-lower-bound}


\section{Optimal Listing Algorithms for Graphs with Many \texorpdfstring{$k$}{k}-Cliques}
\label{sec:upper-bound}
\input{5-upper-bound}

\section{Extending the Algorithm to Graphs with Fewer \texorpdfstring{$k$}{k}-Cliques}
\label{sec:general-list}
\input{6-general-list}

\section{6-Clique Madness}
\label{sec:6clique}
\input{7-6-clique}

\bibliographystyle{alpha}
\bibliography{ref}

\end{document}
