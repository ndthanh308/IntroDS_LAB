
% ~
\NewDocumentCommand{\CfgSocRuleSend}{s}{%
    \IfBooleanT{#1}{$}% mm wrap
    \infer{%[{\RName[snd]}]{% * judgement
        \CfgSoc%
        \Act[\TypSend\Msg]%
        \CfgSoc''%
    }{% * premise
        \CfgIso%
        \Act[\TypSend\Msg]%
        \CfgIso''%
    }%
    \IfBooleanT{#1}{$}% mm wrap
}

% ~
\NewDocumentCommand{\CfgSocRuleEnqu}{s}{%
    \IfBooleanT{#1}{$}% mm wrap
    %
    \CfgSoc%
    \Act[\TypRecv\Msg]%
    \CfgSoc3{\Queue;\Msg}%
    %
    % \quad
    % %
    % {\RName[que]}
    %
    \IfBooleanT{#1}{$}% mm wrap
}

% ~
\NewDocumentCommand{\CfgSocRuleRecv}{s}{%
    \IfBooleanT{#1}{$}% mm wrap
    \infer{%[{\RName[rcv]}]{% * judgement
        \CfgSoc3{\Msg;\Queue}%
        \Act[\SiltAction]%
        \CfgSoc''%
    }{% * premise
        \CfgIso%
        \Act[\TypRecv\Msg]%
        \CfgIso''%
    }%
    \IfBooleanT{#1}{$}% mm wrap
}

% ~
\NewDocumentCommand{\CfgSocRuleTime}{s}{%
\IfBooleanT{#1}{$}% mm wrap
\infer{%[{\RName[time]}]{% * judgement
\CfgSoc%
\Act[\ValTime]%
\CfgSoc'%
}{% * premise
\CfgIso%
\Act[\ValTime]%
\CfgIso'%
%
&%
%
\FutureEn1{\CfgIso}[\TypComm]%
\implies%
\FutureEn1{\CfgIso'}[\TypComm']%
%
&%
%
\forall \ValTime'<\ValTime:%
\CfgSoc1{\ValClocks+\ValTime'}%
\Act|[\SiltAction]%
}%
\IfBooleanT{#1}{$}% mm wrap
}

\endinput

% ~ template
\NewDocumentCommand{\CfgSocRule}{s}{%
    \IfBooleanT{#1}{$}% mm wrap
    \infer{%[{\RName[temp]}]{% * judgement
        \CfgSoc%
    }{% * premise
        \CfgSoc'''%
    }%
    \IfBooleanT{#1}{$}% mm wrap
}
