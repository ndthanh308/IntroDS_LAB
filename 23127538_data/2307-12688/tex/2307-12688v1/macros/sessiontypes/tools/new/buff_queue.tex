
% ~ 
\NewDocumentCommand\ListToBuffContents{>{\SplitList{,}}m}
{%
    {\ProcessList{#1}{\HeadBuffContents}}%
}

% ~ 
\newcommand\HeadBuffContents[1]{%
    \circled{$\mathtt{#1}$}%
    \let\HeadBuffContents\TailBuffContents%
}

% ~ inserts cdot before each subsequent par item
\newcommand\TailBuffContents[1]{%
    \!\;\cdot\,\circled{$\mathtt{#1}$}%
}

% ~ 
\NewDocumentCommand{\IBuff}{s O{\ISes} e:}{%
    \IfBooleanT{#1}{$}% mm wrap
    {#2}:%
    \IfNoValueTF{#3}{% * no buffer contents given
        \emptyset%
    }{% * use given contents
        {\ListToBuffContents{#3}}%
    }%
    \IfBooleanT{#1}{$}% mm wrap
}

% ~ 
\NewDocumentCommand\ListToQueContents{>{\SplitList{,}}m}
{%
    {\ProcessList{#1}{\HeadQueContents}}%
}

% ~ 
\newcommand\HeadQueContents[1]{%
    \squared{$\mathtt{#1}$}%
    \let\HeadQueContents\TailQueContents%
}

% ~ inserts ; before each subsequent par item
\newcommand\TailQueContents[1]{%
    \!\;;\,\squared{$\mathtt{#1}$}%
}

% ~ 
\NewDocumentCommand{\IQue}{s O{\ISes} e:}{%
    \IfBooleanT{#1}{$}% mm wrap
    {#2}:%
    \IfNoValueTF{#3}{% * no buffer contents given
        \emptyset%
    }{% * use given contents
        {\ListToQueContents{#3}}%
    }%
    \IfBooleanT{#1}{$}% mm wrap
}
