
% #1 : s* : math mode wrap
% #2 : () : tup contents
% #3 : t| : for use in types
\NewDocumentCommand{\Tup}{s D(){\emptyset} t|}{%
    \IfBooleanT{#1}{$}%
    \IfBooleanTF{#3}{% use in types
        \left(\ListToTupleContentsTypes{#2}\right)%
    }{% * use normal ()
        ({\ListToTupleContents{#2}})%
    }%
    \IfBooleanT{#1}{$}%
}

\NewDocumentCommand\ListToTupleContents{>{\SplitList{,}}m}{%
    {\ProcessList{#1}{\HeadTupleContents}}%
}

% ~ 
\newcommand\HeadTupleContents[1]{%
    \!\;{#1}%
    \let\HeadTupleContents\TailTupleContents%
}

% ~ inserts | before each subsequent par item
\newcommand\TailTupleContents[1]{%
    \!\,,~{#1}%
    \let\HeadTupleContents\TailTupleContents%
}

\NewDocumentCommand\ListToTupleContentsTypes{>{\SplitList{,}}m}{%
    {\ProcessList{#1}{\HeadTupleContentsTypes}}%
}

% ~ 
\newcommand\HeadTupleContentsTypes[1]{%
    \!\;{#1}%
    \let\HeadTupleContentsTypes\TailTupleContentsTypes%
}

% ~ inserts | before each subsequent par item
\newcommand\TailTupleContentsTypes[1]{%
    \!\,,~{#1}%
    \let\HeadTupleContentsTypes\TailTupleContentsTypes%
}
