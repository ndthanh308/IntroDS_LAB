
% ~ recv
% #1 : mm wrap
\NewDocumentCommand{\ICalcBranch}{s E1{{\SesP}} E2{{\PrcAfter}} E3{{\PrcMsg}} E4{{\Prc}} O{i} O{I} t| O{\Qrc}}{%
\IfBooleanT{#1}{$}% mm wrap
{#2}^{#3}\PrcRecv\,\InSet[{#4}_{#6}:{#5}_{#6}][#6][#7]%
\IfBooleanF{#8}{\;\TTPrcAft\,{#9}}
\IfBooleanT{#1}{$\!}% mm wrap
}

% ~ recv
% #1 : mm wrap
\NewDocumentCommand{\ICalcRecv}{s E_{\PrcP} O{\PrcMsg} E.{\Prc} e<}{%
\IfBooleanT{#1}{$}% mm wrap
{#2}^{\IfValueTF{#5}{#5}{\infty}}%
\PrcRecv\,{#3}:{#4}%
\IfBooleanT{#1}{$\!}% mm wrap
}