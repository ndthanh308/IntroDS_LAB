%\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\newcommand{\pvar}{X}
\newcommand{\zo}[1]{[#1]}
\newcommand{\subst}[2]{[#1/#2]}
\newcommand{\judg}[3]{#1   \proves  #3  \has  #2}

\newcommand{\ch}{a}
\newcommand{\chh}{b}
\newcommand{\chhh}{c}
\newcommand{\dclock}{x}
\newcommand{\aclock}{x_0}
\newcommand{\chvar}{a}
\newcommand{\chvarr}{b}
\newcommand{\chvarrr}{c}
\newcommand{\tmap}[2]{(#1 , \ #2)}
\newcommand{\proves}{\ \vdash \ }
\newcommand{\dom}[1]{\mathrm{dom}(#1)}

\newcommand{\preals}{\mathbf{R}_{\geq 0}}

%SEMANTICS
\newcommand{\reduce}{~~\longrightarrow~~}
%\newcommand{\timereduce}{~~\stackrel{ \blacktriangleright}{\longrightarrow}~~}
%\newcommand{\nowreduce}{~~\stackrel{\blacktriangledown}{\longrightarrow}~~}
\newcommand{\timereduce}{~~\rightsquigarrow~~}
\newcommand{\nowreduce}{~~\rightharpoonup~~}

\newcommand{\infer}[2]{\frac{\displaystyle{#1}%
{\vspace{3mm}}%
}{
{\vspace{3mm}}%
\displaystyle{#2}
}}
\newcommand{\unf}[1]{\textit{unfold}(#1)}
\newcommand{\Sorts}{T}
\newcommand{\ty}{\tva}

%NOTATIONS AND SETS
\newcommand{\guards}{\mathcal{G}}
\newcommand{\clocks}{\mathbb{X}}
\newcommand{\rel}{\mathcal{R}}
\newcommand{\Types}{\mathcal{S}}
\newcommand{\clock}{x}
\newcommand{\const}{n}
\newcommand{\rconst}{t}
\newcommand{\iconst}{i}

\newcommand{\resets}{\lambda}
\newcommand{\guard}{\delta}
\newcommand{\guardi}{\delta'}
\newcommand{\guardii}{\delta''}
\newcommand{\guardd}{\gamma}
\newcommand{\guarddi}{\gamma'}
\newcommand{\guarddii}{\gamma''}

\newcommand{\vc}{\nu}

\newcommand{\typevars}{\mathbb{A}}
\newcommand{\tva}{\alpha}
\newcommand{\tvai}{\alpha'}
\newcommand{\tvb}{\beta}
\newcommand{\tvbi}{\beta'}

\newcommand{\ocint}{]\hspace{-3pt}[}
\newcommand{\ve}[1]{\stackrel{~}{#1}}
\newcommand{\subs}[2]{[#1/#2]}
\newcommand{\recnull}{\_}
\newcommand{\subt}{<\,:}

\newcommand{\setcomp}[2]{\left\{{#1} \,\middle|\, {#2}\right\}}

%PROCESSES
\newcommand{\Pacc}[3]{\mathtt{accept} \ #1(#2) \ \mathtt{in} \ #3}
\newcommand{\Preq}[3]{\mathtt{request } \ #1(#2) \ \mathtt{in} \ #3}
\newcommand{\exception}{\mathtt{failed}}
\newcommand{\Frule}[1]{\small(\mathtt{#1})\normalsize}
\newcommand{\Prule}[1]{\small[\mathtt{#1}]\normalsize}
\newcommand{\Srule}[1]{{\footnotesize{\{\mathtt{#1}\}}\normalsize}}
\newcommand{\rdy}[1]{\mathtt{rdy}(#1)}
\newcommand{\wait}[1]{\mathtt{Wait}(#1)}
\newcommand{\queues}[1]{\mathtt{NEQueue}(#1)}

\newcommand{\Pend}{0}
%
\newcommand{\Psendc}[3]{\overline{#1}  \, #2   . \, #3}
\newcommand{\Psend}[2]{\overline{#1} \, #2 }
%
\newcommand{\Prcvc}[4]{#1^{#4}(#2).\, #3}
\newcommand{\Prcv}[3]{#1^{#3}(#2)}
%
\newcommand{\Pselc}[3]{{#1}\triangleleft\mathtt{#2}.\, #3}
\newcommand{\Psel}[2]{{#1}\triangleleft\mathtt{#2}}
%
\newcommand{\Pbra}[3]{{#1}^{#3}\triangleright \{\mathtt{#2}_{i}:P_{i}\}_{i\in I}}
%
\newcommand{\delay}[2]{\mathtt{delay}(#1).\, #2}
\newcommand{\delayp}[2]{\mathtt{delay}(\stackrel{#1}{\alap}).\, #2}
\newcommand{\grec}[3]{#1*(#2).\, #3}
\newcommand{\rep}[3]{!^{#2}_{#3}#1}
\newcommand{\now}{\mathtt{now}()}
%
\newcommand{\coda}{\mathit{h}}
\newcommand{\inter}[2]{\ocint #1 \ .. \ #2 \ocint}
\newcommand{\alap}{\leftrightarrow}
\newcommand{\has}{\triangleright}
\newcommand{\Pif}[3]{\mathtt{if}~#1~\mathtt{then}~#2~\mathtt{else}~#3}
\newcommand{\sacc}[3]{\overline{#1}(#2).#3}
\newcommand{\srec}[3]{#1(#2).#3}
%\newcommand{\sel}[4]{\oplus\{ \lab{#1} \ \ass{#2} \ : #3 \}_{#4}}
%\newcommand{\selnew}[4]{\oplus\{ \lab{#1} \  : #3 \}_{#4}}
%\newcommand{\selna}[3]{\oplus\{ \lab{#1}: \ass{#2} \}_{#3}}
%\newcommand{\seldiy}[1]{\oplus\{ {#1} \}}
%%
%\newcommand{\lab}[1]{\color{blue}\mathrm{#1}\color{black}}
%\newcommand{\sort}[1]{\mathtt{#1}}
%\newcommand{\ass}[1]{\color{red} { #1}\color{black}}
%%
%\newcommand{\bra}[4]{\& \{ \lab{#1} : #3 \}_{#4}}
%\newcommand{\brana}[3]{\&\{ \lab{#1}:  \}_{#3}}
%\newcommand{\bradiy}[1]{\& \{ #1 \}}

\newcommand{\MND}[2]{MND(#1,  #2 )}

\newcommand{\asym}{ \ \small \square \ }
%TYPES
\newcommand{\ST}{S}
\newcommand{\STi}{S'}
\newcommand{\STii}{S''}
\newcommand{\STiii}{S'''}
\newcommand{\mS}{\mathcal{S}}
\newcommand{\mSs}{\mathcal{S}^*}
%
\newcommand{\tend}{\mathtt{end}}
%
\newcommand{\jollyc}[3]{\asym   \sort{#1} \, {\ass{#3}} \, . #2}
\newcommand{\sendc}[3]{!   \sort{#1} \, {\ass{#3}} \, . #2}
\newcommand{\send}[2]{!  {#2}  \, \sort{#1} }
\newcommand{\rcvc}[3]{?  \sort{#1}\, {\ass{#3}} \, . #2}
\newcommand{\rcv}[2]{?  {#2} \, \sort{#1}}
\newcommand{\fn}[1]{\mathit{fn}(#1)}

\newcommand{\sep}{; \ }
%
%\newcommand{\sel}[4]{\oplus^\ass{#2}\{ \lab{#1} \  \ : #3 \}_{#4}}
\newcommand{\jollymc}[4]{\asym \{ \lab{#1}{\ass{#3}}  : {#2} \}_{#4}}
\newcommand{\selnew}[4]{\oplus \{ \lab{#1}{\ass{#3}}  : {#2} \}_{#4}}
%\newcommand{\selna}[3]{\oplus\{ \lab{#1}: \ass{#2} \}_{#3}}
%\newcommand{\seldiy}[1]{\oplus\{ {#1} \}}
%
\newcommand{\lab}[1]{\color{blue}\mathrm{#1}\color{black}}
\newcommand{\sort}[1]{{#1}}
\newcommand{\ass}[1]{\color{red} \small{ #1}\color{black}}
%
\newcommand{\branew}[4]{\&  \{ \lab{#1}   {\ass{#3}} : {#2} \}_{#4}}
%\newcommand{\brana}[3]{\&^\ass{#2}\{ \lab{#1}:  \}_{#3}}
%\newcommand{\bradiy}[1]{\&^ \{ #1 \}}

%
\newcommand{\dualdash}{\vdash_{\dual}}
\newcommand{\dual}[1]{\overline{#1}}
%Annotations
\newcommand{\fesend}[1]{#1 \stackrel{!}{\Rightarrow}}

\newcommand{\atrue}{\_}
\newcommand{\assert}[1]{\mathtt{assert}(#1)}
\newcommand{\assume}[1]{\mathtt{assume}(#1)}
\newcommand{\consume}[1]{\mathtt{consume}(#1)}
\newcommand{\reject}[1]{\mathtt{reject}(#1)}
\newcommand{\may}[1]{\mathtt{can}(#1)}
%Mixed
\newcommand{\mt}{\mathtt{true}}
\newcommand{\mf}{\mathtt{false}}
\newcommand{\mycite}[1]{(\ref{#1})}
\newcommand{\myeq}{:: =}
\newcommand{\env}{\mathcal{C}}
\newcommand{\myplus}{\ \underline{\uplus} \ }
\newcommand{\entails}{\Rightarrow }
\newcommand{\merge}[3]{ #2 \  \stackrel{#1}{\LEFTcircle}\  #3}
\newcommand{\unmerge}[3]{ #2  \ \stackrel{#1}{\LEFTCIRCLE} \ #3}
\newcommand{\direction}{\updownarrow}
\newcommand{\repeatable}[1]{\circlearrowright (#1)}
\newcommand{\trans}[1]{\stackrel{#1}{\rightarrow}}
\newcommand{\ntrans}[1]{\stackrel{#1}{\not \rightarrow}}
%Zones
\newcommand{\zones}{\mathcal{Z}}
\newcommand{\zone}{z}
\newcommand{\past}[1]{\mathbin{\downarrow {#1}}}
\newcommand{\future}[1]{\mathbin{\uparrow {#1}}}
\newcommand{\zoneReset}[2]{{#1}[{#2}\mapsto 0]}
\newcommand{\invReset}[2]{[{#2}\mapsto 0]^{-1}{#1}}
\newcommand{\rectangle}{\fboxsep0pt\fbox{\rule{1em}{0pt}\rule{0pt}{1ex}}}
\newcommand{\semenv}[3]{(#1, {#3},   #2) }
\newcommand{\ssemenv}[2]{(#1, \  #2 ) }
\newcommand{\mq}{\mathtt{M}}
\newcommand{\stype}[1]{\langle #1 \rangle}
\newcommand{\system}{\mathbf{S}}

\newcommand{\runR}[1][]{\rho_{#1}}
\newcommand{\runRi}[1][]{\rho'_{#1}}

\newcommand{\runconf}[2]{\mathit{conf}_{#1}{(#2)}}
\newcommand{\rundelay}[2]{\mathit{delay}_{#1}{(#2)}}
\newcommand{\runact}[2]{\mathit{act}_{#1}{(#2)}}
\newcommand{\runTime}[2]{\mathit{time}_{#1}{(#2)}}
%\newcommand{\ptp}[1]{\mathtt{\color{blue}#1}}
%\newcommand{\function}[2]{\mathbf{\mathit{\color{red}#1(}}#2\mathbf{\mathit{\color{red})}}}
%\newcommand{\GT}[4]{\ptp{#1}\rightarrow \ptp{#2} : \langle #3 \rangle . \mathit{#4}}
%\newcommand{\GTt}[5]{\ptp{#1}\rightarrow \ptp{#2} : \color{red}\{#5\}\color{black} \langle #3 \rangle . \mathit{#4}}
%\newcommand{\GTI}[4]{\ptp{#1}\rightsquigarrow \ptp{#2} : \langle #3 \rangle . \mathit{#4}}
%\newcommand{\GL}[5]{\ptp{#1}\rightarrow \ptp{#2} : \{ \lab{#3} : #4 \}_{#5}}
%\newcommand{\GLI}[5]{\ptp{#1}\rightsquigarrow \ptp{#2} : \{ #3 : #4 \}_{#5}}
%\newcommand{\LS}[3]{!\langle\ptp{#1}, #2 \rangle . \mathit{#3}}
%\newcommand{\LR}[3]{?\langle\ptp{#1}, #2 \rangle . \mathit{#3}}
%\newcommand{\LSel}[4]{\oplus \langle\ptp{#1}, \{ #2 : #3\}_{#4}\rangle}
%\newcommand{\LBra}[4]{\& \langle\ptp{#1}, \{ #2 : #3\}_{#4}\rangle}
%\newcommand{\tv}{\mathtt t}
%\newcommand{\var}[1]{\mathit{\color{magenta}#1}}
%\newcommand{\lab}[1]{\mathsf{\color[RGB]{17,53,115}#1}}
%\newcommand{\trans}[1]{~~\xrightarrow{#1}~~}
%\newcommand{\proj}{\upharpoonright}
%\newcommand{\mreq}[4]{\color{black}\overline{#1}\color{black}[\ptp{#2}](#3). #4}
%\newcommand{\macc}[4]{{#1}[\ptp{#2}](#3). #4}
%\newcommand{\prcv}[4]{{#1}?(\ptp{#2},#3). #4}
%\newcommand{\pdelsend}[4]{{#1}!\langle\!\langle\ptp{#2},#3\rangle\!\rangle.  #4}
%\newcommand{\pdelrcv}[4]{{#1}?(\! (\ptp{#2},#3)\!). #4}

%\newcommand{\prcvd}[4]{{#1}?((\ptp{#2},#3)). #4}
%\newcommand{\psel}[4]{{#1}\oplus\langle\ptp{#2},#3\rangle. #4}
%\newcommand{\pbra}[5]{{#1}\&(\ptp{#2},\{#3:#4\}_{#5})}
%\newcommand{\pif}[3]{\mathsf{if}~{#1}~\mathsf{then}~{#2}~\mathsf{else}~{#3}}
%\newcommand{\pdef}[2]{\mathsf{def}~{#1}~\mathsf{in}~{#2}}
%\newcommand{\pcall}[3]{#1\langle#2,#3\rangle}
%\newcommand{\und}[1]{\color{red}#1\color{black}}
%\begin{array}{lll}
%T & ::= & \LS{p}{\mathit{S}}{T}\\ 
% & \mid & \LS{p}{\mathsf{T}}{T}\\
% & \mid & \LR{p}{\mathit{U}}{T}\\
% & \mid & \LSel{p}{l_i}{T_i}{i\in I}\\
% & \mid & \LBra{p}{l_i}{T_i}{i\in I}\\
% & \mid & \mu \tv . \mathit{T} \\
% & \mid & \tv \\
% & \mid & \mathtt{end} \\
%\end{array}

%\begin{array}{ll}
%\GT{p}{p'}{\var U}{G'} \upharpoonright \ptp q = 
%\begin{cases}
%\LS{p'}{U}{G'\upharpoonright \ptp q} & \text{if }\ptp q = \ptp p, \\
%\LR{p}{U}{G'\upharpoonright \ptp q} & \text{if }\ptp q = \ptp{p'}, \\
%G\upharpoonright \ptp q & \text{otherwise}.
%\end{cases}\\
%\GL{p}{p'}{l_i}{G_i}{i\in I} \upharpoonright \ptp q = 
%\begin{cases}
%\LSel{p'}{l_i}{G_i\upharpoonright \ptp q}{i\in I} & \text{if }\ptp q = \ptp p, \\
%\LBra{p}{l_i}{G_i\upharpoonright \ptp q}{i\in I} & \text{if }\ptp q = \ptp{p'}, \\
%G_{i0}\upharpoonright \ptp q & \text{if } \ptp p , ~\ptp{p'} \not = \ptp p,~i0\in I,~ G_i\upharpoonright \ptp q = G_j\upharpoonright \ptp q ~\text{for all }i,j\in I.
%\end{cases}
%\end{array}
