
Communication safety
%

\endinput

In the asynchronous setting, at a given point of an execution, deciding which choices to take from a set of options is typically achieved by a \emph{selection} and a corresponding \emph{branch}; where one participant decides which option to take, sends it to another participant, which then continues with the corresponding branch.
% \begin{wrapfigure}[16]{r}{0.15\textwidth}\centering%
%     \input{tex/figs/examples/const_mixed_choice.tex}
%     \caption{}
%     \label{fig:example_const_mixed_choice}
% \end{wrapfigure}
A \emph{mixed-choice} is a point in execution where either party has the opportunity to send the next message, deciding the direction of the overall system. 
Mixed-choice are often disallowed from the asynchronous scenario as it can lead to a breakdown of \emph{communication safety}; which namely refers to freedom from
\begin{inline}+
    \item unspecified receptions
    \item orphan messages
    \item deadlocks
\end{inline}; (see~\cite{Denielou2013,Padovani2016}).
For these reasons, it has become standard to only allow one participant to send a message at any time, as this ensures that both parties take the same choices.
mixed-choice allow for either participant to send a message at within the same choice, and due to the "fire and forget" nature of asynchronous communication, each could send their messages before receiving the others message, and not know how to correctly receive it.
This breakdown leads to incompatible states, and ultimately deadlock.

However, Timeout Session Types \emph{allow} for mixed-choice, where either participant can send the next message, by ensuring that only one may do so at any point in time. 
Time can be used to schedule the interactions between participants within the same choice. The scheduling of interactions is achieved using the \emph{logical clocks} local to each participant, which are kept relatively synchronised as the system progresses (this is guaranteed by \emph{duality}. see~\cref{def:types_dual}). This builds on the work of~\cite{Bocchi2019}, which establishes that progress can be guaranteed for systems within the asynchronous setting, by adhering to \emph{communication safety}. 
