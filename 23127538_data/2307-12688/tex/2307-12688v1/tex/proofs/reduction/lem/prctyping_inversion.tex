%
% ? (lemma 30) : typing a process requirements
\begin{lemma}\label{lem:prc_typ_claims}
    %
    The following claims hold:
    %
\end{lemma}
% ~ (1) typing comm send prc
\begin{claim}\label{claim:prc_typ_claim_comm_send_prc}
    %
    If \IPJudgement*<[\PCalcSend]\ 
    then $\exists\PrcP,\SesEnv'$ such that 
    % \par%
    $\SesEnv=\SesEnv',\PrcP:\CIso;[\TypInteract]$ 
    and $\exists\AsSet[i][\SetI]$ such that
    \Sat*:[\Const_i]\ 
    and $\TypComm_i=\TypSend$ 
    and $\PrcMsg=\MsgType_i$
    and $\PFuncNEQ[\SesEnv]=\emptyset$ 
    and at least one of the following holds:
    \begin{itemize}
        %
        \item %\IMJudgement*{\DataType_\PrcMsg:\DataType_i}\ 
        %and 
        \IPJudgement*>[\SesEnv']:{\PrcP:\CIso+{\ReSet[]}}
        %
        \item $\DataType_i=\TmpTypBTDelegate''$ 
        and \Sat*'\ 
        and $\SesEnv'={\SesEnv}'',\PrcMsg:\CIso'$
        and \IPJudgement*>[{\SesEnv}'']:{\PrcP:\CIso+{\ReSet[]}}
        %
    \end{itemize}
    %
\end{claim}
% ~ typing comm branch prc
\begin{claim}\label{claim:prc_typ_claim_comm_branch_prc}
    %
    If \IPJudgement*<[\PCalcRecv]\ 
    then $\exists\PrcP,\SesEnv'$ such that 
    % \par%
    $\SesEnv=\SesEnv',\PrcP:\CIso;[\TypInteract[j][j]]$ 
    and $\forall\AsSet[j][j]%
    \forall\ValTime<\PrcAfter%
    \forall\ValTime'<\ValTime:$
    $\Trans{\SesEnv'+\ValTime'}|:{\RecvMsg}$
    and $\Sat[\ValClocks+\ValTime']:[\Const_j]$
    and $\exists i,j$ such that
    $\TypComm_j=\TypRecv$ 
    and $\PrcMsg_i=\MsgType_j$
    and $\AsSet[j][k]$
    and $\AsSet[k]\neq\emptyset$
    and $\PFuncNEQ[\SesEnv]=\emptyset$
    %
    and if $\PrcAfter\neq\infty$ 
    then \IPJudgement*<[\Qrc]>[\SesEnv'+\PrcAfter]:{\PrcP:\CIso+{+\PrcAfter};[\TypInteract[j][j]]}.
    %
\end{claim}
% ~ (8) typing comm recv prc
\begin{claim}\label{claim:prc_typ_claim_comm_recv_prc}
    %
    If \IPJudgement*<[\PCalcRecvSingle]\ 
    then $\exists\PrcP,\SesEnv'$ such that
    % \par%
    $\SesEnv=\SesEnv',\PrcP:\CIso;[\TypInteract|]$ 
    and \Sat*\ 
    and $\TypComm=\TypRecv$ 
    and $\PrcMsg=\MsgType$
    and $\PFuncNEQ[\SesEnv]=\emptyset$ 
    and at least one of the following holds for all $\ValTime'<\ValTime$:
    \begin{itemize}
        %
        \item \IPJudgement*:{\PrcMsg:\MsgType}>[\SesEnv'+\ValTime']:{\PrcP:\CIso+{+\ValTime'\ReSet[]}}
        %
        \item $\DataType_\MsgType=\TmpTypBTDelegate''$ 
        and for all \ValClocks*'\ such that \Sat*'\ 
        and \IPJudgement*>[\SesEnv'+\ValTime']:{\PrcP:\CIso+{+\ValTime'\ReSet[]},\PrcMsg:\CIso'}
        %
    \end{itemize}
    %
\end{claim}
% ~ (2) sesenv captures all par prc
\begin{claim}\label{claim:prc_typ_claim_sesenv_par}
    %
    \TODO
    %
\end{claim}
% ~ (5) sesenv scope compat
\begin{claim}\label{claim:prc_typ_claim_sesenv_scope_compat}
    %
    \TODO
    %
\end{claim}
% ~ (6) empty buffers/queues
\begin{claim}\label{claim:prc_typ_claim_empty_buff}
    %
    \TODO[why end only in~\cite{Bocchi2019}?]
    %
\end{claim}
% ~ (7) typing buffers/queues
\begin{claim}\label{claim:prc_typ_claim_buff_queue}
    %
    \TODO[why $ab\PrcTyped ba$ in~\cite{Bocchi2019}?]
    %
\end{claim}
% ~ (9) delay
\begin{claim}\label{claim:prc_typ_claim_delay}
    %
    \TODO
    %
\end{claim}
% ~ (3) prc rec typ
\begin{claim}\label{claim:prc_typ_claim_rec_call}
    %
    \TODO
    %
\end{claim}
% ~ (4) rec prc def 
\begin{claim}\label{claim:prc_typ_claim_rec_def}
    %
    \TODO
    %
\end{claim}
% ! proof
\begin{proof}
    %
    By inspection on the structure of \Prc*\ as in~\cref{sec:prc_calc} typed using the rules in~\cref{fig:prc_typ_rule} using the environments as defined in~\cref{sec:prc_typ_env}.
    %
\end{proof}
%