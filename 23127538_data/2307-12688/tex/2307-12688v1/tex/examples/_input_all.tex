
\paragraph*{message throttling}\label{par:example_message_throttling}
\input{tex/examples/message_throttling/diagram.tex}
\input{tex/examples/message_throttling/type.tex}
\input{tex/examples/message_throttling/process.tex}

\paragraph*{producer consumer}\label{par:example_producer_consumer}
\NOTE[incoming recursive edges that require a reset in the diagram are not able to be described by types (?retry or ?data -> A) the clocks instead are the same as when A was first reached]
\input{tex/examples/producer_consumer/diagram.tex}
\NOTE[therefore in types, we must acknowledge that \IRecCall*[A]\ is the inital state, where all clocks are 0, but that diagrams that either require a value to be preserved over loops can not be described.]
\input{tex/examples/producer_consumer/type.tex}
\input{tex/examples/producer_consumer/process.tex}

\subsection{typing processes}
% \input{tex/examples/outdated/example_process_typing.tex}

% \subsection{other}
% \subsubsection{const diag reset sat}
% \input{tex/examples/const_diag_reset_sat.tex}
% \subsubsection{const mixed-choice}
% \input{tex/examples/const_mixed_choice.tex}


% \paragraph*{unnamed 1}
% \begin{equation}
%     \begin{array}[c]{r c l}
%         %
%         \TypeS & = & %
%         \IChoice[%
%             \IType?{a}[x\leq 1][x].{%
%                 \IType!{c}.{%
%                     \IRecDef[a].{%
%                         \IChoice[%
%                             \IType?{d}[x\leq 1],%
%                             \IType!{e}[1<x].{\IRecCall[a]}%
%                         ]%
%                     }%
%                 }%
%             },%
%             \IType!{b}[2<x<3]%
%         ]%
%         %
%         \\[2ex]%
%         \\[2ex]%
%         \Prc & = & %
%         \PSet{x}.{%
%             \PRecv[a]:{% * recv
%                 \PSet{x}.{%
%                     \PSend[c].{%
%                         \PDefRec:{%
%                             \PRecv[d]<{1}>{% * after
%                                 \PRec%
%                             }%
%                         }%
%                     }%
%                 }%
%             }<{1}>{% * after 1
%                 \PDelay[t=1].{%
%                     \PIf[2<x<3]% * use defaults (then end, else fail)
%                 }%
%             }%
%         }%
%         %
%     \end{array}
% \end{equation}

% \begin{equation}
%     \begin{array}[c]{r c l}
%         %
%         \Dual[\TypeS] & = & %
%         \IChoice[%
%             \IType!{a}[y\leq 1][y].{%
%                 \IType?{c}.{%
%                     \IRecDef[b].{%
%                         \IChoice[%
%                             \IType!{d}[y\leq 1],%
%                             \IType?{e}[1<y].{\IRecCall[b]}%
%                         ]%
%                     }%
%                 }%
%             },%
%             \IType?{b}[2<y<3]%
%         ]%
%         %
%         \\[2ex]%
%         \\[2ex]%
%         \Qrc & = & %
%         \PSet{y}.{%
%             \PIf[y\leq 1]:{\PThen[%
%                 \PSend_{q}[a].{%
%                     \PSet{y}.{%
%                         \PRecv_{q}[c]:{%
%                             \PDefRec:{%
%                                 \PIf[y\leq 1]:{\PThen[%
%                                     \PSend_{q}[d]%
%                                 ]}:{\PElse[%
%                                     \PRecv_{q}[e]:{%
%                                         \PRec%
%                                     }%
%                                 ]}%
%                             }%
%                         }%
%                     }%
%                 }%
%             ]}:{\PElse[%
%                 \PDelay[t=1].{%
%                     \PRecv[b]<{1}% * after: failed
%                 }%
%             ]}%
%         }%
%         %
%     \end{array}
% \end{equation}

\paragraph*{unnamed 2 (types)}

\begin{equation}
    %
    \begin{array}[t]{l c l}%
        %
        \TypeS & = & %
        \IChoice[%
            \IType?{a}[x\leq 1][x].{%
                \IType!{c}.{%
                    \IRecDef[a].{%
                        \IChoice[%
                            \IType?{d}[x\leq 1],%
                            \IType!{e}[1<x].{\IRecCall[a]}%
                        ]%
                    }%
                }%
            },%
            \IType!{b}[2<x<3]%
        ]%
        %
        \\[2ex]%
        \\[2ex]%
        \Dual[\TypeS] & = & %
        \IChoice[%
            \IType!{a}[y\leq 1][y].{%
                \IType?{c}.{%
                    \IRecDef[b].{%
                        \IChoice[%
                            \IType!{d}[y\leq 1],%
                            \IType?{e}[1<y].{\IRecCall[b]}%
                        ]%
                    }%
                }%
            },%
            \IType?{b}[2<y<3]%
        ]%
        %
    \end{array}%
    %
\end{equation}

\def\typeslz{\TypeS_{0}}
\def\typesli{\TypeS_{1}}
\def\typeslii{\TypeS_{2}}
\def\typesliii{\TypeS_{3}}
\def\typesliv{\TypeS_{4}}
\def\typeslv{\TypeS_{5}}
\def\typeslvi{\TypeS_{6}}
\def\typeslvii{\TypeS_{7}}

\def\typetlz{\Dual[\TypeS]_{0}}
\def\typetli{\Dual[\TypeS]_{1}}
\def\typetlii{\Dual[\TypeS]_{2}}
\def\typetliii{\Dual[\TypeS]_{3}}
\def\typetliv{\Dual[\TypeS]_{4}}
\def\typetlv{\Dual[\TypeS]_{5}}
\def\typetlvi{\Dual[\TypeS]_{6}}
\def\typetlvii{\Dual[\TypeS]_{7}}

\def\typesz{\IChoice|[\typesli,\typeslvii]}
\def\typesi{\IType?{a}[x\leq 1][x].{\typeslii}}
\def\typesii{\IType!{c}.{\typesliii}}
\def\typesiii{\IRecDef[a].{\typesliv}}
\def\typesiv{\IChoice|[\typeslv,\typeslvi]}
\def\typesv{\IType?{d}[x\leq 1]}
\def\typesvi{\IType!{e}[1<x].{\IRecCall[a]}}
\def\typesvii{\IType!{b}[2<x<3]}

\def\typetz{\IChoice|[\typetli,\typetlvii]}
\def\typeti{\IType!{a}[y\leq 1][y].{\typetlii}}
\def\typetii{\IType?{c}.{\typetliii}}
\def\typetiii{\IRecDef[b].{\typetliv}}
\def\typetiv{\IChoice|[\typetlv,\typetlvi]}
\def\typetv{\IType!{d}[y\leq 1]}
\def\typetvi{\IType?{e}[1<y].{\IRecCall[b]}}
\def\typetvii{\IType?{b}[2<y<3]}

\begin{equation}
    %
    \begin{array}[t]{l c l c l p{2ex} l c l c l }%
        %
        \TypeS & ::= & \typeslz & = & \typesz & &%
        \Dual[\TypeS] & ::= & \typetlz & = & \typetz \\%
        %
        & \mid & \typesli & = & \typesi & &%
        & \mid & \typetli & = & \typeti \\%
        %
        & \mid & \typeslii & = & \typesii & &%
        & \mid & \typetlii & = & \typetii \\%
        %
        & \mid & \typesliii & = & \typesiii & &%
        & \mid & \typetliii & = & \typetiii \\%
        %
        & \mid & \typesliv & = & \typesiv & &%
        & \mid & \typetliv & = & \typetiv \\%
        %
        & \mid & \typeslv & = & \typesv & &%
        & \mid & \typetlv & = & \typetv \\%
        %
        & \mid & \typeslvi & = & \typesvi & &%
        & \mid & \typetlvi & = & \typetvi \\%
        %
        & \mid & \typeslvii & = & \typesvii & &%
        & \mid & \typetlvii & = & \typetvii%
        %
    \end{array}%
    %
\end{equation}

\paragraph*{unnamed 2 (processes)}

\begin{equation}
    %
    \begin{array}[t]{l c l}%
        %
        \Prc & = & %
        \PSet{x}/.{%
            \PRecv[a].{% * recv
                \PSet{x}/.{%
                    \PSend[c]/.{%
                        \PDefRec[A].{%
                            \PRecv[d]<{1}>{% * after
                                \PRec[A]%
                            }%
                        }%
                    }%
                }%
            }<{1}>{% * after 1
                \PDelay[t=1]/.{%
                    \PIf[2<x<3]% * use defaults (then end, else fail)
                }%
            }%
        }%
        %
        \\[2ex]%
        \\[2ex]%
        \Qrc & = & %
        \PSet{y}.{%
            \PIf[y\leq 1]:{\PThen[%
                \PSend_{q}[a]/.{%
                    \PSet{y}/.{%
                        \PRecv_{q}[c].{%
                            \PDefRec[B].{%
                                \PIf[y\leq 1]:{\PThen[%
                                    \PSend_{q}[d]%
                                ]}:{\PElse[%
                                    \PRecv_{q}[e].{%
                                        \PRec[B]%
                                    }%
                                ]}%
                            }%
                        }%
                    }%
                }%
            ]}:{\PElse[%
                \PDelay[t=1]/.{%
                    \PRecv[b]<{1}% * after: failed
                }%
            ]}%
        }%
        %
    \end{array}%
    %
\end{equation}

\def\prclz{\Prc_{0}}
\def\prcli{\Prc_{1}}
\def\prclii{\Prc_{2}}
\def\prcliii{\Prc_{3}}
\def\prcliv{\Prc_{4}}
\def\prclv{\Prc_{5}}
\def\prclvi{\Prc_{6}}
\def\prclvii{\Prc_{7}}

\def\qrclz{\Qrc_{0}}
\def\qrcli{\Qrc_{1}}
\def\qrclii{\Qrc_{2}}
\def\qrcliii{\Qrc_{3}}
\def\qrcliv{\Qrc_{4}}
\def\qrclv{\Qrc_{5}}
\def\qrclvi{\Qrc_{6}}
\def\qrclvii{\Qrc_{7}}
\def\qrclviii{\Qrc_{8}}
\def\qrclix{\Qrc_{9}}
\def\qrclx{\Qrc_{10}}
\def\qrclxi{\Qrc_{11}}

\def\prcz{\PSet{x}.{\prcli}}
\def\prci{\PRecv[a].{\prclii}<{1}>{\prclvi}}
\def\prcii{\PSet{x}.{\prcliii}}
\def\prciii{\PSend[c].{\prcliv}}
\def\prciv{\PDefRec[A].{\prclv}}
\def\prcv{\PRecv[d]<{1}>{\PRec[A]}}
\def\prcvi{\PDelay[t=1].{\prclvii}}
\def\prcvii{\PIf[2<x<3]}

\def\qrcz{\PSet{y}.{\qrcli}}
\def\qrci{\PDelay[y\leq 1].{\qrclii}}% ~ delay inserted
\def\qrcia{\PDelay{y}.{\qrclii}}% ~ delay resolved
\def\qrcib{\PDelay{y}.{\qrclii}}% ~ delay resolved
\def\qrcic{\PDelay{y}.{\qrclii}}% ~ delay resolved
\def\qrcii{\PIf[y\leq 1]:{\PThen[\qrcliii]}:{\PElse[\qrclx]}}
\def\qrciii{\PSend_{q}[a].{\qrcliv}}
\def\qrciv{\PSet{y}.{\qrclv}}
\def\qrcv{\PRecv_{q}[c].{\qrclvi}}
\def\qrcvi{\PDefRec[B].{\qrclvii}}
\def\qrcvii{\PIf[y\leq 1]:{\PThen[\qrclviii]}:{\PElse[\qrclix]}}
\def\qrcviii{\PSend_{q}[d]}
\def\qrcix{\PRecv_{q}[e].{\PRec_{b}}}
\def\qrcx{\PDelay[t=1].{\qrclxi}}
\def\qrcxi{\PRecv[b]<{1}}

\begin{equation}
    %
    \begin{array}[t]{c p{2ex} c}%
        \begin{array}[t]{l c l c l}%
            %
            \Prc & ::= & \prclz & = & \prcz \\% 
            & \mid & \prcli & = & \prci \\%
            & \mid & \prclii & = & \prcii \\%
            & \mid & \prcliii & = & \prciii \\%
            & \mid & \prcliv & = & \prciv \\%
            & \mid & \prclv & = & \prcv \\%
            & \mid & \prclvi & = & \prcvi \\%
            & \mid & \prclvii & = & \prcvii %
            %
        \end{array}%
        & & %
        \begin{array}[t]{l c l c l}%
            %
            \Qrc & ::= & \qrclz & = & \qrcz \\% 
            & \mid & \qrcli & = & \qrci \\%
            & \mid & \qrclii & = & \qrcii \\%  
            & \mid & \qrcliii & = & \qrciii \\%
            & \mid & \qrcliv & = & \qrciv \\%
            & \mid & \qrclv & = & \qrcv \\%
            & \mid & \qrclvi & = & \qrcvi \\%
            & \mid & \qrclvii & = & \qrcvii \\%
            & \mid & \qrclviii & = & \qrcviii \\%
            & \mid & \qrclix & = & \qrcix \\%
            & \mid & \qrclx & = & \qrcx \\%
            & \mid & \qrclxi & = & \qrcxi %
            %
        \end{array}%
    \end{array}%
    %
\end{equation}
