\begin{equation*}
	%
	\IRecDef[A].{%
		\IType!{msg1}[3\leq x][x].{%
			\IChoice[%
				\IType?{ack1}[x<3][x].{%
					\IRecCall[A]%
				},%
				\IRecDef[B].{%
					\IType!{msg2}[1\leq x\leq 5][x].{%
						\IChoice[%
							\IType?{ack2}[x<3][x].{%
								\IRecCall[B]%
							},%
							\IType!{tout}[3\leq x][x].{%
								\TypeEnd%
							}%
						]%
					}%
				}%
			]%
		}%
	}%
	%
\end{equation*}
\endinput
% \begin{array}{c}
% \text{S}=%

\mrec\,{{\mreclabel}^{A}}\,.%
% \left\{%
\msend\mathtt{msg1}\,\left(3\leq x,\,x\right).\,%
\mrec\,{{\mreclabel}^{B}}\,.%
\left\{%
\begin{array}{l}%
	\mrecv\mathtt{ack1}\,\left(x<3,\,x\right)\,.\,%
	{{\mreclabel}^{A}}%
	\\%
	\msend\mathtt{msg2}\,\left(3\leq x,\,x\right)\,.\,%
	\left\{
	\begin{array}{l}%
		\mrecv\mathtt{ack2}\,\left(x<3,\,x\right)\,.\,%
		{{\mreclabel}^{B}}%
		\\%
		\msend\mathtt{timeout}\,\left(3\leq x\right)\,.\,%
		\mend%
	\end{array}
	\right\}%
\end{array}%
\right\}%
% \right\}%
% \end{array}
\end{equation*}