\resizebox{\textwidth}{!}{
   \begin{tikzpicture}[scale=0.2]
      %
      \tikzstyle{every node}+=[inner sep=0pt]
      %
      \draw [black] (16.3,-11.3) circle (3);
      \draw (16.3,-11.3) node {$A$};
      \draw [black] (35.9,-11.3) circle (3);
      \draw (35.9,-11.3) node {$B$};
      \draw [black] (35.9,-11.3) circle (2.4);
      \draw [black] (16.3,-20.8) circle (3);
      \draw (16.3,-20.8) node {$C$};
      %
      \draw [black] (11.3,-11.3) -- (13.3,-11.3);
      \fill [black] (13.3,-11.3) -- (12.5,-10.8) -- (12.5,-11.8);
      %
      \draw [black] (19.3,-11.3) -- (32.9,-11.3);
      \fill [black] (32.9,-11.3) -- (32.1,-10.8) -- (32.1,-11.8);
      \draw (26.1,-11.8) node [below] {$\TypSend\!\;\squared{$\mathtt{stop}$}\mbox{ }(x<1)$};
      %
      \draw [black] (16.814,-8.356) arc (197.82696:-90.17304:2.25);
      \draw (29.01,-5.35) node [above] {$\TypRecv\!\;\squared{$\mathtt{data}$}\mbox{ }(1\leq x\leq 5,\mbox{ }x)$};
      %
      \draw [black] (14.13,-18.787) arc (-149.02088:-210.97912:5.316);
      \fill [black] (14.13,-18.79) -- (14.15,-17.84) -- (13.29,-18.36);
      \draw (12.87,-16.05) node [left] {$\TypSend\!\;\squared{$\mathtt{tout}$}\mbox{ }(6\leq x,\mbox{ }x)$};
      %
      \draw [black] (18.729,-12.982) arc (38.03468:-38.03468:4.979);
      \fill [black] (18.73,-12.98) -- (18.83,-13.92) -- (19.62,-13.3);
      \draw (20.29,-16.05) node [right] {$\TypRecv\!\;\squared{$\mathtt{retry}$}\mbox{ }(1\leq ,\mbox{ }x)$};
      %
      \draw [black] (52.5,-11.3) circle (3);
      \draw (52.5,-11.3) node {$A'$};
      \draw [black] (72.3,-11.3) circle (3);
      \draw (72.3,-11.3) node {$B'$};
      \draw [black] (72.3,-11.3) circle (2.4);
      \draw [black] (52.5,-22) circle (3);
      \draw (52.5,-22) node {$C'$};
      %
      \draw [black] (47.5,-11.3) -- (49.5,-11.3);
      \fill [black] (49.5,-11.3) -- (48.7,-10.8) -- (48.7,-11.8);
      %
      \draw [black] (55.5,-11.3) -- (69.3,-11.3);
      \fill [black] (69.3,-11.3) -- (68.5,-10.8) -- (68.5,-11.8);
      \draw (62.4,-11.8) node [below] {$\TypRecv\!\;\squared{$\mathtt{stop}$}\mbox{ }(y<1)$};
      %
      \fill [black] (18.95,-9.92) -- (19.86,-10.15) -- (19.56,-9.2);
      \draw [black] (52.912,-8.34) arc (199.80265:-88.19735:2.25);
      \draw (64.9,-5.22) node [above] {$\TypSend\!\;\squared{$\mathtt{data}$}\mbox{ }(1\leq y\leq 5,\mbox{ }y)$};
      %
      \fill [black] (55.1,-9.83) -- (56.02,-10.03) -- (55.68,-9.09);
      \draw [black] (49.946,-20.496) arc (-136.01109:-223.98891:5.538);
      \fill [black] (49.95,-20.5) -- (49.75,-19.57) -- (49.03,-20.27);
      \draw (47.89,-16.65) node [left] {$\TypRecv\!\;\squared{$\mathtt{tout}$}\mbox{ }(6\leq y,\mbox{ }y)$};
      %
      \draw [black] (54.843,-13.121) arc (37.36561:-37.36561:5.815);
      \fill [black] (54.84,-13.12) -- (54.93,-14.06) -- (55.73,-13.45);
      \draw (56.54,-16.65) node [right] {$\TypSend\!\;\squared{$\mathtt{retry}$}\mbox{ }(1\leq y,\mbox{ }y)$};
      %
   \end{tikzpicture}
}