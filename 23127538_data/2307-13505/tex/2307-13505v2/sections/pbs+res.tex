% !TEX root =  ../main.tex

\begin{definition}[Register minimization problem]
  \label{def:min-prob}
  Given a class $\mathcal{C}$ of \CRA, we ask:
  \begin{itemize}
    \item \textbf{Input:} a rational series $f$ realized by a given \WA,
    and an integer $\rCRA \in \mathbb{N}$
    \item \textbf{Question:} Does there exist a \CRA realizing $f$
    in the class $\mathcal{C}$ with at most $\rCRA$ registers?
  \end{itemize}
\end{definition}

We will show this problem is decidable for the classes of linear and affine \CRA:
\begin{restatable}{theorem}{thmRegMin}
\label{thm:reg-min}
The register minimization problem is decidable for the classes of linear
and affine \CRA
in \texptime.
Furthermore, the algorithm exhibits a solution when it exists.
\end{restatable}

For a rational series $f$, the minimal number of registers needed
to realize $f$ using \CRA in some class $\mathcal{C}$ 
is called its \emph{register complexity with respect to class $\mathcal{C}$}.
\todo{PA: new}
Dually, if one wants to minimize the number of states, then we know we can always build
a linear (hence affine) \CRA with a single state (Proposition~\ref{prop:linRepEquivCRA1Stt}).
A more ambitious goal is to try to reduce simultaneously the number of states 
and of registers, in some given class $\mathcal{C}$ of \CRA.
Observe that, in general, there is no \CRA with minimal numbers of both states 
and registers (see Example~\ref{ex:CRA}).
Given a rational series $f$, we say that a pair $(\sCRA,\rCRA)$ is \emph{optimal} if
$f$ can be realized by a \CRA
in class $\mathcal{C}$ with $\sCRA$ states and $\rCRA$ registers
and no \CRA of $\mathcal{C}$ realizing $f$ with at most $\sCRA$ states can have strictly
less than $\rCRA$ registers and vice-versa.

Formally, we call the \emph{state-register complexity with respect to class $\mathcal{C}$}
of a rational series $f$,
the set of optimal pairs of integers $(\sCRA,\rCRA)$.

This leads to the definition of a second minimization problem:
\begin{definition}[State-Register minimization problem]
  Given a class $\mathcal{C}$ of \CRA, we ask:
  \begin{itemize}
    \item \textbf{Input:} a rational series $f$ realized by a given \WA,
    and two integers $\sCRA, \rCRA \in \mathbb{N}$
    \item \textbf{Question:} Does there exist a \CRA realizing $f$
    in the class $\mathcal{C}$ with at most $\sCRA$ states and at most $\rCRA$ registers?
  \end{itemize}
\end{definition}

In the sequel, we solve this problem for linear and affine \CRA:
\begin{restatable}{theorem}{thmStateRegMin}
\label{thm:state-reg-min}
The state-register minimization problem is decidable for the classes of linear and affine \CRA
in \nexptime.
Furthermore, the algorithm exhibits a solution when it exists.
\end{restatable}

\begin{remark}
  The complexities we give are valid for fields where it is possible 
  to perform elementary operations efficiently (\eg $\mathbb{Q}$).
  See Remark~\ref{rmk:cpxOnField} for a more detailed discussion on the matter.
\end{remark}