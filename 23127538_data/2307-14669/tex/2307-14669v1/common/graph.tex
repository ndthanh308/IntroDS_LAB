We introduce yet another class of objects that are in 1-to-1 correspondence
with normal \osf terms and rooted solved \osf clauses, namely that of \osf
graphs, originally defined in \cite{AitKaci1993b}.

\begin{definition}[\osf graph \cite{AitKaci1993b}]
\label{def:osf_graph}
  An \textit{\osf graph} is a directed labeled graph
    $g = \ograph$
  such that
  \begin{itemize}
    \item $N\subseteq\V$ and $\X\in N$ is a distinguished node called the
      \textit{root} of $g$;
    \item $\lambda_N: N\to\S$ is a node labeling function such that each
      node of $g$ is labeled by a non-bottom sort, i.e.,
      $\lambda_N(N)\subseteq\S\setminus\{ \bots \}$;
    \item $\lambda_E: E\to \F$ is an edge labeling function that assigns a
      feature to each edge $(\Y, \Z)\in E$ in such a way that
      no two edges outgoing from the same node are labeled by the same
      feature, i.e., if $\lambda_E(\Y, \Z) = \lambda_E(\Y, \Z[Z'])$ then
      $\Z = \Z[Z']$; and
    \item every nodes lies on a directed path starting at the root.
  \end{itemize}
\end{definition}


\begin{prop}[Equivalence of $\psi$-terms, rooted solved \osf clauses and
  \osf graphs \cite{AitKaci1993b}]
\label{prop:bijections}
  There exist bijective mappings
  $\pshi : \PhiR\to\Psi$, $\psig : \dom[\gg]\to\Psi$
  $G : \Psi\to\dom[\gg]$, and $\phi : \Psi\to\PhiR$,
i.e., such that
  $\id[\PhiR] = \phi\circ\pshi$,
  $\id[\Psi]  = \pshi\circ\phi = \psi_G\circ G$, and
  $\id[{\dom[\gg]}] = G\circ\psi_G$.
\end{prop}
We will write $\phi(g)$ instead of $\phi(\psi_G(g))$, or $G(\phi)$ instead
of $G(\pshi(\phi))$. We will also simply write $\psi(g)$ for $\psig(g)$, and
$\psi(\phi)$ for $\pshi(\phi)$. We refer the reader to
\cite{AitKaci1993b} for the definitions of these mappings.

\begin{example}[\osf graph]
\label{ex:osf_graph}
  Let $g = (N, E, \lambda_N, \lambda_E, \Xj[0])$ be such that
  \begin{itemize}
    \item $N = \{ \Xj[0], \Xj[1], \Xj[2], \X, \Y \}$;
    \item $E = \{
        (\Xj[0], \Xj[1]),
        (\Xj[0], \X),
        (\Xj[0], \Y),
        (\X, \Y),
        (\X, \Xj[2]),
        (\Y, \X)
      \}$;
    \item $\lambda_N = \{
        (\Xj[0], \s[movie]),
        (\Xj[1], \s[string]),
        (\Xj[2], \s[string]),
        (\X, \s[director]),
        (\Y, \s[writer])
      \}$; and
    \item $\lambda_E = \left\{
        \begin{array}{lll}
          ((\Xj[0], \Xj[1]), \f[title]),&
          ((\Xj[0], \X), \f[directed\_by]),&
        ((\Xj[0], \Y), \f[written\_by]),\\
          ((\X, \Y), \f[spouse]),&
          ((\X, \Xj[2]), \f[name]),&
        ((\Y, \X), \f[spouse])
        \end{array}
      \right\}$.
  \end{itemize}
  The \osf graph $g$ is depicted in \cref{fig:osf_graph}, where the root
  node is identified with a double ellipse, and the node
  identifiers (i.e., the variables) are omitted. Let $\psi$ be the \osf
  term from \cref{ex:osf_term} and $\phi$ be the \osf clause from
  \cref{ex:osf_clause}: then $g = G(\phi) = G(\psi)$, $\phi = \phi(g)$ and
  $\psi = \psi(g)$.
\end{example}

\input{figures/osf_graph}
