\documentclass[12pt]{amsart}

\input{"Preamble"}

%\usepackage{standalone} 
%\def\inmain{1}

\title{Smooth categories over a rigid semisimple base}

\author{G. Stefanich}

\externaldocument{Introduction}
\externaldocument{Preliminaries}
\externaldocument{Filtered}
\externaldocument{GRings}

\date{}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Smooth categories over a rigid semisimple base}\label{section invertible semisimple}

The goal of this section is to supply proofs of theorems \ref{theorem principal 2 introduction} and \ref{teo introduction spectral} in the case when $R$ is a field. We will in fact obtain this as a corollary of a more general result classifying smooth categories over a simisimple rigid symmetric monoidal Grothendieck abelian category $\acal$ (and its connective derived category).

We begin in \ref{subsection azumaya} with some general background concerning the notions of smooth, proper, fully dualizable, and invertible categories linear over a base presentable symmetric monoidal category. Specialized to the case of categories of modules this yields notions of smooth, proper, and Azumaya algebras. 

In \ref{subsection smooth 11} we prove the first main result of this section: if $\ccal$ is a smooth $\acal$-linear cocomplete category, then $\ccal$ is the category of modules over a smooth algebra in $\acal$. We carry this out in three steps:
\begin{itemize}
\item The fact that $\ccal$ is smooth is used to write the identity of $\ccal$ as a retract of an endofunctor that factors through $\acal$. This allows us to deduce that $\ccal$ is a spectral Grothendieck abelian category.
\item The spectrality of $\ccal$ is used to deduce that its dual $\ccal^\vee$ is locally finitely generated. Reversing the roles of $\ccal$ and $\ccal^\vee$ we conclude that $\ccal$ is semisimple.
\item The smoothness of $\ccal$ is used one last time to show that $\ccal$ admits a single compact projective $\acal$-generator.
\end{itemize} 

In \ref{subsection smooth infty} we prove a variant of the above result: if $\ccal$ is a smooth $\der(\acal)_{\geq 0}$-linear cocomplete category, then $\ccal$ is the category of modules in $\der(\acal)_{\geq 0}$ over a smooth algebra in $\acal$. Our proof of this has two main steps:
\begin{itemize}
\item  The smoothness of $\ccal$ is used to show that  $\Ho(\ccal)$ is a spectral category.
\item Combining the above with our general results on dualizable linear categories from \ref{subsection compactly assembled} we conclude that $\ccal$ is Grothendieck prestable, and the derived category of its heart. The result then follows as a consequence of the $(1,1)$-categorical theorem.
\end{itemize}

As discussed in the introduction, in the stable context there are many more examples of fully dualizable linear categories, and we make no attempt at classifying them. The problem becomes more tractable if instead of fully dualizable categories we study invertible categories: we will prove in  \ref{subsection invertible stable} that every invertible $\der(\acal)$-linear category is the category of modules in $\der(\acal)$ over an Azumaya algebra in $\acal$.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Smooth, proper, and Azumaya algebras}\label{subsection azumaya}

We begin with some generalities concerning the notion of smoothness and properness for linear categories.

\begin{definition}\label{def smooth and proper}
Let $\Mcal$ be a presentable symmetric monoidal category. We say that an $\Mcal$-linear cocomplete category $\ccal$ is smooth (resp. proper) if and only if it is dualizable in $\Mod_\Mcal(\catl)$ and the unit (resp. counit) of the duality admits a colimit preserving $\Mcal$-linear right adjoint. We say that $\ccal$ is fully dualizable if it is both smooth and proper.
\end{definition}

\begin{remark}
Let $\Mcal$ be a presentable symmetric monoidal category. It follows from proposition \ref{proposition dualizable is presentable} that if a $\Mcal$-linear cocomplete category is smooth or proper then is automatically presentable.
\end{remark}

\begin{remark}\label{remark base change proper}
Let $f: \Mcal \rightarrow \Mcal'$ be a morphism of commutative algebras in $\Pr^L$. If $\ccal$ is a smooth (resp. proper) $\Mcal$-linear presentable category then $\ccal \otimes_\Mcal \Mcal'$ is a smooth (resp. proper) $\Mcal'$-linear presentable category.
\end{remark}

\begin{remark}\label{remark properness when comp gen}
Let $1 \leq n \leq \infty$. Let $\Mcal$ be a presentable symmetric monoidal additive $(n,1)$-category. Assume that $\Mcal$ is generated under colimits by $n$-strongly compact objects, and that $n$-strongly compact objects and dualizable objects of $\Mcal$ agree. Let $\ccal$ be a dualizable $\Mcal$-linear  presentable category.
\begin{itemize}
\item $\ccal$ is smooth if and only if the identity is $n$-strongly compact in $\Funct_{\Mcal}(\ccal, \ccal)$.
\item Assume that $\ccal$ is  generated under colimits by $n$-strongly compact objects. Then $\ccal$ is proper if and only if for every pair of $n$-strongly compact objects $X, Y$ in $\ccal$ the Hom object $\Hom^\enh_\ccal(X, Y)$ is an $n$-strongly compact object of $\Mcal$.
\end{itemize} 
\end{remark}

\begin{remark}\label{remark end of id dualizable}
Let $\Mcal$ be a presentable symmetric monoidal category and let $\ccal$ be a fully dualizable $\Mcal$-linear presentable category. Then the dual to the right adjoint of the unit (resp. counit) of the duality for $\ccal$ provides an $\Mcal$-linear left adjoint for the counit (resp. unit) of the duality for $\ccal$. We note that these adjoints themselves also have all adjoints, which are $\Mcal$-linear and colimit preserving, see for instance \cite{LurieField} proposition 4.2.3. In particular, it follows from this that the object of endomorphisms of the identity in $\Funct_\Mcal(\ccal, \ccal)$ is dualizable.
\end{remark}

Specializing to categories of modules, we obtain notions of smooth and proper algebras:

\begin{definition}
Let $\Mcal$ be a presentable symmetric monoidal category. An algebra object $A$ in $\Mcal$ is said to be smooth (resp. proper) if $\LMod_A(\Mcal)$ is a smooth (resp. proper) $\Mcal$-linear presentable category.
\end{definition}

\begin{remark}
Let $\Mcal$ be a presentable symmetric monoidal category. Then an algebra $A$ in $\Mcal$ is smooth (resp. proper) if and only if $A^\op$ is smooth (resp. proper).
\end{remark}

\begin{remark}
Let $\Mcal$ be a presentable symmetric monoidal category and let $A$ be an algebra in $\Mcal$. Then:
\begin{itemize}
\item $A$ is smooth if and only if $A$ is right dualizable as a right $A \otimes A^\op$-module.
\item $A$ is proper if and only if $A$ is dualizable as an object of $\Mcal$.
\end{itemize}
\end{remark}

\begin{remark}\label{remark characterizations smooth}
Let $1 \leq n \leq \infty$. Let $\Mcal$ be a presentable symmetric monoidal additive $(n,1)$-category. Assume that $\Mcal$ is generated under colimits by $n$-strongly compact objects, and that $n$-strongly compact objects and dualizable objects of $\Mcal$ agree. Let $A$ be an algebra in $\Mcal$. Then the following are equivalent:
\begin{itemize}
\item $A$ is smooth.
\item $A$ is $n$-strongly compact as an $A$-bimodule.
\item The canonical morphism of $A$-bimodules $A \otimes A \rightarrow A$ admits a section (in other words, $A$ is separable).
\end{itemize} 
\end{remark}

\begin{remark}\label{remark separable are semisimple}
Let $\acal$ be a semisimple rigid symmetric monoidal Grothendieck abelian category and let $A$ be a smooth algebra in $\acal$. It follows from remark \ref{remark characterizations smooth} that every left $A$-module in $\acal$ is a retract of a free left $A$-module. The fact that every object of $\acal$ is projective now implies that every left $A$-module is projective. Therefore $\LMod_A(\acal)$ is semisimple.
\end{remark}

\begin{remark}
Let $\acal$ be a Grothendieck abelian category, rigid and generated by compact projective objects, and let $A$ be a flat algebra in $\acal$. Then $A$ is smooth as an algebra in $\acal$ if and only if it is smooth as an algebra in $\der(\acal)_{\geq 0}$.
\end{remark}

We now concentrate in those smooth and proper algebras whose category of modules is invertible.

\begin{definition}
Let $\Mcal$ be a presentable symmetric monoidal category. An algebra object $A$ in $\Mcal$ is said to be Azumaya if $\LMod_A(\Mcal)$ is an invertible object of $\Mod_\Mcal(\Pr^L)$.
\end{definition}

\begin{remark}
Let $\Mcal$ be a presentable symmetric monoidal category and let $A$ be an algebra in $\Mcal$. Then $\LMod_A(\Mcal)$ is a dualizable object of $\Mod_\Mcal(\Pr^L)$, with dual given by $\RMod_A(\Mcal)$. It follows that $A$ is Azumaya if and only if $A^\op$ is Azumaya, and both conditions are equivalent to $A \otimes A^\op$ being Morita equivalent to the unit algebra in $\Mcal$.
\end{remark}

Our next proposition provides an alternative characterization of Azumaya algebras which makes no reference to Morita theory:

\begin{proposition}\label{prop equivalences azumaya}
Let $\Mcal$ be a presentable symmetric monoidal category and let $A$ be an algebra in $\acal$. Then $A$ is Azumaya if and only if the following conditions are satisfied:
\begin{enumerate}
\item $A$ is dualizable (as an object of $\Mcal$).
\item The functor $- \otimes A : \Mcal \rightarrow \Mcal$ is conservative.
\item The canonical left $A \otimes A^\op$-module structure on $A$ exhibits $A \otimes A^\op$ as the endomorphism algebra of $A$.
\end{enumerate}
\end{proposition}

The proof of proposition \ref{prop equivalences azumaya} depends on the following lemma:

\begin{lemma}\label{lemma equivalences conservative}
Let $\Mcal$ be a presentable symmetric monoidal category and let $X$ be a dualizable object of $\Mcal$. The following are equivalent:
\begin{enumerate}[\normalfont (1)]
\item  The functor $- \otimes X : \Mcal \rightarrow \Mcal$ is conservative.
\item The functor $- \otimes X^\vee: \Mcal \rightarrow \Mcal$ is conservative.
\item The object $X$ generates $\Mcal$ under colimits and tensors.
\end{enumerate}
\end{lemma}
\begin{proof}
We first show that (1) implies (2). Let $f: Y \rightarrow Z$ be a morphism in $\mcal$ such that $f \otimes X^\vee$ is an isomorphism. We wish to show that $f$ itself is an isomorphism. Since $X$ is a retract of $X \otimes X^\vee \otimes X$ we have that $f \otimes X$ is a retract of $f \otimes X \otimes X^\vee \otimes X$. The latter is an isomorphism and therefore $f \otimes X$ is an isomorphism too. The fact that $f$ is an isomorphism now follows from our assumption that $- \otimes X$ is conservative.

Next we show that (2) implies (3). Let $\Dcal$ be the full subcategory of $\Mcal$ generated by $X$ under colimits and tensors. We wish to show that $\Dcal = \Mcal$. To do so it suffices to show that the family of functors $\Hom_{\Mcal}(Z, -)$ over all $Z$ in $\Dcal$ is jointly conservative.  This would follow if we show that the functor $- \otimes X : \Mcal \rightarrow \Mcal$ admits a conservative right adjoint. Indeed, this has a right adjoint given by $- \otimes X^\vee$, which we have assumed to be conservative.

It remains to show that (3) implies (1). Let $f: Y \rightarrow Z$ be a morphism in $\mcal$ such that $f \otimes X$ is an isomorphism. We wish to show that $f$ is an isomorphism. Since $X$ generates $\Mcal$ under colimits and tensors we see that $f \otimes Y$ is an isomorphism for all $Y$ in $\mcal$. Specializing $Y$ to the unit of $\mcal$ shows that $f$ is an isomorphism, as desired. 
\end{proof}

\begin{proof}[Proof of proposition \ref{prop equivalences azumaya}]
Assume first that $A$ is Azumaya. Then the functor 
\[
F(-) = - \otimes_{A \otimes A^\op} A : \RMod_{A \otimes A^\op}(\Mcal) \rightarrow \Mcal
\]
 is an equivalence. In particular, the $A \otimes A^\op$-$1_\Acal$ bimodule $A$ is right dualizable. It follows from this that $A$ is right dualizable as an object of $\Mcal$, so that (1) holds. The fact that (3) holds follows from the $\Acal$-linearity of $F$ together with the fact that $A \otimes A^\op$ is the algebra of endomorphisms of $A \otimes A^\op$ as a right $A \otimes A^\op$-module. It now remains to prove (2). Since $F$ is colimit preserving and $\mcal$-linear and $A \otimes A^\op$ generates $\RMod_{A \otimes A^\op}(\mcal)$ under colimits and tensors, we see that $A$ generates $\mcal$ under colimits and tensors. Item (2) now follows from lemma \ref{lemma equivalences conservative}.

Assume now that $A$ satisfies conditions (1), (2) and (3). Let $F(-)$ be as above. We wish to show that $F$ is an equivalence. It follows from (1) that $A$ is right dualizable as a $A \otimes A^\op$-$1_\Acal$-bimodule. Hence $F$ admits a right adjoint, and the unit of the adjunction is given by tensoring with the morphism of $A \otimes A^\op$-bimodules $A \otimes A^\op \rightarrow A \otimes A^\vee$ induced from the left $A \otimes A^\op$-module structure on $A$. It follows from (3) that this is an isomorphism, so that $F$ is fully faithful.  Its image consists of the full subcategory of $\mcal$ generated by $A$ under colimits and tensors. The fact that $F$ is an equivalence now follows from (2) together with lemma \ref{lemma equivalences conservative}.
\end{proof}

\begin{corollary}\label{coro compare azumayas 1}
Let $\acal$ be a rigid symmetric monoidal Grothendieck abelian category generated by compact projective objects and let $\acal^\cp$ be the full subcategory of $\acal$ on the compact projective objects. Then an algebra $A$ in $\acal^\cp$ is Azumaya as an algebra in $\acal$ if and only if it is Azumaya as an algebra in $\der(\acal)_{\geq 0}$.
\end{corollary}
\begin{proof}
We verify that conditions  (2) and (3) from proposition \ref{prop equivalences azumaya} hold for $A$ as an algebra in $\acal$ if and only if they hold for $A$ as an algebra in $\der(\acal)_{\geq 0}$:
\begin{itemize}
\item Since $- \otimes A : \der(\acal)_{\geq 0} \rightarrow \der(\acal)_{\geq 0}$ is exact, it is conservative if and only if its restriction to the heart is conservative. This restriction agrees with the functor $- \otimes A: \acal \rightarrow \acal$.
\item Both $A \otimes A^\op$ and $\End(A) = A^\vee \otimes A$ belong to $\acal^\cp$, so the map $A \otimes A^\op \rightarrow \End(A)$ is an isomorphism when computed in $\der(\acal)_{\geq 0}$ if and only if it is an isomorphism when computed in $\acal$.
\end{itemize}
\vspace{-\baselineskip}
\end{proof}

\begin{corollary}\label{coro compare azumayas 2}
Let $\Mcal$ be a rigid symmetric monoidal Grothendieck prestable category generated under colimits by compact projective objects. Then an algebra $A$ in $\mcal$ is Azumaya if and only if it is Azumaya when regarded as an algebra in $\Sp(\mcal)$.
\end{corollary}
\begin{proof}
We verify that conditions  (2) and (3) from proposition \ref{prop equivalences azumaya} hold for $A$ as an algebra in $\Mcal$ if and only if they hold for $A$ as an algebra in $\Sp(\Mcal)$:
\begin{itemize}
\item The functor $- \otimes A: \Sp(\Mcal) \rightarrow \Sp(\Mcal)$ is t-exact, so it is conservative if and only if it is conservative when restricted to connective objects.
\item The map $A \otimes A^\op \rightarrow \End(A) = A^\vee \otimes A$ is compatible with the inclusion $\Mcal \rightarrow \Sp(\mcal)$, so it is an isomorphism when computed in $\Mcal$ if and only if it is an isomorphism when computed in $\Sp(\Mcal)$.
\end{itemize}
\vspace{-\baselineskip}
\end{proof}

\begin{corollary}
Let $\acal$ be a rigid symmetric monoidal Grothendieck abelian category generated by compact projective objects and let $\acal^\cp$ be the full subcategory of $\acal$ on the compact projective objects.  Then an algebra $A$ in $\acal^\cp$ is Azumaya as an algebra in $\acal$ if and only if it is Azumaya as an algebra in $\der(\acal)$.
\end{corollary}
\begin{proof}
Combine corollaries \ref{coro compare azumayas 1} and \ref{coro compare azumayas 2}.
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Smooth \texorpdfstring{$(1,1)$}{(1,1)}-categories}\label{subsection smooth 11}

We are now ready to state our first main result, that describes smooth $(1,1)$-categories over a rigid semisimple base:

\begin{theorem}\label{theorem abelian}
Let $\Acal$ be a semisimple rigid symmetric monoidal Grothendieck abelian category and let $\Ccal$ be a smooth $\acal$-linear cocomplete category. Then $\Ccal = \LMod_A(\Acal)$ for some smooth algebra $A$ in $\acal$.
\end{theorem}

The remainder of this section is devoted to the proof of theorem \ref{theorem abelian}.

\begin{lemma}\label{lemma factor identity}
Let $\acal$ be a symmetric monoidal Grothendieck abelian category, rigid and generated by compact projective objects. Let $\ccal$ be a smooth $\acal$-linear presentable category. Then there exist objects $F$ in $\ccal^\vee$ and $G$ in $\ccal$ such that the identity of $\ccal$ is a retract of the composite functor
\[
\ccal \xrightarrow{F(-)} \acal \xrightarrow{- \otimes G} \ccal.
\]
\end{lemma}
\begin{proof}
Let $G$ be a colimit generator for $\ccal$ and $F$ be a colimit generator for $\ccal^\vee$. Then $G \otimes F$ is a colimit generator for $\ccal \otimes_\acal \ccal^\vee = \Funct_\acal(\ccal, \ccal)$. Applying corollary \ref{coro properties dualizable 11} we see that $\ccal$ is Grothendieck abelian, and therefore every object receives an epimorphism from a direct sum of copies of $G \otimes F$. The fact that $\ccal$ is smooth implies that the identity $\id_\ccal$ is compact projective, and it is therefore a retract of a finite direct sum of copies of $G \otimes F$. Replacing $G$ by a direct sum of copies of $G$ if necessary, we may in fact assume that $\id_\ccal$ is a retract of $G \otimes F$. The lemma now follows from the observation that under the equivalence $\Funct_\acal(\ccal, \ccal) = \ccal \otimes_\acal \ccal^\vee$, the object $G \otimes F$ corresponds to  $F(-) \otimes G$.
\end{proof}

\begin{lemma}\label{lemma conclude spectrality}
Let $\Ccal$ be an idempotent complete locally small classical additive category with small direct sums and let $\Dcal$ be a spectral category. Assume that the identity functor of $\ccal$ is a retract of a composite functor
\[
\ccal \xrightarrow{F} \Dcal \xrightarrow{G} \ccal
\]
where $F$ and $G$ preserve small direct sums. Then $\ccal$ is a spectral category.
\end{lemma}
\begin{proof}
We first show that $\ccal$ admits all kernels and cokernels. Let $f: X \rightarrow Y$ be a morphism in $\ccal$. We wish to show that $f$ admits a kernel and a cokernel. Since $f$ is a retract of $G(F(f))$ and $\ccal$ is idempotent complete, it suffices to show that $G(F(f))$ admits a kernel and a cokernel. The fact that $\Dcal$ is spectral implies that $F(f)$ is the direct sum of an isomorphism and a null map. Hence $G(F(f))$ is a direct sum of an isomorphism and a null map. Both of these kinds of maps admit both a kernel and a cokernel in $\ccal$, and therefore $G(F(f))$ also admits a kernel and a cokernel, as desired.

We now show that every monomorphism in $\ccal$ admits a retraction. Let $i: X \rightarrow Y$ be a monomorphism. Then $i$ is a retract of $G(F(i))$. Since $\Dcal$ is spectral, we may factor $F(i)$ as a composition of a retraction followed by a section. We now have a commutative diagram
\[
\begin{tikzcd}
X \arrow{d}{j_X} \arrow{rr}{i} & & Y\arrow{d}{j_Y} \\
G(F(X)) \arrow{r}{r} & Z  \arrow{r}{s'} & G(F(Y))
\end{tikzcd}
\]
where the vertical arrows and the map $s'$ are sections, and $r$ is a retraction. Let $s$ be a section for $r$ and $r_X, r_Y, r'$ be retractions for $j_X, j_Y$ and $s'$, respectively, and note that we may assume that the diagram obtained from the above by replacing $j_X, j_Y$ with $r_X, r_Y$ commutes. 

We claim that the composition $r_X s r' j_Y$ is a retraction for $i$. Note that
\[
r_X s r' j_Y i  = r_X s r' s' r j_X = r_X s r j_X.
\]
We must show that the above is the identity on $X$. Since $i$ is a monomorphism, it suffices to show that $ i r_X s r j_X$ is equal to $i$. Since the diagram obtained from the above by replacing the vertical arrows with their retractions commutes, we have that $i r_X s r j_X$  is the same as 
\[
r_Y s' r s r j_X = r_Y s' r j_X = r_Y j_Y i = i,
\] as desired.

In a similar way one proves that every epimorphism in $\ccal$ admits a section. In particular we see that $\ccal$ is an additive category with all kernels and cokernels and such that every monomorphism is a kernel and every epimorphism is a cokernel. Therefore $\ccal$ is abelian. 

Since we know that $\ccal$ is locally small, admits infinite direct sums, and every monomorphism in $\ccal$ is split, in order to show that $\ccal$ is spectral it only remains to show that it admits a generator and has left exact filtered colimits.

We first show that $\ccal$ has left exact filtered colimits. Let $f: X \rightarrow Y$ be a map in $\ccal$, and assume that $f$ is written as a filtered colimit of a family of monomorphisms $f_\alpha: X_\alpha \rightarrow Y_\alpha$. We must show that $f$ is a monomorphism. Since $f$ is a retract of $G(F(f))$, it suffices to show that $G(F(f))$ is a monomorphism. The fact that $\dcal$ is spectral implies that $G$ preserves monomorphisms, so we may reduce to showing that $F(f)$ is a monomorphism. Since $F$ preseves direct sums and every exact sequence in $\ccal$ is split, we have that $F$ preserves arbitrary colimits. Thus $F(f)$ is the colimit of the maps $F(f_\alpha)$, and using the fact that $\dcal$ is Grothendieck we may further reduce to showing that $F(f_\alpha)$ is a monomorphism for all $\alpha$. This follows from the fact that $f_\alpha$ is a monomorphism and thus it admits a retraction.

It remains to show that $\ccal$ admits a generator. Let $U$ be a generator for $\dcal$. Let $X$ be an object of $\ccal$. Since $\dcal$ is spectral, $F(X)$ is a retract of a direct sum of copies of $U$. Thus $G(F(X))$ is a retract of a direct sum of copies of $G(U)$, and since $X$ is a retract of $G(F(X))$ we see that $X$ is also a retract of a direct sum of copies of $G(U)$. Thus $G(U)$ is a generator for $\ccal$.
\end{proof}

\begin{lemma}\label{lemma dual is locally finitely generated}
Let $\ccal$ be a spectral Grothendieck abelian category. Then $\Funct^L(\ccal, \Ab)$ is a locally finitely generated Grothendieck abelian category.
\end{lemma}
\begin{proof}
By proposition \ref{prop classif spectral} there is a left exact localization $q: \LMod_A(\Ab) \rightarrow \ccal$ where $A$ is a left self injective von Neumann regular ring. The dual to $q$ supplies a colimit preserving fully faithful functor $i: \Funct^L(\ccal, \Ab) \rightarrow \RMod_A(\Ab)$, whose image is the full subcategory of $\RMod_A(\Ab)$ on those right $A$-modules $M$ with the property that $M \otimes_A f$ is invertible for every $q$-local morphism $f$. Since $A$ is von Neumann regular, $M \otimes_A f$ is invertible if and only if $M \otimes_A \Ker(f) = M \otimes_A \coker(f) = 0$. It follows that a right $A$-module $M$ belongs to the image of $i$ if and only if $M \otimes_A X =0$ for all $X$ in the kernel of $q$. Using again the fact that $A$ is von Neumann regular we conclude that the image of $i$ is closed under passage to subobjects. The lemma now follows from the fact that $\RMod_A(\Ab)$ is a locally finitely generated Grothendieck abelian category. 
\end{proof}

\begin{lemma}\label{lemma suffices to show generated by compact projectives}
Let $\acal$ be a symmetric monoidal Grothendieck abelian category, rigid and generated by compact projective objects. Let $\Ccal$ be a smooth $\acal$-linear Grothendieck abelian category, generated by compact projective objects. Then $\Ccal =\LMod_A(\Acal)$ for some smooth algebra $A$ in $\Acal$.
\end{lemma}
\begin{proof}
Let $\lbrace X_t \rbrace_{t \in T}$ be a generating set of compact projective objects for $\ccal$. For each finite subset $\alpha \subseteq T$ let $\ccal_\alpha$ be the smallest full subcategory of $\ccal$ closed under colimits and the action of $\acal$, and containing $\lbrace X_t \rbrace_{t \in \alpha}$. Note that each $\ccal_\alpha$ inherits an $\acal$-linear structure from $\ccal$, and that $\ccal = \colim \ccal_\alpha$. Let $\delta$ be the image of $1_\acal$ under the unit map $\acal \rightarrow \ccal \otimes_\acal \ccal^\vee$. We have $\ccal = \colim \ccal_\alpha$ and therefore $\ccal \otimes_\acal \ccal^\vee = \colim \ccal_\alpha \otimes_\acal \ccal^\vee$. Applying lemma \ref{lemma filtered colimit of cg} we see that $\delta$ belongs to $\ccal_\alpha \otimes_\acal \ccal^\vee$ for some $\alpha$ and therefore the identity on $\ccal$ belongs to the image of the inclusion $\Funct_\acal(\ccal, \ccal_\alpha) \rightarrow \Funct_\acal(\ccal, \ccal)$. This implies that the inclusion of $\ccal_\alpha$ into $\ccal$ admits a section, so that $\ccal = \ccal_\alpha$. The object $\bigoplus_{t \in \alpha} X_t$ is therefore a compact projective $\acal$-generator for $\ccal$. The lemma now follows from proposition \ref{prop lex localization}.
\end{proof}

\begin{proof}[Proof of theorem \ref{theorem abelian}]
Applying proposition \ref{proposition dualizable is presentable} we see that $\ccal$ and $\ccal^\vee$ are presentable. Combining lemma \ref{lemma factor identity} with lemma \ref{lemma conclude spectrality} we see that $\ccal$ and $\ccal^\vee$ are spectral categories. Combining remark \ref{remark description duality over M} with lemma \ref{lemma dual is locally finitely generated} we see that $\ccal$ and $\ccal^\vee$ are in fact semisimple. The theorem now follows from lemma \ref{lemma suffices to show generated by compact projectives}.
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Smooth \texorpdfstring{$(\infty,1)$}{(âˆž,1)}-categories}\label{subsection smooth infty}

We now formulate a variant of theorem \ref{theorem abelian} that applies to smooth additive categories over a rigid semisimple base in the derived (but unstable) context:

\begin{theorem}\label{theorem prestable}
Let $\Acal$ be a semisimple rigid symmetric monoidal Grothendieck abelian category and let $\Ccal$ be a smooth $\der(\acal)_{\geq 0}$-linear cocomplete category. Then $\Ccal = \LMod_A(\der(\acal)_{\geq 0})$ for some smooth algebra $A$ in $\acal$.
\end{theorem}

The proof of theorem \ref{theorem prestable} requires some preliminary lemmas.

\begin{lemma}\label{lemma split identity en prestable}
Let $\acal$ be a symmetric monoidal Grothendieck abelian category, rigid and generated by compact projective objects. Let $\Ccal$ be a smooth $\der(\acal)_{\geq 0}$-linear presentable category. Then there exists an object $G$ in $\Ccal$ and an object $F$ in $\Ccal^\vee$ with the property that the identity functor of $\Ccal$ is a retract of the composite functor
\[
\Ccal \xrightarrow{F(-)} \der(\Acal)_{\geq 0} \xrightarrow{ G \otimes -} \Ccal.
\]
\end{lemma}
\begin{proof}
Analogous to the proof of lemma \ref{lemma factor identity}.
\end{proof}

\begin{lemma}\label{lemma ho is spectral prestable}
Let $\acal$ be a symmetric monoidal Grothendieck abelian category, rigid and generated by compact projective objects. Let $\Ccal$ be an invertible $\der(\acal)_{\geq 0}$-linear presentable category. Then $\Ho(\Ccal)$ is a spectral category.
\end{lemma}
\begin{proof}
It follows from lemma \ref{lemma identity retract} that we may factor the identity on $\Ho(\Ccal)$ as the composition
\[
\Ho(\Ccal) \xrightarrow{\Ho(F(-))} \Ho(\der(\Acal)_{\geq 0}) \xrightarrow{\Ho(G \otimes - )} \Ho(\Ccal)
\]
where $F$ and $G$ are objects of $\Ccal^\vee$ and $\Ccal$, respectively. The lemma now follows from  lemma \ref{lemma conclude spectrality}, since $\Ho(\der(\acal)_{\geq 0})$ is equivalent to the category of nonnegatively graded objects of $\acal$, which is semisimple.
\end{proof}

\begin{proof}[Proof of theorem \ref{theorem prestable}]
Applying \ref{coro properties dualizable infty} we see that $\ccal$ is a separated Grothendieck prestable category. By theorem \ref{theorem abelian} there exists a smooth algebra $A$ in $\acal$ and an $\acal$-linear equivalence $\LMod_A(\acal) = \ccal^\heartsuit$. Since $\LMod_A(\der(\acal)_{\geq 0}) = \der(\LMod_A(\acal))_{\geq 0}$, to prove the corollary it will suffice to show that $\ccal$ is the connective derived category of its heart. Since $\ccal$ is separated, we may reduce to showing that $\ccal$ is generated by $\ccal^\heartsuit$.

Let $X$ be an object of $\ccal$ and let $\mu: H_0(X) \rightarrow (\tau_{\geq 1}X) [1]$ be the morphism classifying the extension $\tau_{\geq 1} X \rightarrow X \rightarrow H_0(X)$.  By lemma \ref{lemma ho is spectral prestable} we may write $\mu$ as a sum of an isomorphism and a zero map. Since every summand of $H_0(X)$ is $0$-truncated and every summand of $(\tau_{\geq 1}X)[1]$ is $2$-connective, we must have that $\mu$ is homotopic to zero. It follows that the projection $X \rightarrow H_0(X)$ admits a section $H_0(X) \rightarrow X$, which is a morphism from a $0$-truncated object into $X$ inducing an isomorphism on $H_0$. Since $X$ was arbitrary we conclude that $\ccal^\heartsuit$ generates $\ccal$, as desired.
 \end{proof} 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Invertible stable categories}\label{subsection invertible stable}

We now study invertible stable categories over a rigid semisimple base.

\begin{theorem}\label{theorem stable}
Let $\acal$ be a semisimple rigid symmetric monoidal Grothendieck abelian category and let $\ccal$ be an invertible cocomplete $\der(\acal)$-linear category. Then $\Ccal = \LMod_A(\der(\acal))$ for some Azumaya algebra $A$ in $\acal$.
\end{theorem}

The remainder of this section is devoted to the proof of theorem \ref{theorem stable}. 

\begin{notation}
Let $\ccal$ be a category. For each object $X$ in $\Ccal$ we denote by $[X]$  its image in the homotopy category $\Ho(\Ccal)$.
\end{notation}

\begin{lemma}\label{lemma homot category is rigid ss}
Let $\acal$ be a semisimple rigid  symmetric monoidal Grothendieck abelian category. Then the symmetric monoidal structure on $\Ho(\der(\Acal))$ induced from $\der(\Acal)$ is compatible with colimits, and makes $\Ho(\der(\Acal))$ into a semisimple rigid symmetric monoidal Grothendieck abelian category.
\end{lemma}
\begin{proof}
Passing to homologies provides an equivalence $\Ho(\der(\Acal)) = \Acal^\ZZ$. It follows from this that $\Ho(\der(\Acal))$ is a semisimple Grothendieck abelian category. Since the symmetric monoidal structure on $\der(\Acal)$ is compatible with infinite direct sums the same fact holds for the symmetric monoidal structure on $\Ho(\der(\Acal))$. We now conclude that the symmetric monoidal structure on $\Ho(\der(\Acal))$ is compatible with all colimits, since every coproduct preserving functor of spectral categories is colimit preserving.

It remains to show that dualizable and compact projective objects of $\Ho(\der(\Acal))$ coincide. The unit of $\Ho(\der(\Acal))$ is given by $[1_\Acal]$ where $1_\Acal$ is the unit of $\Acal$. We may write $1_\Acal$ as a finite direct sum of simple objects of $\Acal$. Objects which are indecomposable in $\Acal$ necessarily remain indecomposable in $\Ho(\der(\Acal))$, thus we see that the unit of $\Ho(\der(\Acal))$ is a finite direct sum of simple objects, which means that it is compact projective. This implies that every dualizable object of $\Ho(\der(\Acal))$ is compact projective. Conversely, assume given an object $X$ of $\der(\Acal)$ such that $[X]$ is a compact projective object of $\Ho(\der(\Acal))$. We want to prove that $[X]$ is dualizable. Write $X$ as a finite direct sum of objects $X_\alpha$ such that $[X_\alpha]$ is simple for all $\alpha$. Then for each $\alpha$ the object $X_\alpha$ is a shift of a simple object of $\Acal$. Since simple objects of $\Acal$ are dualizable we conclude that $X_\alpha$ is dualizable in $\der(\Acal)$ for all $\alpha$. Therefore $X$ is a dualizable object of $\der(\Acal)$ and $[X]$ is dualizable in $\Ho(\der(\Acal))$, as desired.
\end{proof}


\begin{lemma}\label{lemma identity retract}
Let $\acal$ be a semisimple rigid symmetric monoidal Grothendieck abelian category and let $\ccal$ be an invertible $\der(\acal)$-linear presentable category. Then there exists an object $G$ in $\ccal$ and an object $F$ in $\ccal^\vee$ with the property that the identity functor of $\ccal$ is a retract of the composite functor
\[
\Ccal \xrightarrow{F(-)} \der(\acal) \xrightarrow{G \otimes -} \ccal.
\]
\end{lemma}
\begin{proof}
Let $G$ be a colimit generator for $\Ccal$ and $F$ be  a colimit generator for $\Ccal^\vee$. Then $G \otimes  F$ is a colimit generator for $\Ccal \otimes_{\der(\Acal)} \Ccal^\vee = \der(\Acal)$. Denote by $X$ the induced object of $\der(\Acal)$. Let $\Ucal$ be the collection of simple objects of $\Acal$ which are direct summands of $H_n(X)$ for some integer $n$. Then every object $Y$ in the closure of $X$ under colimits has the property that $H_n(Y)$ is a direct sum of simples in $\Ucal$ for every integer $n$. In particular this applies to the unit $1_\Acal$ in $\Acal$. Replacing $G$ with $\bigoplus_{n \in \ZZ} G[n]$ we may assume that every simple in $\Ucal$ is a direct summand of $H_0(X)$. Replacing $G$ further with an infinite direct sum of copies of $G$ we may in fact assume that $1_\Acal$ is a direct summand of $H_0(X)$. Since every object of $\der(\Acal)$ is a direct sum of its homologies we in fact have that $1_\Acal$ is a direct summand of $X$. The lemma now follows from the observation that under the equivalences $\Funct_{\der(\Acal)}(\Ccal, \Ccal) = \Ccal \otimes_{\der(\Acal)} \Ccal^\vee = \der(\Acal)$ the objects $1_\Acal$ and $G \otimes F$ correspond to the identity on $\Ccal$ and $F(-) \otimes G$, respectively.
\end{proof}

\begin{lemma}\label{lemma dual of ho}
Let $\acal$ be a semisimple rigid symmetric monoidal Grothendieck abelian category and let $\ccal$ be an invertible $\der(\acal)$-linear presentable category.  Then:
\begin{enumerate}[\normalfont (1)]
\item $\Ho(\ccal)$ and $\Ho(\ccal^\vee)$ are spectral categories.
\item There is an equivalence of categories $\Ho(\ccal^\vee) = \Funct^L(\Ho(\ccal), \Ab)$.
\end{enumerate}
\end{lemma}
\begin{proof}
By lemma \ref{lemma identity retract} we have $\der(\acal)$-linear colimit preserving functors $F: \ccal \rightarrow \der(\acal)$ and $G: \der(\acal) \rightarrow \ccal$ such that the identity on $\ccal$ sits in a split retraction $\id_\ccal \xrightarrow{s} G \circ F \xrightarrow{r} \id_\ccal$. It follows in particular that we may write the identity on $\Ho(\Ccal)$ as a retract of  the composition
\[
\Ho(\Ccal) \xrightarrow{\Ho(F)} \Ho(\der(\Acal)) \xrightarrow{\Ho(G )} \Ho(\Ccal).
\]
 Combining lemmas \ref{lemma homot category is rigid ss} and  \ref{lemma conclude spectrality} we see that $\Ho(\ccal)$ is spectral. Reversing the role of $\ccal$ and $\ccal^\vee$ we have that $\Ho(\ccal^\vee)$ is also spectral. This proves (1).

It remains to show that $\Ho(\ccal)$ and $\Ho(\ccal^\vee)$ are dual to each other. By \cite{SAG} proposition 7.7.1 we have that $\ccal$ and $\ccal^\vee$ are dual presentable stable categories, and in particular $\ccal^\vee = \Funct^L(\ccal, \Sp)$. Composition with the functor $H_0: \Sp \rightarrow \Ab$ provides a functor $p: \Funct^L(\ccal, \Sp) \rightarrow \Funct^\oplus(\ccal, \Ab)$, where $\Funct^\oplus$ denotes the category of functors which preserve arbitrary direct sums. We have $\Funct^\oplus(\ccal, \Ab) = \Funct^\oplus(\Ho(\ccal), \Ab)$, and since $\Ho(\ccal)$ is spectral the latter agrees with $\Funct^L(\Ho(\ccal), \Ab)$. To prove the lemma it will suffice to show that $p$ induces an equivalence $\Ho(\Funct^L(\ccal,\Sp)) = \Funct^\oplus(\ccal, \Ab)$.

We have a commutative diagram of $(1,1)$-categories
\[
\begin{tikzcd}
\Ho(\Funct^L(\ccal, \Sp)) \arrow{r}{G^*} \arrow{d}{p} & \Ho(\Funct^L(\der(\acal), \Sp)) \arrow{d}{q} \arrow{r}{F^*}& \Ho(\Funct^L(\ccal, \Sp)) \arrow{d}{p} \\
\Funct^\oplus(\ccal, \Ab) \arrow{r}{G^*} & \Funct^\oplus(\der(\acal), \Ab) \arrow{r}{F^*} & \Funct^\oplus(\ccal, \Ab)
\end{tikzcd}
\]
where $q$ is the functor of composition with $H_0$. We claim that $q$ is an equivalence. Since $\der(\acal)$ is a rigid compactly generated presentable symmetric monoidal stable category, we have an equivalence $\der(\acal) = \Funct^L(\der(\acal), \Sp)$ induced by the pairing
\[
\der(\acal) \times \der(\acal) \xrightarrow{- \otimes -} \der(\acal) \xrightarrow{\Hom^\enh_{\der(\acal)}(1_\acal, -)} \Sp.
\]
To show that $q$ is an equivalence we have to prove that the composite functor
\[
\der(\acal) \times \der(\acal) \xrightarrow{- \otimes -} \der(\acal) \xrightarrow{\Ext^0_{\der(\acal)}(1_\acal, -)} \Ab
\]
induces an equivalence between $\Ho(\der(\acal))$ and the category of coproduct preserving functors $\der(\acal) \rightarrow \Ab$. Since $\Ho(\der(\acal))$ is semisimple, passing to the homotopy category induces an equivalence $\Funct^\oplus(\der(\acal),\Ab) = \Funct^L(\Ho(\der(\acal)), \Ab)$.  We may thus reduce to showing that the functor
\[
\Ho(\der(\acal)) \times \Ho(\der(\acal)) \xrightarrow{- \otimes -} \Ho(\der(\acal)) \xrightarrow{\Hom^\enh_{\Ho(\der(\acal))}([1_\acal], -)} \Ab
\]
is the counit of a self duality for $\Ho(\der(\acal))$ in $\Pr^L$. This is a consequence of the fact that $\Ho(\der(\acal))$ is a semisimple rigid symmetric monoidal Grothendieck abelian category.

We now prove that $p$ is faithful. Assume given a morphism $\mu$ in $\Ho(\Funct^L(\ccal, \Sp))$ such that $p(\mu) = 0$. Then $qG^*\mu = G^*p\mu = 0$, and since $q$ is an equivalence we have that $G^*\mu = 0$. Hence $\mu$ is a retract of $F^*G^*\mu = 0$, which means that $\mu = 0$. Combining this with the fact that $p$ is additive we deduce that $p$ is faithful.

Next we show that $p$ is fully faithful. Let $X, Y$ be objects in $\Ho(\Funct^L(\ccal, \Sp))$ and let $\nu: p(X) \rightarrow p(Y)$ be a morphism. We wish to show that $\nu$ lifts to a morphism $X \rightarrow Y$. We have a split retraction in the arrow category of $\Funct^\oplus(\ccal, \Ab)$ as follows:
\[
\begin{tikzcd}
p(X) \arrow{d}{\nu} \arrow{r}{s^*} & F^*G^*p(X) \arrow{d}{F^*G^*\nu} \arrow{r}{r^*} & p(X) \arrow{d}{\nu} \\
p(Y) \arrow{r}{s^*} & F^*G^*p(Y) \arrow{r}{r^*} & p(Y)
\end{tikzcd}
\]
The top and bottom row are the images under $p$ of the split retractions $\smash{X \xrightarrow{s^*} F^*G^*(X) \xrightarrow{r^*} X}$ and $\smash{Y \xrightarrow{s^*}F^*G^*(Y) \xrightarrow{r^*}Y}$. Since we have $\nu = r^* \circ (F^*G^*\nu) \circ s^*$, to prove that $\nu$ admits a lift it is enough to show that $F^*G^*\nu$ admits a lift along $p$ to a map $\xi: F^*G^*(X) \rightarrow F^*G^*(X)$. This may be done by setting $\xi = F^*q^{-1}G^*\nu$.

It remains to prove that $p$ is essentially surjective. Let $W$ be an object of $\Funct^\oplus(\ccal, \Ab)$. Then $W$ is a retract of $F^*G^*W = p F^*q^{-1}G^*W$. The fact that $p$ is surjective now follows from the fact that it is fully faithful and its source is idempotent complete.
\end{proof}

\begin{lemma}\label{lemma alcanza probar comp gen}
Let $\acal$ be a semisimple rigid symmetric monoidal Grothendieck abelian category and let $\ccal$ be an invertible $\der(\acal)$-linear presentable category. If $\Ho(\ccal)$ is semisimple then $\Ccal =\LMod_A(\der(\Acal))$ for some Azumaya algebra $A$ in $\Acal$.
\end{lemma}
\begin{proof}
The fact that $\Ho(\ccal)$ is semisimple implies  that $\ccal$ is compactly generated by those objects whose image in $\Ho(\ccal)$ is simple.  Let $\lbrace X_t \rbrace_{t \in T}$ be a generating set of compact objects for $\ccal$ with $[X_t]$ simple for all $t$. For each finite subset $\alpha \subseteq T$ let $\ccal_\alpha$ be the smallest full subcategory of $\ccal$ closed under colimits and the action of $\der(\acal)$, and containing $\lbrace X_t \rbrace_{t \in \alpha}$. Note that each $\ccal_\alpha$ inherits a $\der(\acal)$-linear structure from $\ccal$, and that $\ccal = \colim \ccal_\alpha$. Let $\delta$ be the image of $1_\acal$ under the unit map $\der(\acal) \rightarrow \ccal \otimes_{\der(\acal)} \ccal^\vee$. We have $\ccal = \colim \ccal_\alpha$ and therefore $\ccal \otimes_{\der(\acal)} \ccal^\vee = \colim \ccal_\alpha \otimes_{\der(\acal)} \ccal^\vee$. Applying lemma \ref{lemma filtered colimit of cg} we see that $\delta$ belongs to $\ccal_\alpha \otimes_{\der(\acal)} \ccal^\vee$ for some $\alpha$ and therefore the identity on $\ccal$ belongs to the image of the inclusion $\Funct_{\der(\acal)}(\ccal, \ccal_\alpha) \rightarrow \Funct_{\der(\acal)}(\ccal, \ccal)$. This implies that the inclusion of $\ccal_\alpha$ into $\ccal$ admits a section, so that $\ccal = \ccal_\alpha$. 

Changing $\alpha$ if necessary we may assume that $\alpha$ is minimal with the property that $\ccal = \ccal_\alpha$. Let $A$ be the opposite of the endomorphism algebra of $\bigoplus_{t \in \alpha} X_t$, so that we have a $\der(\acal)$-linear equivalence $\ccal = \LMod_A(\der(\acal))$. Note that any Azumaya algebra in $\der(\acal)$ which belongs to $\der(\acal)^\heartsuit$ is in fact an Azumaya algebra of $\acal$. Consequently, to prove the lemma it remains to show that $A$ belongs to $\acal$.  Let $t, t'$ be two distinct elements of $\alpha$. The minimality of $\alpha$ implies that if $Y$ is a compact projective object of $\acal$ and $n$ is an integer then $\Ext^0_{\ccal}(Y[ n] \otimes X_t , X_{t'}) = 0$, and therefore $\Hom^\enh_{\ccal}(X_t, X_{t'}) = 0$. It follows that $A = \prod_{t \in \alpha} \End^\enh_{\ccal}(X_t)$.  We may therefore reduce to showing that $\End^\enh_{\ccal}(X_t)$ belongs to $\acal$ for all $t$ in $\alpha$. Assume for the sake of contradiction that this does not hold. Then we may pick a nonzero integer $n$, a compact projective object $Y$ in $\acal$, and a nonzero map $Y \otimes X_t [ n] \rightarrow X_t$, making $X_t$  a summand of $Y \otimes X_t[n]$. It follows from this by induction that for every positive integer $m$ there is a nonzero map $Y^\otimes \otimes X_t[ mn] \rightarrow X_t$, and therefore $H_{mn}(A) \neq 0$. This contradicts the fact that $A$ is compact in $\der(\acal)$ (since it is an Azumaya algebra).
\end{proof}

\begin{proof}[Proof of theorem \ref{theorem stable}]
Applying proposition \ref{proposition dualizable is presentable} we see that $\Ccal$ and $\Ccal^\vee$ are presentable. By lemma \ref{lemma dual of ho} we have that $\Ho(\Ccal)$ and $\Ho(\Ccal^\vee)$ are spectral categories, and furthermore $\Ho(\ccal) = \Funct^L(\Ho(\ccal^\vee), \Ab)$. Applying lemma \ref{lemma dual is locally finitely generated} we see that $\Ho(\Ccal)$ is in fact semisimple.  The theorem now follows from lemma \ref{lemma alcanza probar comp gen}. 
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\ifx\inmain\undefined
\bibliographystyle{myamsalpha2}
\bibliography{References}
\fi

\end{document}
