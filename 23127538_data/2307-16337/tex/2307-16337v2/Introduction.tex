\documentclass[12pt]{amsart}

\input{"Preamble"}

%\usepackage{standalone} 
%\def\inmain{1}

\title{Classification of fully dualizable linear categories}

\author{G. Stefanich}

\externaldocument{GRings}
\externaldocument{Filtered}

\date{}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Introduction}

 Let $R$ be a commutative ring. Recall that an $R$-algebra $A$ is said to be Azumaya if there exists another $R$-algebra $B$ such that $A \otimes_R B$ is Morita equivalent to $R$. In other words, $A$ is Azumaya if it defines a tensor invertible object in the Morita $2$-category $\operatorname{Mor}_R$ of algebras and bimodules over $R$.

We may regard $\operatorname{Mor}_R$ as a full subcategory of the $2$-category $\catlr$ of  $R$-linear cocomplete categories and colimit preserving functors, via the embedding that maps each $R$-algebra to its category of left modules. In the same way that $\operatorname{Mor}_R$ has a symmetric monoidal structure induced by tensor product of algebras, there is a compatible symmetric monoidal structure on  $\catlr$, where for each pair of $R$-linear cocomplete categories $\Ccal, \Dcal$ the tensor product $\Ccal \otimes_R \Dcal$ is the universal recipient of a functor $\Ccal \times \Dcal \rightarrow \Ccal \otimes_R \Dcal$ which is colimit preserving and $R$-linear in each variable. From this point of view, an $R$-algebra $A$ is Azumaya if and only if its category of left modules is an invertible object of $\catlr$. 

To each Azumaya $R$-algebra $A$ one may attach a $\GG_m$-gerbe $\mathcal{G}(A)$ on $\Spec(R)$. In general, for any $\GG_m$-gerbe $\mathcal{G}$ 
 one may define an $R$-linear category $\Mod_{R,\mathcal{G}}^\heartsuit$ of $R$-modules twisted by $\mathcal{G}$, which in the case $\mathcal{G} = \mathcal{G}(A)$ recovers the category of left $A$-modules.  The category $\smash{\Mod_{R,\mathcal{G}}^\heartsuit}$ defines an invertible object of $\catlr$ for every gerbe $\mathcal{G}$. Our first main theorem states that if $R$ is a G-ring then every invertible category arises in this way:

\begin{theorem}\label{teo principal introduction}
Let $R$ be a G-ring. Then every invertible object of $\catlr$ is of the form $\Mod_{R,\mathcal{G}}^\heartsuit$ for some $\GG_m$-gerbe $\mathcal{G}$ on $\Spec(R)$. In particular, the group of equivalence classes of invertible objects of $\catlr$ is isomorphic to $H^2(\Spec(R), \GG_m)$.
\end{theorem}

We may regard theorem \ref{teo principal introduction} as providing a description of categorified line bundles in algebraic geometry. This  paper is concerned, more generally, with a categorification of the notion of vector bundle.  Classically, vector bundles on $\Spec(R)$ are the same as dualizable $R$-modules. In the categorical context, however, there are many dualizable objects of $\catlr$ which do not behave like vector bundles: for instance, the category of modules over any $R$-algebra is dualizable. 

The situation improves if instead of dualizable objects we study \emph{fully dualizable} objects: these are those dualizable objects of $\catlr$ for which the unit and counit of the duality admit a further colimit preserving right adjoint.  Our next result provides a classification of fully dualizable categories over G-rings:

\begin{theorem}\label{theorem principal 2 introduction}
 Let $R$ be a G-ring. Then every fully dualizable object of $\catlr$ is of the   form $\Mod^\heartsuit_{\tilde{R}, \mathcal{G}}$ for some finite \'etale $R$-algebra $\tilde{R}$ and $\GG_m$-gerbe $\mathcal{G}$ on $\Spec(\tilde{R})$.
\end{theorem}

Theorem  \ref{theorem principal 2 introduction} applies in particular in the case when $R$ is of finite type over $\ZZ$. As we shall see, a variant of the main result from \cite{ToenRings} shows that if $R$ is an arbitrary commutative ring, then every fully dualizable object $\ccal$ of $\catlr$ such that $\ccal$ and its dual are compactly generated is obtained by extension of scalars from a subring $S \subseteq R$ of finite type over $\ZZ$. It follows from this that our results remain valid over arbitrary commutative rings under an additional compact generation hypothesis.

Just like the basic example  of an invertible $R$-linear category is given by the category of modules over an Azumaya $R$-algebra, the basic example  of a fully dualizable category is given by the category of modules over an $R$-algebra which is both separable and dualizable as an $R$-module. Under the dictionary of theorem \ref{theorem principal 2 introduction}, these correspond to fully dualizable categories for which the gerbe $\mathcal{G}$ is of the form $\mathcal{G}(A)$ for some Azumaya $\tilde{R}$-algebra $A$. 

In general not every $\GG_m$-gerbe over an affine scheme is of this form.  In fact, it was shown by Gabber \cite{GabberAzumaya, deJong} that  a $\GG_m$-gerbe over an affine scheme arises from an Azumaya algebra if and only if its associated \'etale cohomology class is torsion.  Over a field every class is torsion, so theorem \ref{theorem principal 2 introduction} specializes to the following:

\begin{corollary}\label{corollary description fully dualizables}
 Let $k$ be a field. Then every fully dualizable\footnote{As we shall see, this corollary remains true if one only assumes smoothness instead of full dualizability.} object of $\catlk$ is the category of left modules over a separable $k$-algebra.
\end{corollary}

Fully dualizable objects of any $2$-category give rise, under the cobordism hypothesis, to two dimensional fully extended topological field theories \cite{LurieField}. Motivated by this connection, in \cite{BDSPV} the authors survey a number of notions of categorified vector space, and prove, building on results of Tillmann \cite{Tillmann}, that in all those cases the fully dualizable objects arise from separable $k$-algebras. Corollary \ref{corollary description fully dualizables} provides a strengthening of their classification, and recovers it after restriction to various subcategories of $\catlk$.\footnote{All the $2$-categories of categorified vector spaces considered in  \cite{BDSPV} embed inside the full subcategory of $\catlk$ on the $k$-linear Grothendieck abelian categories generated by compact projective objects. A lot of the work involved in proving our main results consists of showing that one may deduce the existence of compact projective generators (\'etale locally on $R$) from the condition of full dualizability.}

As remarked previously, while theorem \ref{theorem principal 2 introduction} shows that the class of fully dualizable categories is very constrained, there are many more categories which are only one time dualizable. In \cite{BCJF} the authors study the question of dualizability for various $k$-linear categories of interest, and conjecture that every dualizable $k$-linear category is generated by compact projective objects. This conjecture was verified in some cases in \cite{Chirvasitu}, however we will show it to be false in general (see examples \ref{example almost modules} and \ref{example non torsion}).

The theory of $R$-linear categories admits a globalization, which is given by the theory of quasicoherent sheaves of categories. Since general additive  categories do not satisfy Zariski descent, when globalizing one typically restricts attention to Grothendieck abelian categories, which were proven to satisfy fpqc descent  in appendix D of \cite{SAG}. In our context this is not a major restriction: as we shall see, for any commutative ring $R$ the dualizable objects of $\catlr$ are automatically Grothendieck abelian. Theorems \ref{teo principal introduction} and \ref{theorem principal 2 introduction} admit the following globalization:

\begin{corollary}\label{corollary invertible sheaves of categories}
Let $X$ be a stack that admits a cover by spectra of G-rings. Then every invertible (resp. fully dualizable) quasicoherent sheaf of Grothendieck abelian categories on $X$ is equivalent to a twist by a $\GG_m$-gerbe of the categorical structure sheaf of $X$ (resp. a finite \'etale stack over $X$).
\end{corollary}

Theorem \ref{theorem principal 2 introduction} is deduced from a more general result that may be applied not only to $R$-linear categories, but to graded $R$-linear categories as well. In this case, instead of considering categories enriched over $R$, we consider categories enriched over a symmetric monoidal $R$-linear category $\acal$ subject to certain tameness conditions (see theorem \ref{theo abelian con coefficients} for the precise requirements). While the main content of theorem \ref{theorem principal 2 introduction} is the \'etale local triviality of  fully dualizable categories, this no longer holds in the more general context: for instance, there exist $\ZZ/2\ZZ$-graded Azumaya algebras over algebraically closed fields which are not Morita equivalent to the unit algebra. Nevertheless, we are able to show that if $\ccal$ is a fully dualizable $\acal$-linear cocomplete category, then $\ccal$ is \'etale locally on $\Spec(R)$ equivalent to the category of modules over an Azumaya algebra in $\acal$.

\addtocontents{toc}{\protect\setcounter{tocdepth}{1}}
\subsection*{Spectral variants}

We devote the remainder of this introduction to discussing a variant of the above results that applies to linear $\infty$-categories. In this case we allow  $R$ to be a connective $E_\infty$-ring spectrum, and we are concerned with classifying fully dualizable objects of the symmetric monoidal $(\infty,2)$-category $\lincat_{R, \infty}$ of $R$-linear cocomplete $\infty$-categories. 

The role played by the abelian group $\GG_m$ in the previous discussion is now played by the $E_\infty$-group $\operatorname{GL}_1$ classifying units. As before, to each $\operatorname{GL}_1$-torsor on an affine scheme $\Spec(R)$ one may associate a twist $\Mod^\cn_{R, \mathcal{G}}$ of the $\infty$-category of connective $R$-modules, which is an invertible object of $\lincat_{R, \infty}$. We may formulate our main theorem in this setting as follows:

\begin{theorem}\label{teo introduction spectral}
 Let $R$ be a connective $E_\infty$-ring such that $\pi_0(R)$ is a G-ring. Then every fully dualizable object of $\lincat_{R, \infty}$ is of the   form $\Mod^\cn_{\tilde{R}, \mathcal{G}}$ for some finite \'etale $R$-algebra $\tilde{R}$ and $\operatorname{GL}_1$-gerbe $\mathcal{G}$ on $\smash{\Spec(\tilde{R})}$.
\end{theorem}

As in the classical setting, theorem \ref{teo introduction spectral} holds over any connective $E_\infty$-ring under an additional compact generation hypothesis. Furthermore, we deduce theorem \ref{teo introduction spectral} from a more general version that applies to $\infty$-categories linear over a base symmetric monoidal $R$-linear $\infty$-category $\Mcal$ subject to certain tameness conditions, see theorem \ref{theo prestable con coefficients}.

 Theorem \ref{teo introduction spectral} may be specialized to yield a classification of invertible linear $\infty$-categories:

\begin{corollary}\label{coro invertibles spectral}
Let $R$ be a connective $E_\infty$-ring such that $\pi_0(R)$ is a G-ring. Then every invertible object of $\lincat_{R, \infty}$ is of the   form $\Mod^\cn_{R, \mathcal{G}}$ for some  $\operatorname{GL}_1$-gerbe $\mathcal{G}$ on $\smash{\Spec(R)}$. In particular, the  group of equivalence classes of invertible objects of $\lincat_{R, \infty}$ is isomorphic to $H^2(\Spec(R), \operatorname{GL}_1) = H^2(\Spec(\pi_0(R)), \GG_m)$.
\end{corollary}

In \cite{ToenAzumaya}, To\"{e}n introduced a notion of derived Azumaya algebra over simplicial commutative rings, which was later extended to the setting of commutative ring spectra in \cite{BrauerSpectral} and \cite{AGBrauer}. If $R$ is a connective commutative ring spectrum, then an $R$-algebra $A$ is Azumaya if and only if its $\infty$-category of left module spectra defines an invertible object of the symmetric monoidal $(\infty,2)$-category $\lincat_{R, \infty, \text{st}}$ of $R$-linear cocomplete \emph{stable} $\infty$-categories. As shown by To\"{en} (in the setting of simplicial commutative rings) and Antieau-Gepner (in the setting of connective commutative ring spectra) every invertible object of $\lincat_{R, \infty, \text{st}}$  which is compactly generated arises from an Azumaya $R$-algebra, and furthermore these are classified up to Morita equivalence by $H^2(\Spec(R), \operatorname{GL}_1) \times H^1(\Spec(R), \ZZ)$.

In the unstable setting, the $\infty$-category of connective modules over a connective Azumaya algebra defines an invertible object of  $\lincat_{R, \infty}$, however not every invertible object arises in this way: this happens if and only if the associated cohomology class is torsion. It was shown by Lurie in \cite{SAG} chapter 11 that for any connective commutative ring spectrum $R$, there is an isomorphism between $H^2(\Spec(R), \operatorname{GL}_1)$ and the group of equivalence classes of invertible objects $\ccal$ of $\lincat_{R, \infty}$ such that  $\ccal$ and $\ccal^{-1}$ are compactly generated Grothendieck prestable $\infty$-categories. Corollary \ref{coro invertibles spectral} strengthens this result in the case when $\pi_0(R)$ is a G-ring, by removing all hypotheses on $\ccal$.\footnote{The requirement that $\ccal$ and $\ccal^{-1}$ are Grothendieck prestable is not a major restriction: as we shall see, every dualizable object of $\lincat_{R, \infty}$ is automatically Grothendieck prestable. The main feature of corollary \ref{coro invertibles spectral} is that it removes all compact generation hypotheses.}

One may wonder whether a variant of theorem \ref{teo introduction spectral} holds when working with $\lincat_{R, \infty, \text{st}}$ instead of $\lincat_{R, \infty}$. As stated this is too much to hope for: even if $R = k$ is a field, the derived $\infty$-category of quasicoherent sheaves on any smooth and proper variety over $k$ is a fully dualizable object which is not of the stated form. The study of compactly generated fully dualizable objects $\lincat_{k, \infty, \text{st}}$ and the question of to what extent these arise from geometric objects is the subject of active research \cite{OrlovSchemes, OrlovFinite, RaedscheldersStevenson}.

If we focus on invertible objects of $\lincat_{R, \infty, \text{st}}$ instead, one may expect that they all arise from (non necessarily connective) Azumaya $R$-algebras. As already remarked, this holds under an additional compact generation hypothesis. Our next result removes this compact generation hypothesis in the case when $R$ is truncated (that is, $R$ has finitely many nonzero homotopy groups)\footnote{An earlier version of this paper contained this result only in the case when $R$ is Artinian. An extension to the case of truncated Noetherian $E_\infty$-rings was also found, independently, by Antieau and Ramzi.}:

\begin{theorem}\label{teo principal stable introduction}
Let $R$ be a truncated connective $E_\infty$-ring. Then every invertible object of $\lincat_{R, \infty, \normalfont{\text{st}}}$ is the $\infty$-category of left modules over an Azumaya $R$-algebra.
\end{theorem}

In the language of \cite{ToenAzumaya} section 2, this shows that the derived algebraic Brauer group and the big derived categorical Brauer group agree in the truncated case.

\addtocontents{toc}{\protect\setcounter{tocdepth}{2}}
\subsection{Conventions and notation}

In the main body of the paper we use the convention where the word category stands for $\infty$-category, and use the term $(1,1)$-category or classical category if we wish to refer to the classical notion. Each category $\ccal$ has a Hom bifunctor $\Hom_\ccal(-,-)$ whose target is the category $\Spc$ of homotopy types. If $\ccal$ is equipped with an action of a monoidal category $\Mcal$ and the action admits Hom objects we denote by $\Hom^\enh_\ccal(-, -)$ the induced relative Hom bifunctor with target $\Mcal$. In other words, this is such that for every triple of objects $X$ in $\Mcal$ and $Y, Z$ in $\ccal$ we have $\Hom_\ccal(X \otimes Y, Z) = \Hom_\Mcal(X, \Hom^\enh_\ccal(Y, Z))$. We usually write $\End_\ccal(X)$ and $\End_\ccal^\enh(X)$ instead of $\Hom_\ccal(X, X)$ and $\Hom_\ccal^\enh(X, X)$.

For each category $\ccal$ and each $n \geq -2$ we denote by $\ccal_{\leq n}$ the full subcategory of $\ccal$ on the $n$-truncated objects. If the inclusion $\ccal_{\leq n} \rightarrow \ccal$ admits a left adjoint, this will be denoted by $\tau_{\leq n}$. We say that a category $\ccal$ is an $(n,1)$-category if $\ccal = \ccal_{\leq n-1}$. For each category $\ccal$ we denote by $\Ho(\ccal)$ its homotopy category; in other words, this is the universal $(1,1)$-category equipped with a functor from $\ccal$.

We denote by $\Ab$ the category of abelian groups, and $\Sp$ the category of spectra. For each commutative ring spectrum $R$ we denote by $\Mod_R$ the category of $R$-module spectra. If $R$ is connective we will denote by $\Mod_R^\cn$ the full subcategory of $\Mod_R$ on the connective $R$-module spectra, and by $\Mod_R^\heartsuit$ the full subcategory of $\Mod_R^\cn$ on the $0$-truncated objects. This applies in particular to the case when $R$ is a (classical) commutative ring: in this case $\Mod_R^\heartsuit$ is the category of $R$-modules in abelian groups, while $\Mod_R$ is its derived category.

We fix a sequence of nested universes. Objects belonging to each of the first three universes are called small, large and very large, respectively. We let $\cat$ be the category of small categories, $\cathat$ the category of large categories, $\catl$ the subcategory of $\cathat$ on the categories with small colimits and colimit preserving functors, and $\Pr^L$ the full subcategory of $\catl$ on the presentable categories. For each pair of categories $\ccal$ and $\dcal$ we denote by $\Funct(\ccal, \dcal)$ the category of functors from $\ccal$ to $\dcal$. If $\ccal$ and $\dcal$ belong to $\catl$, we let $\Funct^L(\ccal, \dcal)$ be the full subcategory of $\Funct(\ccal, \dcal)$ on the colimit preserving functors.

We will frequently consider $\catl$ and $\Pr^L$ as symmetric monoidal categories as in \cite{HA} chapter 4.8, where for each pair of objects $\Ccal, \Dcal$ the tensor product $\Ccal \otimes \Dcal$ is the universal recipient of a bifunctor from $\Ccal \times \Dcal$ which preserves colimits in each coordinate. In particular, commutative algebras in $\catl$ are the same as cocomplete symmetric monoidal categories for which the symmetric monoidal structure is compatible with colimits. Commutative algebras in $\Pr^L$ will be called presentable symmetric monoidal categories.

\subsection{Acknowledgments}

I would like to thank Bertrand ToÃ«n for mentioning to me the problem of classifying invertible presentable stable $\infty$-categories. I am also grateful to Ben Antieau, Ko Aoki, David Ben-Zvi, Jacob Lurie, Naruki Masuda, Akhil Mathew, David Reutter, Peter Scholze, and Markus Zetto for conversations related to the subject of this paper. Part of this work was carried out at the Max Planck Institute for Mathematics in Bonn, and I am grateful to the institute for its hospitality and support.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\ifx\inmain\undefined
\bibliographystyle{myamsalpha2}
\bibliography{References}
\fi

\end{document}
