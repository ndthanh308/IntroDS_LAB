%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% EMT_SSS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass{standalone}

\usepackage{pgfplots}
\usetikzlibrary{pgfplots.groupplots}

% import style library
\usepackage{myStyleIEEE}

\begin{document}


\begin{tikzpicture}
    \begin{groupplot}[
    group style={
    group name=my plots,
    group size=1 by 2,
    vertical sep=2pt
    },
    footnotesize,
    scaled ticks=false,
    tick label style={/pgf/number format/fixed},
    colormap name=viridis,
    width=7.25cm,
    height=4cm,
    %trim axis left,
    %trim axis right,
    %xlabel style={yshift=0.75em},
    %ylabel style={yshift=-1.5em},
    xmin=-0, xmax=40,
    %ymin=0.9, ymax=1.1,
    xtick={0,10,20,30,40},
    %ytick={0.9,0.95,1,1.05,1.1},
    %legend pos=north east,
    xmajorgrids=true,
    ymajorgrids=true,
    legend cell align={left},
    grid style=dashed,
]

    \nextgroupplot[ylabel={$\Delta f\,\mathrm{[Hz]}$},xticklabels=\empty, yshift=-0.25em,
    ymin=-0.2, 
    ymax=0.2, 
    % ytick={49.9, 50, 50.1}, 
    % legend style={at={(axis cs:0.1,0.7)},anchor=north west,nodes={scale=0.75, transform shape}}
    ]
    \addplot[
        smooth,
        thick,
        color=pBlue,
        %fill=black, 
        %fill opacity=0.15
        ]
        table [x expr=\thisrow{X}/1, y expr=(\thisrow{Y}-60)] {data/EMT_SSS/data2.txt};    
    %     % \addlegendentry{\footnotesize Exact value}   
    \addplot[
        smooth,
        thick,
        color=pRed,
        %fill=black, 
        %fill opacity=0.15
        ]
        table [x expr=\thisrow{X}/1, y expr=(\thisrow{Y}-60)] {data/EMT_SSS/data0.txt};    
        % \addlegendentry{\footnotesize Exact value}  
    \addplot+[mark=none, dashed, thick, color=pYellow]  coordinates {(2, -0.2) (2, 0.2)};  
    
    \nextgroupplot[ylabel={$\Delta P\,\mathrm{[p.u.]}$},xlabel={$t\,\mathrm{[s]}$}, yshift=-0.25em,
    ymin=-1, 
    ymax= 1, 
    ytick={-1,-0.5,0,0.5}, 
    legend style={at={(axis cs:0.4,1.2)},    anchor=north west,nodes={scale=0.75, transform shape}}
    ]
    \addplot[
        smooth,
        thick,
        color=pBlue,
        %fill=black, 
        %fill opacity=0.15
        ]
        table [x expr=\thisrow{X}/1, y expr=(\thisrow{Y}-0.843150322344298)] {data/EMT_SSS/data3.txt};  
        \addlegendentry{\footnotesize Stable} 

    \addplot[
        smooth,
        thick,
        color=pRed,
        %fill=black, 
        %fill opacity=0.15
        ]
        table [x expr=\thisrow{X}/1, y expr=(\thisrow{Y}-0.843150322344298)] {data/EMT_SSS/data1.txt};  
        \addlegendentry{\footnotesize Unstable}
    \addplot+[mark=none, dashed, thick, color=pYellow]  coordinates {(2, -1) (2, 1)}; 
        
        
    \end{groupplot}
\end{tikzpicture} 

\end{document}