%%%%%%%%%% PACKAGES %%%%%%%%%%
\usepackage[utf8]{inputenc}
%\usepackage{fontspec}
%\usepackage{lmodern}  % To use T1 fonts, not bitmapped ones.
\usepackage[T1]{fontenc}
\usepackage[scaled=0.85]{beramono}
\usepackage[english]{babel}
\usepackage[final]{microtype}
\usepackage[autostyle]{csquotes}
\usepackage{amssymb}
\usepackage{amsmath}
%\usepackage{amsthm}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{wasysym} %\Circle
\usepackage[colorlinks=true,linkcolor=blue,citecolor=blue,urlcolor=blue,linktoc=all]{hyperref}
\hypersetup{final}
\usepackage{graphicx}
\graphicspath{{images/}}
\usepackage[misc]{ifsym}  %\Letter
%\usepackage{unicode-math}
%\usepackage{geometry}
\usepackage[normalem]{ulem} %sout


\usepackage{multirow}


%%%%% NOTES %%%%%
\def\leye{$\bigcirc$\llap{$\bullet$}}
\def\reye{\rlap{$\bullet$}$\bigcirc$}
\def\xleye{\scalebox{0.8}{\raisebox{0.9\depth}{\leye}}}
\def\xreye{\scalebox{0.8}{\raisebox{0.9\depth}{\reye}}}

\newcommand{\todo}[1]{{\upshape{\color{red}T\xleye\ D\xleye: #1\,\xreye\xreye}}}
%\newcommand\todo[1]{}
%\newcommand{\tonote}[1]{{\upshape\color{blue}N\xleye TE: #1\,\xreye}}
%\newcommand\tonote[1]{}
%\newcommand{\tocite}[1]{{\upshape\color{Plum}[CIT\faBook: #1]}}
%\newcommand\tocite[1]{}
%\usepackage[normalem]{ulem}
\newcommand{\toremove}[1]{{\color{gray}TO REMOVE: \sout{#1}}}
%\newcommand\toremove[1]{}


%%%%%%%%%% LISTINGS %%%%%%%%%%
\usepackage[final]{listings}
\lstdefinelanguage{Maude}
{
morekeywords={protecting,pr,extending,ex,including,inc,op,ops,sort,sorts,subsort,subsorts,eq,ceq,rl,crl,mb,cmb,if,then,else,fi,mod,fmod,endm,endfm,is,ctor,constructor,comm,assoc,id:,var,vars,owise,and,or,sync,on,to,from,view,endv,th,endth,fth,endfth,in,aemod,endaem,emod,endem,ppt,ppts,ag,inh},
sensitive=true,
comment=[l]{---},
emph={\=},
alsoletter={-,:},
}
\def\mysize{\small}
\lstset{
  language={Maude},
  basicstyle=\mysize\ttfamily\upshape,
  escapeinside={(*}{*)},
  mathescape=false,
  frame=leftline,
  columns=flexible,
  keepspaces=true,
  framesep=3mm,
  xleftmargin=3.5mm,
  aboveskip=\smallskipamount,
  belowskip=\smallskipamount,
  lineskip=0pt,
  commentstyle=\itshape,
  keywordstyle=\bfseries\color{red!50!black},
  emphstyle=\color{red},
  literate = *{=[}{\textcolor{red!50!black}{=[}}2
              {]=>}{\textcolor{red!50!black}{]=>}}3
              {=>}{\textcolor{red!50!black}{=>}}2
              {\$}{\textcolor{red!50!black}{\$}}1
              {|>}{\textcolor{red!50!black}{|>}}2,
}
\newcommand{\intt}[1]{\texttt{\mysize\upshape{#1}}}
% This command exists because \lstinline is not usable in some circumstances (math mode, for instance).


%%%%% COMMANDS %%%%%
\newcommand{\red}{\mathop{\mathrm{red}}}
\newcommand{\grt}{\mathrel{\triangleright}}
\newcommand{\pmap}{\mathrel{\ooalign{\hfil$\mapstochar\mkern5mu$\hfil\cr$\to$\cr}}}
\newcommand{\tdiam}{\mathop{\raisebox{0pt}{$\Diamond$}}}
\newcommand{\tbox}{\mathop{\raisebox{0pt}{$\Box$}}}
\newcommand{\tu}{\mathrel{\mathbf{U}}}
\newcommand{\tw}{\mathrel{\mathbf{W}}}
\newcommand{\tr}{\mathrel{\mathbf{R}}}
\newcommand{\tn}{\mathop{\Circle}}
\newcommand{\ltl}{\ensuremath{\mathrm{LTL}}}
\newcommand{\nonext}{\scalebox{-0.7}[.7]{$\varnothing$}}
\newcommand{\ltlmsp}{\mathrm{LTL}_{\nonext}(\Sigma,\Pi)}
%\newcommand{\ltlmsp}{\mathrm{LTL}_{-\mathbf{X}}(\Sigma,\Pi)}
\newcommand{\Land}{\bigwedge}
\newcommand{\Lor}{\bigvee}
\newcommand{\limpl}{\mathrel{\rightarrow}}
\newcommand{\lequiv}{\mathrel{\leftrightarrow}}
\newcommand{\union}{\mathrel{\cup}}
\newcommand{\Union}{\bigcup}
\newcommand{\inters}{\mathrel{\cap}}
\newcommand{\Inters}{\bigcap}
\newcommand{\aers}{\textnormal{\textup{\textsf{atEgRwSys}}}}
\newcommand{\ers}{\textnormal{\textup{\textsf{EgRwSys}}}}
\newcommand{\prs}{\textnormal{\textup{\textsf{RwSys}}}}
\newcommand{\aets}{\textnormal{\textup{\textsf{atEgTrStr}}}}
\newcommand{\ets}{\textnormal{\textup{\textsf{EgTrStr}}}}
\newcommand{\pts}{\textnormal{\textup{\textsf{TrStr}}}}
\newcommand{\calt}{\mathcal{T}}
\newcommand{\calr}{\mathcal{R}}
\newcommand{\calk}{\mathcal{K}}
\newcommand{\call}{\mathcal{L}}
\newcommand{\calm}{\mathcal{M}}
\newcommand{\cals}{\mathcal{S}}
\newcommand{\cale}{\mathcal{E}}
\newcommand{\cala}{\mathcal{A}}
\newcommand{\calb}{\mathcal{B}}
\newcommand{\calta}{{\calt\!,\cala}}
\newcommand{\compat}{\mathrel{|\hspace{-1.7mm}\approx}}
\newcommand{\sem}{\mathop{\mathrm{sem}}}
\newcommand{\simul}{\mathrel{\mathsf{S}}}
\newcommand{\shiftleft}[2]{\makebox[0pt][r]{\makebox[#1][l]{#2}}}
\newcommand{\rew}{\mathrel{\rightarrow}}
\newcommand{\splitop}{\mathop{\mathrm{split}}}
\newcommand{\poraqui}{\vspace{1cm}{\color{red}\hrule\vspace{-2mm}\center{\Large$\Rightarrow$}\quad POR AQUÃ \quad{\Large$\Leftarrow$}\vspace{1mm}\hrule}\vspace{1cm}}
%\newcommand{\poraqui}{\vspace{1cm}{\center{\color{red}\textbf{===== ===== POR AQU\'I ===== =====}}}\vspace{1cm}}
\newcommand{\rif}{\mathrel{\ \textsf{\small\upshape i\hspace{-0.7pt}f}\ }}
\newcommand{\trans}[1]{\mathrel{\ooalign{$-$\cr\hidewidth\hbox{$\big[\mkern-2mu$}\cr}\hbox{$\mkern3mu$}#1\hbox{$\mkern-3mu$}\mathrel{\ooalign{$\big]$\cr\hidewidth\hbox{$\rightarrow\mkern-13mu$}\cr}\hbox{$\mkern14mu$}}}}


%%%%%%%%%% THEOREMS %%%%%%%%%%
\newtheorem{thm}{Theorem}
\newtheorem{prop}{Proposition}
\newtheorem{lemma}{Lemma}
\newtheorem{corol}{Corollary}
\newtheorem{defn}{Definition}
%\newtheorem*{notat}{Notation}


%%%%% TIKZ %%%%%
\usepackage{tikz}
\usetikzlibrary{arrows, arrows.meta, shapes.misc, decorations.pathmorphing, decorations.text}
\tikzset{>=stealth}
\tikzstyle{state} = [rounded rectangle, draw, fill=white, minimum size=2em]
\tikzstyle{trans} = [rectangle, draw, fill=gray!20, minimum size=1.9em]
\tikzset{sem/.style={-{Latex[length=2mm]}, decorate, decoration={snake, amplitude=.4mm, segment length=4mm, post length=1mm}, line width=0.3mm}}
\tikzset{split/.style={-{Latex[length=2mm]}, densely dashed, line width=0.3mm}}
\tikzset{sc/.style={-{Latex[length=2mm]}, double, line width=0.1mm}}
\tikzset{>=stealth}
\tikzstyle{box} = [rectangle, draw, minimum width=5em, minimum height=2em]
\tikzstyle{pnstate} = [rounded rectangle, draw, minimum size=1.5em]
\tikzstyle{pntrans} = [rectangle, draw, thick, fill=black, minimum width=6mm, inner ysep=2pt]
