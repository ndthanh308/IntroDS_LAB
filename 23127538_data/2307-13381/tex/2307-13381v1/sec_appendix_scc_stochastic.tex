\newpage

\section{Convergence of \algname}
In this section, we present the missing proofs in Section~\ref{sec:theory}. 
Specifically, Section~\ref{subsec:appendix-proof-sc-c} contains the proofs for the strongly convex-concave setting (Section~\ref{sec:theory-sc-c}), while Section~\ref{subsec:appendix-proof-sc-sc} includes the proofs for the strongly convex-strongly concave setting (Section~\ref{sec:theory-sc-sc}).


\subsection{Proofs -- strongly-convex-concave (SC-C) setting}\label{subsec:appendix-proof-sc-c}
In this subsection, we first present the technical lemma in Section~\ref{subsec:appendix-proof-sc-c-lemmas}. 
Next, we analyze how to set the step size related parameters in Section~\ref{subsec:appendix-proof-sc-c-parameters}.
Finally, we prove Theorem~\ref{thm:main-sc-c} in Section~\ref{subsec:appendix-proof-sc-c-theorem-proof}.

\subsubsection{Technical Lemma}\label{subsec:appendix-proof-sc-c-lemmas}

\begin{lemma}\label{lemma:sc-c-stochastic}
If we set the step size in Algorithm~\ref{Algorithm:ScaffoldAPD} as $\tau_r\cdot L_{\bx\bx} \leq 1$, and the parameters of Algorithm~\ref{Algorithm:ScaffoldAPD} satisfy Condition~\ref{condition:stepsize-scc}, 
then for any $\bx, \blambda$ we have
\begin{equation}\label{eq:lemma:sc-c-stochastic-eq0}
\begin{aligned}
\E\left[{F(\bx^{r+1}, \blambda)} -  {F(\bx, \blambda^{r+1})}\right] \leq -Z_{r+1} + V_r + \Delta_r+ C\tau_r \zeta^{2},
\end{aligned}
\end{equation}
where $Z_{r+1}, V_r, \Delta_r$ are defined as
\begin{small}
\begin{align}
Z_{r+1} &=\E\left[ \langle \bq^{r+1}, \blambda^{r+1} - \blambda \rangle + \frac{1}{2\sigma_r}\|\blambda^{r+1} - \blambda\|^{2} + \left(\frac{1}{2\tau_r}+\frac{\mu_{\bx}}{8}\right)\|\bx^{r+1} -\bx\|^{2} + \frac{1}{2\alpha_{r+1}}\|\bq^{r+1}\|^{2}\right],\nonumber \\
V_{r} &=  \E\left[ \theta_{r}\langle\bq^{r}, \blambda^{r} - \blambda\rangle +  \frac{1}{2\sigma_r}\|\blambda^{r} - \blambda\|^{2} + \frac{1}{2\tau_r}\|\bx^{r} - \bx\|^{2} + \frac{\theta_{r}}{2\alpha_r}\|\bq^{r}\|^{2}\right], \\
\Delta_r &= \E\left[ \left(\frac{\alpha_{r}\theta_{r}}{2} - \frac{1}{2\sigma_r}\right)\|\blambda^{r+1}-\blambda^{r}\|^{2} + \left(\frac{L_{\blambda\bx}^{2}}{2\alpha_{r+1}} + 3L_{\bx\bx} - \frac{1}{4\tau_{r}}\right)\|\bx^{r+1}-\bx^{r}\|^{2}\right],\nonumber
\end{align}
\end{small}

$\bq^{r}$ is defined as
\begin{equation}
    \bq^r = \nabla_{\blambda}\Phi(\bx^{r}, \blambda^{r}) - \nabla_{\blambda}\Phi(\bx^{r-1}, \blambda^{r-1}),
\end{equation}
and $C \geq 0$ is a constant.
\end{lemma}
\begin{proof}
To start with, by applying Lemma~\ref{Lemma:lamba-update-optimal-confidtion}, we have
\begin{equation}\label{eq:apd-y-stoc}
    \psi(\blambda^{r+1}) - \langle\bs^{r}, \blambda^{r+1} - \blambda\rangle \leq \psi(\blambda) + \underbrace{\frac{1}{\sigma_r}\left[\mathrm{D}(\blambda, \blambda^{r})-\mathrm{D}(\blambda, \blambda^{r+1})-\mathrm{D}(\blambda^{r+1}, \blambda^{r})\right]}_{B_r},
\end{equation}
where we define $B_r$ as
\begin{equation}
    B_r = \frac{1}{\sigma_r}\left[\mathrm{D}(\blambda, \blambda^{r})-\mathrm{D}(\blambda, \blambda^{r+1})-\mathrm{D}(\blambda^{r+1}, \blambda^{r})\right].
\end{equation}
Then by applying Lemma~\ref{Lemma:x-update-optimal-confidtion}, for the update step of $\bx^{r+1}$, we have
\begin{equation}\label{eq:apd-1-stoc}
    \E\left[\left\langle \Delta\bx^{r}, \bx^{r+1} - \bx\right\rangle\right] \leq  \frac{1}{\tau_r}\E\left[\mathrm{D}(\bx, \bx^{r})-\mathrm{D}(\bx, \bx^{r+1})-\mathrm{D}(\bx^{r+1}, \bx^{r})\right],
\end{equation}
where $\Delta\bx^{r}$ is defined in Eq.~\eqref{eq:appendix-delta-x-r-def}. Then we decompose the term $\E[\left\langle \Delta\bx^{r}, \bx^{r+1} - \bx\right\rangle]$ as follows,
\begin{equation}
\begin{aligned}
&\E\left[\Big\langle \Delta{\bx}^{r}, \bx^{r+1} - \bx\Big\rangle\right]\\
=\,& \underbrace{\E\left[\Big\langle \Delta{\bx}^{r}, \bx^{r} - \bx\Big\rangle\right]}_{\cT_1} +  
\underbrace{\E\left[\Big\langle \widetilde{\Delta}{\bx}^{r}, \bx^{r+1} - \bx^{r}\Big\rangle\right]}_{\cT_2} + \underbrace{\E\left[\Big\langle \Delta{\bx}^{r} - \widetilde{\Delta}{\bx}^{r}, \bx^{r+1} - \bx^{r}\Big\rangle\right]}_{\cT_3}\\
=\,& {\cT_1} +  
{\cT_2} + {\cT_3},
\end{aligned}
\end{equation}
and by Lemma~\ref{Lemma:x-update-optimal-confidtion},
\begin{equation}\label{eq:lowerbound-T1-T2-T3-stoc}
\begin{aligned}
    \cT_1 \geq \,& \E\left[{\Phi(\bx^{r}, \blambda^{r+1})} - {\Phi(\bx, \blambda^{r+1})}\right] + \frac{\mu_{\bx}}{4}\E\left[\|\bx^{r}-\bx\|^{2}\right] - L_{\bx\bx}{\mathcal{E}_{r}},\\
    \cT_2 \geq \,& \E\left[{\Phi(\bx^{r+1}, \blambda^{r+1})} - {\Phi(\bx^{r}, \blambda^{r+1})}\right]  - 2L_{\bx\bx}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right] - 2L_{\bx\bx}\mathcal{E}_{r},\\
    \cT_3 \geq \, &-\frac{2\chi\,\tau_r}{J}\zeta^{2} - \frac{1}{4\tau_r}\E\left[\mathrm{D}(  \bx^{r+1}, \bx^{r})\right].
\end{aligned}
\end{equation}
Therefore, by combining Eq.~\eqref{eq:apd-1-stoc} and Eq.~\eqref{eq:lowerbound-T1-T2-T3-stoc}, we have
\begin{small}
\begin{equation}
\begin{aligned}
    &  \E\left[{\Phi(\bx^{r+1}, \blambda)} -  {\Phi(\bx, \blambda^{r+1})} \right]  \\ 
    \leq \,& \E\left[{\Phi(\bx^{r+1}, \blambda)} - {\Phi(\bx^{r+1}, \blambda^{r+1})} + {\Phi(\bx^{r+1}, \blambda^{r+1})} - {\Phi(\bx^{r}, \blambda^{r+1})}\right] - \cT_2 - \cT_3  \\
    & + \frac{1}{\tau_r}\E\left[\mathrm{D}(\bx, \bx^{r})-\mathrm{D}(\bx, \bx^{r+1})-\mathrm{D}(\bx^{r+1}, \bx^{r})\right] - \frac{\mu_{\bx}}{4}\E\left[\|\bx^{r}-\bx\|^{2}\right]  + L_{\bx\bx}{\mathcal{E}_{r}} \\
    \leq\,& \E\left[{\Phi(\bx^{r+1}, \blambda)} - {\Phi(\bx^{r+1}, \blambda^{r+1})}\right]    + \frac{1}{\tau_r}\E\left[\mathrm{D}(\bx, \bx^{r})-\mathrm{D}(\bx, \bx^{r+1})-\frac{1}{2}\mathrm{D}(\bx^{r+1}, \bx^{r})\right] \\
    &- \frac{\mu_{\bx}}{4}\E\left[\|\bx^{r}-\bx\|^{2}\right] + 2L_{\bx\bx} \E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right] + 3L_{\bx\bx}{\mathcal{E}_{r}} + \frac{2\chi\,\tau_r}{J}\zeta^{2} \\
    \leq\,& \E\left[{\Phi(\bx^{r+1}, \blambda)} - {\Phi(\bx^{r+1}, \blambda^{r+1})}\right] + 3 L_{\bx\bx}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right] + 3L_{\bx\bx}{\mathcal{E}_{r}} + \frac{2\chi\,\tau_r}{J}\zeta^{2} \\
    &+ \underbrace{\frac{1}{\tau_r}\E\left[\mathrm{D}(\bx, \bx^{r})-\mathrm{D}(\bx, \bx^{r+1})- \frac{1}{2}\mathrm{D}(\bx^{r+1}, \bx^{r})\right] - \frac{\mu_{\bx}}{8}\E\left[\|\bx^{r+1}-\bx\|^{2}\right]}_{A_r}  \\
    =\,& \E\left[{\Phi(\bx^{r+1}, \blambda)} - {\Phi(\bx^{r+1}, \blambda^{r+1})}\right]    + 3L_{\bx\bx}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right] + 3L_{\bx\bx}{\mathcal{E}_{r}} + \frac{2\chi\,\tau_r}{J}\zeta^{2}  + {A_r},
\end{aligned}
\end{equation}
\end{small}



where we apply the lower bound of $\cT_2$ and $\cT_3$ (Eq.~\eqref{eq:lowerbound-T1-T2-T3-stoc}) for the second inequality,  and apply $-\|\bx\|^{2} \leq \|\by\|^{2} - \frac{1}{2}\|\bx+\by\|^{2}$ for the third inequality, and apply $\mu_{\bx} \leq L_{\bx\bx}$ for the last inequality. We define $A_r$ as
\begin{equation}
    A_r = \frac{1}{\tau_r}\E\left[\mathrm{D}(\bx, \bx^{r})-\mathrm{D}(\bx, \bx^{r+1})- \frac{1}{2}\mathrm{D}(\bx^{r+1}, \bx^{r})\right] - \frac{\mu_{\bx}}{8}\E\left[\|\bx^{r+1}-\bx\|^{2}\right].
\end{equation}
Next, we apply the concavity of $\Phi(\bx^{r+1}, \cdot)$ and combining the above two steps, for the $\bx$-update we have
\begin{small}
\begin{equation}\label{eq:apd-x-stoc}
\begin{aligned}
    &  \E\left[{\Phi(\bx^{r+1}, \blambda)} -  {\Phi(\bx, \blambda^{r+1})}\right]  \\
    \leq\,& \E[\langle \nabla_{\blambda}\Phi(\bx^{r+1}, \blambda^{r+1}), \blambda-\blambda^{r+1} \rangle]    + {A_r}  + 3L_{\bx\bx}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right] + 3L_{\bx\bx}{\mathcal{E}_{r}}  + \frac{2\chi\,\tau_r}{J}\zeta^{2},
\end{aligned}
\end{equation}    
\end{small}

\vspace{-0.05in}
By combining the inequality of $\blambda$-update (Eq.~\eqref{eq:apd-y-stoc}) and $\bx$-update (Eq.~\eqref{eq:apd-x-stoc}), we can get
\begin{equation}\label{eq:lemma-scc-eq2-stoc}
\begin{aligned}
&  \E\left[{F(\bx^{r+1}, \blambda)} -  {F(\bx, \blambda^{r+1})}\right]  \\ 
=\,&  \E\left[\left({\Phi(\bx^{r+1}, \blambda)} - \psi(\blambda)\right) -  \left({\Phi(\bx, \blambda^{r+1})} - \psi(\blambda^{r+1})\right)\right] \\ 
\leq\, & \E\left[\langle \nabla_{\blambda}\Phi(\bx^{r+1}, \blambda^{r+1}), \blambda-\blambda^{r+1} \rangle\right] + \langle\bs^{r}, \blambda^{r+1} - \blambda\rangle + {A_r} + B_r  \\
&\quad+ 3L_{\bx\bx}{\mathcal{E}_{r}} + 3L_{\bx\bx}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right]  + \frac{2\chi\,\tau_r}{J}\zeta^{2} \\
= & -\E\left[\langle \bq^{r+1}, \blambda^{r+1} - \blambda \rangle\right] + \theta_{r}\E\left[\langle\bq^{r}, \blambda^{r+1} - \blambda\rangle\right] + {A_r} + B_r \\
&\quad+ 3L_{\bx\bx}{\mathcal{E}_{r}} + 3L_{\bx\bx}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right]  + \frac{2\chi\,\tau_r}{J}\zeta^{2} \\
= & -\langle \E\left[\bq^{r+1}, \blambda^{r+1} - \blambda \rangle\right] + \theta_{r}\E\left[\langle\bq^{r}, \blambda^{r} - \blambda\rangle\right] + \theta_{r}\E\left[\langle\bq^{r}, \blambda^{r+1} - \blambda^{r}\rangle\right]  \\
&\quad + {A_r} + B_r  + 3L_{\bx\bx}{\mathcal{E}_{r}} + 3L_{\bx\bx}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right]  + \frac{2\chi\,\tau_r}{J}\zeta^{2},
\end{aligned}
\end{equation}
where we apply Eq.~\eqref{eq:apd-x-stoc} for the first inequality, and the definition of $\bq^{r}$ for the second equality, and $\bq^{r}$ is defined as
\begin{equation}
    \bq^r = \nabla_{\blambda}\Phi(\bx^{r}, \blambda^{r}) - \nabla_{\blambda}\Phi(\bx^{r-1}, \blambda^{r-1}).
\end{equation}
The term $\theta^{r}\langle\bq^{r}, \blambda^{r+1} - \blambda^{r}\rangle$ can be upper bounded as
\begin{equation}\label{eq:apd-bound-q-sc-mc-stoc}
\begin{aligned}
    \theta_{r}\langle\bq^{r}, \blambda^{r+1} - \blambda^{r}\rangle 
    &= \theta_{r}\langle\nabla_{\blambda}\Phi(\bx^{r}, \blambda^{r}) - \nabla_{\blambda}\Phi(\bx^{r-1}, \blambda^{r-1}), \blambda^{r+1} - \blambda^{r}\rangle \\
    &=  \theta_{r}\langle\nabla_{\blambda}\Phi(\bx^{r}, \blambda^{r}) - \nabla_{\blambda}\Phi(\bx^{r-1}, \blambda^{r}), \blambda^{r+1} - \blambda^{r}\rangle \\
    &\leq  \frac{\theta_{r}}{2\alpha_{r}}\|\nabla_{\blambda}\Phi(\bx^{r}, \blambda^{r}) - \nabla_{\blambda}\Phi(\bx^{r-1}, \blambda^{r})\|^{2} + 
    \frac{\alpha_{r}\theta_{r}}{2}\|\blambda^{r+1} - \blambda^{r}\|^{2}
\end{aligned}
\end{equation}
where we apply $\nabla_{\blambda}\Phi(\bx^{r-1}, \blambda^{r})=\nabla_{\blambda}\Phi(\bx^{r-1}, \blambda^{r-1})$ (because the $\Phi$ is linear in $\blambda$) for the second equality, and apply the smoothness assumption $$\|\bq^{r}\|= \|\nabla_{\blambda}\Phi(\bx^{r}, \blambda^{r}) - \nabla_{\blambda}\Phi(\bx^{r-1}, \blambda^{r})\| \leq L_{\blambda\bx}\|\bx^{r}-\bx^{r-1}\|$$
in the second inequality. 
Then by combining Eq.~\eqref{eq:apd-bound-q-sc-mc-stoc} and  Eq.~\eqref{eq:lemma-scc-eq2-stoc}, we have
\begin{small}
\begin{equation}\label{eq:lemma1-eq3-stoc}
\begin{aligned}
& \E \left[{F(\bx^{r+1}, \blambda)} -  {F(\bx, \blambda^{r+1})} \right] \\ 
\leq & -\underbrace{\E\left[\langle \bq^{r+1}, \blambda^{r+1} - \blambda \rangle + \frac{1}{\sigma_r}\mathrm{D}(\blambda, \blambda^{r+1}) + \frac{1}{\tau_r}\mathrm{D}(\bx, \bx^{r+1}) + \frac{\mu_{\bx}}{8}\|\bx^{r+1} - \bx\|^{2} + \frac{1}{2\alpha_{r+1}}\|\bq^{r+1}\|^{2} \right]}_{Z_{r+1}} \\ 
&+\underbrace{\E\left[  \theta_{r}\langle\bq^{r}, \blambda^{r} - \blambda\rangle +  \frac{1}{\sigma_r}\mathrm{D}(\blambda, \blambda^{r}) + \frac{1}{\tau_r}\mathrm{D}(\bx, \bx^{r}) + \frac{\theta_{r}}{2\alpha_r}\|\bq^{r}\|^{2} \right]}_{V_r} + \frac{\alpha_{r}\theta_{r}}{2}\E\left[\|\blambda^{r+1}-\blambda^{r}\|^{2}\right]  \\
&+ \E\left[\frac{1}{2\alpha_{r+1}}\|\bq^{r+1}\|^{2} + 3L_{\bx\bx}\|\bx^{r+1}-\bx^{r}\|^{2} + 3L_{\bx\bx}{\mathcal{E}_{r}} - \frac{1}{2\tau_r}\mathrm{D}(\bx^{r+1}, \bx^{r}) - \frac{1}{\sigma_r}\mathrm{D}(\blambda^{r+1}, \blambda^{r})\right] + \frac{2\chi\,\tau_r}{J}\zeta^{2} \\
\leq & -Z_{r+1} + V_r  + \frac{\alpha_{r}\theta_{r}}{2}\E\left[\|\blambda^{r+1}-\blambda^{r}\|^{2}\right] + \frac{L_{\blambda\bx}^{2}}{2\alpha_{r+1}}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right]    + 3L_{\bx\bx}\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right] \\
&+ 3L_{\bx\bx}{\mathcal{E}_{r}} - \frac{1}{2\tau_r}\E\left[\mathrm{D}(\bx^{r+1}, \bx^{r})\right] - \frac{1}{\sigma_r}\left[\mathrm{D}(\blambda^{r+1}, \blambda^{r})\right] + \frac{2\chi\,\tau_r}{J}\zeta^{2} \\
= & -Z_{r+1} + V_r + \left(\frac{\alpha_{r}\theta_{r}}{2} - \frac{1}{2\sigma_r}\right)\E\left[\|\blambda^{r+1}-\blambda^{r}\|^{2}\right] + \left(\frac{L_{\blambda\bx}^{2}}{2\alpha_{r+1}} + 3L_{\bx\bx} - \frac{1}{4\tau_{r}}\right)\E\left[\|\bx^{r+1}-\bx^{r}\|^{2} \right] \\
& + \frac{2\chi\,\tau_r}{J}\zeta^{2}  + \underbrace{3L_{\bx\bx}{\mathcal{E}_{r}} - \frac{1}{8\tau_{r}}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right]}_{\cT_4} .
\end{aligned}
\end{equation}
\end{small}

Next, to get the upper bound of $\cT_4$, we apply Lemma~\ref{Lemma:x-update-lowerbound-drift} to analyze the term $\frac{1}{8\tau_{r}}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right]$,
\begin{equation}
\begin{aligned}
\frac{1}{8\tau_{r}}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right] 
\geq 
-\frac{\tau_r L_{\bx\bx}^{2}}{8} {\mathcal{E}_r} + \frac{\tau_r}{16}\E\left[\left\|\nabla_{\bx}\Phi(\bx^{r}, \blambda^{r+1})\right\|^{2}\right].
\end{aligned}
\end{equation}
By applying Lemma~\ref{Lemma:drift-lemma-deterministic}, we can upper bound the drift error as follows,
\begin{equation}
    \mathcal{E}_r \leq \frac{12\tau_r^{2}}{\eta_{g}^{2}}\E\left[\left\|\nabla_{\bx}\Phi(\bx^{r}, \blambda^{r+1})\right\|^{2}\right] + \left[\frac{8\tau_r^{2}}{\eta_{g}^{2}}\left(1+\chi\right) + \frac{3\tau_r^{2}}{\eta_g^{2} J}\right]\zeta^{2},
\end{equation}
Then if we set the effective step size as $\tau_r = O(1/L_{\bx\bx}))$, the term $\cT_4$ can be upper bounded as
\begin{small}
\begin{equation}\label{eq:apd-scaffold-err-control-stoc}
\begin{aligned}
\cT_4 &= 3L_{\bx\bx}{\mathcal{E}_{r}} - {\frac{1}{8\tau_{r}}\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right]} \\
&\leq \left(3L_{\bx\bx}+\frac{\tau_r L_{\bx\bx}^{2}}{8} \right){\mathcal{E}_r} - \frac{\tau_r}{16}\E\left[\left\|\nabla_{\bx}\Phi(\bx^{r}, \blambda^{r+1})\right\|^{2}\right]\\
&\leq \underbrace{\left(\frac{36 \tau_r^{2} L_{\bx\bx}}{\eta_{g}^{2}}+\frac{2\tau_r^{3} L_{\bx\bx}^{2}}{\eta_{g}^{2}} - \frac{\tau_r}{16} \right)}_{\leq 0}\E\left[\left\|\nabla_{\bx}\Phi(\bx^{r}, \blambda^{r+1})\right\|^{2}\right] \\
& \quad\,+\left(3L_{\bx\bx}+\frac{\tau_r L_{\bx\bx}^{2}}{8} \right)\left[\frac{8\tau_r^{2}}{\eta_{g}^{2}}\left(1+\chi\right) + \frac{3\tau_r^{2}}{\eta_g^{2} J}\right]\zeta^{2} \\
&\leq 12\tau_r\left(3\left(1+\chi\right) + \frac{1}{J}\right)\zeta^{2} \leq C\tau_r \zeta^{2},
\end{aligned}
\end{equation}
\end{small}
where $C \geq 0$ is a non-negative constant. Then by combining Eq.~\eqref{eq:apd-scaffold-err-control-stoc} and Eq.~\eqref{eq:lemma1-eq3-stoc}, we have
\begin{equation}
\begin{aligned}
&  \E\left[{L(\bx^{r+1}, \blambda)} -  {L(\bx, \blambda^{r+1})}\right]  \\ 
\leq & -Z_{r+1} + V_r + \frac{2\chi\,\tau_r}{J}\zeta^{2}   + C \tau_r \zeta^{2} \\
&+\underbrace{\left(\frac{\alpha_{r}\theta_{r}}{2} - \frac{1}{2\sigma_r}\right)\E\left[\|\blambda^{r+1}-\blambda^{r}\|^{2}\right] + \left(\frac{L_{\blambda\bx}^{2}}{2\alpha_{r+1}} + 3L_{\bx\bx} - \frac{1}{4\tau_{r}}\right)\E\left[\|\bx^{r+1}-\bx^{r}\|^{2}\right]}_{\Delta_r} \\
= & -Z_{r+1} + V_r + {\Delta_r}  + C\tau_r \zeta^{2},
\end{aligned}
\end{equation}
which completes the proof.
\end{proof}





\subsubsection{How to Set Parameters in Strongly-convex-concave (SC-C) Setting?}\label{subsec:appendix-proof-sc-c-parameters}

Next we study how to set the parameters of Algorithm~\ref{Algorithm:ScaffoldAPD} in the strongly-convex-concave setting.


\begin{lemma}\label{lemma:appendix-scc-stepsize-1}
In Algorithm~\ref{Algorithm:ScaffoldAPD}, if we set the parameters as
\begin{equation}
\begin{aligned}
    \sigma_{-1} &= \gamma_0 \bar{\tau},\quad \sigma_r = \gamma_r \tau_r, \quad
    \theta_r = \sigma_{r-1}/\sigma_r,\quad
    \gamma_{r+1} = \gamma_r (1 + \mu_{\bx}\tau_{r}),
\end{aligned}
\end{equation}
and we set $t_r$ as
\begin{equation}
    t_r = \sigma_r / \sigma_0,
\end{equation}
then we have
\begin{equation}\label{eq:appendix-lemma-stepsize-scc-eq1}
    t_r \left(\frac{1}{\tau_r} + {\mu_{\bx}}\right) \geq \frac{t_{r+1}}{\tau_{r+1}}, \quad \frac{t_r}{\sigma_r} \geq \frac{t_{r+1}}{\sigma_{r+1}}, \quad \frac{t_r}{t_{r+1}} = \theta_{r+1}.
\end{equation}
\end{lemma}
\begin{proof}
Because we have $t_r = \sigma_r / \sigma_0$, then $t_r \left(\frac{1}{\tau_r} + \mu_{\bx}\right) \geq \frac{t_{r+1}}{\tau_{r+1}}$ can be written as
\begin{equation}
    \left(1 + {\tau_r\mu_{\bx}}\right) \geq \frac{\tau_{r}}{\tau_{r+1}}\frac{t_{r+1}}{t_r} = \frac{\tau_{r}}{\tau_{r+1}}\frac{\sigma_{r+1}}{\sigma_r},
\end{equation}
then due to the updates of $\gamma_r$ ($\gamma_{r+1} = \gamma_r (1+\tau_r \mu_{\bx})$) and update of $\sigma_r$ ($\sigma_r = \gamma_r \tau_r$), we have
\begin{equation}
    \left(1 + {\tau_r\mu_{\bx}}\right)  = \frac{\gamma_{r+1}}{\gamma_r} = \frac{\sigma_{r+1}}{\tau_{r+1}} \frac{\tau_{r}}{\sigma_r},
\end{equation}
therefore, the three inequalities in Eq.~\eqref{eq:appendix-lemma-stepsize-scc-eq1} are satisfied. 
\end{proof}


\begin{lemma}\label{lemma:appendix-scc-stepsize-2}
For Algorithm~\ref{Algorithm:ScaffoldAPD}, we have
\begin{equation}
    \frac{\tau_r}{\sigma_r} = \frac{1}{\gamma_r} = O\left(\frac{1}{r^{2}}\right), \quad \gamma_r = O\left(r^{2}\right), \quad \sigma_r = O(r), \quad \tau_r\sigma_r = \tau_0^{2}\gamma_0.
\end{equation}
\end{lemma}
\begin{proof}
Since $\tau_{r+1} = \tau_{r}\sqrt{\gamma_r / \gamma_{r+1}}$, then we have $\tau_r = \tau_0 \sqrt{\gamma_0 / \gamma_{r}}$, then based on the update rule for $\gamma_r$ ($\gamma_{r+1} = \gamma_r (1+{\mu_{\bx}}\tau_r)$), we have
\begin{equation}
\gamma_{r+1} = \gamma_r (1+{\mu_{\bx}}\tau_r) = \gamma_{r} + {\mu_{\bx}}\tau_0\sqrt{\gamma_0 \gamma_r}.
\end{equation}
Then we apply induction to prove that
\begin{equation}
    \gamma_r \geq \frac{ \mu_{\bx}^{2}\tau_0^2\gamma_0}{9}r^{2}.
\end{equation}
Therefore, for $\sigma_r$, we have
\begin{equation}
    \sigma_r = \gamma_r \tau_r = \frac{\gamma_{r+1} - \gamma_r}{{\mu_{\bx}}} \geq \tau_0\sqrt{\gamma_0 \gamma_r} \geq \frac{{\mu}\tau_0^{2}\gamma_0}{3}r,
\end{equation}
and 
\begin{equation}
    \tau_r \sigma_r = \frac{\sigma_r^{2}}{\gamma_r} = \frac{(\gamma_{r+1} - \gamma_r)^2}{\mu_{\bx}^{2} \gamma_r} = \tau_0^2 \gamma_0 = \text{constant},
\end{equation}
furthermore,  we have
\begin{equation}
    \frac{\tau_r}{\sigma_r} = \frac{1}{\gamma_r} = O\left(\frac{1}{r^{2}}\right).
\end{equation}
\end{proof}

\begin{remark}
For the sake of simplicity, we establish the validity of the aforementioned two lemmas by considering the case where the parameter $({1}/{\tau_r} + {\mu_{\bx}})$ is used. 
It is worth noting that in subsequent proofs (Theorem~\ref{thm:appendix-sc-c}), it suffices to substitute a smaller value of $\mu_{\bx}$, such as $({1}/{\tau_r} + {\mu_{\bx}}/4)$. 
\end{remark}


\begin{proposition}
If we first set $\theta_0=1$, then we set $\tau_r, \sigma_r, \theta_r$ such that 
\begin{equation}\label{eq:apd-stepsize-1-stoc}
    \frac{1-\delta}{2\tau_r} \geq 6L_{\bx\bx} + \frac{L_{\blambda\bx}^{2}}{\alpha_{r+1}},\quad \frac{1-\delta}{\sigma_r} \geq \theta_{r}\alpha_r,
\end{equation}
where $\delta \in (0,1)$. Then $\Delta_r \leq 0$ for $r=1, \dots, R$\,.
\end{proposition}


\subsubsection{Convergence Analysis}\label{subsec:appendix-proof-sc-c-theorem-proof}
Finally, we prove the convergence of Algorithm~\ref{Algorithm:ScaffoldAPD} in the strongly-convex-concave setting.
\begin{theorem}\label{thm:appendix-sc-c}
    Under the assumptions of Theorem~\ref{thm:main-sc-c}, 
    Algorithm~\ref{Algorithm:ScaffoldAPD} will converge to $\bx^{\star}$, and 
    \begin{equation}
        \E\left[\|\bx^{R+1} - \bx^{\star}\|^{2} \right] 
        \leq \frac{C_1}{R^{2}}\left[\|\bx^{\star} - \bx^{0}\|^{2} + \| \blambda^{0} - \blambda^{\star}\|^{2}\right] + \frac{C_2}{R}\zeta^{2},
    \end{equation}
where $C_1, C_2 > 0$ are constants.
\end{theorem}

\begin{proof}
For $\theta_r$, we have
\begin{equation}
    \theta_{r+1}= \frac{\sigma_r}{\sigma_{r+1}} = \frac{\tau_r\gamma_r}{\tau_{r+1}\gamma_{r+1}} = \sqrt{\frac{\gamma_{r}}{\gamma_{r+1}}} = \frac{1}{\sqrt{1+{\mu_{\bx}}\tau_r}}, \quad \tau_{r+1} = \tau_{r}\sqrt{\frac{\gamma_r}{\gamma_{r+1}}} = \theta_{r+1} \tau_r,
\end{equation}
where we apply the fact that $\tau_{r+1} = \tau_{r}\sqrt{\gamma_r / \gamma_{r+1}}$. Next we set $t_r, \alpha_r$ as
\begin{equation}
    t_r = \sigma_r / \sigma_0, \quad \alpha_r = c_{\alpha}/\sigma_{r-1},
\end{equation}
where $c_{\alpha}\in(0, 1)$ is a constant. 
then Eq.~\eqref{eq:apd-stepsize-1-stoc} can be written as 
\begin{equation}\label{eq:appendix-thm-scc-stepsize-Delta}
    \frac{1-\delta}{\tau_r} \geq 12 L_{\bx\bx}+ \frac{2L_{\blambda\bx}^{2}\sigma_r}{c_{\alpha}}, \quad 1 - (\delta +  c_\alpha) \geq 0,
\end{equation}
the second one can be easily satisfied, the first one we apply induction to prove it,
\begin{equation}
    \frac{1-\delta}{\tau_{r+1}} = \frac{1-\delta}{\tau_r}\sqrt{\frac{\gamma_{r+1}}{\gamma_{r}}} \geq \left(12 L_{\bx\bx}+ \frac{2 L_{\blambda\bx}^{2}\sigma_r}{c_{\alpha}}\right)\sqrt{\frac{\gamma_{r+1}}{\gamma_{r}}}\geq \left(12 L_{\bx\bx}+ \frac{2 L_{\blambda\bx}^{2}\sigma_{r+1}}{c_{\alpha}}\right),
\end{equation}
where we apply the fact that 
\begin{equation}
    \gamma_{r+1}/\gamma_{r} \geq 1, \quad \sigma_{r+1} = \sigma_r\sqrt{\gamma_{k+1}/\gamma_{k}}.
\end{equation}
Therefore, by Eq.~\eqref{eq:appendix-thm-scc-stepsize-Delta}, we can prove that
\begin{equation*}
    \Delta_r = \E\left[ \left(\frac{\alpha_{r}\theta_{r}}{2} - \frac{1}{2\sigma_r}\right)\|\blambda^{r+1}-\blambda^{r}\|^{2} + \left(\frac{L_{\blambda\bx}^{2}}{2\alpha_{r+1}} + 3L_{\bx\bx} - \frac{1}{4\tau_{r}}\right)\|\bx^{r+1}-\bx^{r}\|^{2}\right] \leq 0.
\end{equation*}
Meanwhile, given the parameters of Algorithm~\ref{Algorithm:ScaffoldAPD} satisfy Condition~\ref{condition:stepsize-scc}, by Lemma~\ref{lemma:appendix-scc-stepsize-1}, we have 
\begin{equation}
    t_{r+1} V_{r+1} \leq t_{r}Z_{r+1}.
\end{equation}
Then, by multiplying Eq.~\eqref{eq:lemma:sc-c-stochastic-eq0} and summing up from $r=0, \cdots, R$, we have
\begin{equation}
\begin{aligned}
&\left[{\sum_{r=0}^{R} t_r }\right] \E\left[F(\bar{\bx}^{R+1}, {\blambda}) - F({\bx}, \bar{\blambda}^{R+1})\right]    +\frac{t_R}{\tau_{R}}\cdot \E\left[\mathrm{D}(\bx^{R+1}, \bx^{\star})\right] \\ 
\leq& \frac{t_0}{\tau_0}\mathrm{D}(\bx^{\star}, \bx^{0}) + \frac{t_0}{\sigma_0}\mathrm{D}(\blambda^{\star}, \blambda^{0}) + \sum_{r=0}^{R}(t_r\cdot C\tau_r \zeta^{2}),
\end{aligned}
\end{equation}
where we defined $\bar{\bx}^{R+1}, \bar{\blambda}^{R+1}$ as
\begin{equation}
    \bar{\bx}^{R+1} = \frac{1}{\sum_{r=0}^{R}t_r}\sum_{r=0}^{R}t_r \bx^{r}, \quad 
    \bar{\blambda}^{R+1} = \frac{1}{\sum_{r=0}^{R}t_r}\sum_{r=0}^{R}t_r \blambda^{r}, 
\end{equation}
because by Lemma~\ref{lemma:appendix-scc-stepsize-2}, we have
\begin{equation}
    \sigma_{R}/\tau_{R} = O(R^{2}), \quad \sum_{r=0}^{R}t_r=O(R^{2}),\quad t_R = \sigma_{R}/\sigma_0, \quad t_r\tau_r=\tau_0^{2} \gamma_0,
\end{equation} 
then we have
\begin{equation}
    \E\left[\mathrm{D}(\bx^{R+1}, \bx^{\star})\right] \leq \frac{C_1}{R^{2}}\left[\frac{t_0}{\tau_0}\mathrm{D}(\bx^{\star}, \bx^{0}) + \frac{t_0}{\sigma_0}\mathrm{D}(\blambda^{\star}, \blambda^{0})\right] + \frac{C_2}{R}\zeta^{2},
\end{equation}
where we apply the fact that 
\begin{equation}
    F(\bar{\bx}^{R+1}, {\blambda}^{\star}) - F({\bx}^{\star}, \bar{\blambda}^{R+1}) \geq 0.
\end{equation}
This completes our proof.
\end{proof}






\newpage
