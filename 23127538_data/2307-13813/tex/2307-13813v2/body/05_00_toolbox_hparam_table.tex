\newcommand{\firstmidrules}{
\cmidrule(r){2-4}
\cmidrule(r){5-7}
}
\newcommand{\secondmidrules}{
\cmidrule(r){2-3}
\cmidrule(r){4-4}
\cmidrule(r){5-5}
\cmidrule(r){6-7}
}

\begin{table}[t]
\centering
\caption{Scaled learning rates $\hat\eta$ at different batch sizes $\hat B=\kappa B$ given reference learning rates $\eta$ defined at batch size $B$. The reference values of each column are boldened. 
Note that this is only valid when there is a notion of \emph{single sample}. In the sequence learning setup (for example, in \Cref{subsec:semi-supervised}), the notion of batch size should be appropriately replaced with the \emph{dynamic batch size}, i.e. total sequence length.}
\small
\label{tab:common-hparams-lr}
\begin{tabular}{cllllll}
\toprule
{} & \multicolumn{3}{c}{$\hat\eta=\kappa\eta$ [SGD]} & \multicolumn{3}{c}{$\hat\eta=\sqrt\kappa\eta$ [RMSProp, Adam]} \\ \firstmidrules
{} & \multicolumn{2}{c}{$B=256$} &         $B=512$ &                                    $B=256$ & \multicolumn{2}{c}{$B=4096$} \\ \secondmidrules
Batch size $\hat B$&                  $\eta=0.1$ &      $\eta=0.3$ &      $\eta=0.1$ &                             $\eta=10^{-3}$ &      $\eta=4.8$ &    $\eta=10^{-3}$ \\
\midrule
$32$                &                    $0.0125$ &        $0.0375$ &       $0.00625$ &                                  $0.00035$ &       $0.42426$ &         $0.00009$ \\
$64$                &                     $0.025$ &         $0.075$ &        $0.0125$ &                                   $0.0005$ &           $0.6$ &         $0.00013$ \\
$128$               &                      $0.05$ &          $0.15$ &         $0.025$ &                                  $0.00071$ &       $0.84853$ &         $0.00018$ \\
$256$               &              $\mathbf{0.1}$ &  $\mathbf{0.3}$ &          $0.05$ &                           $\mathbf{0.001}$ &           $1.2$ &         $0.00025$ \\
$512$               &                       $0.2$ &           $0.6$ &  $\mathbf{0.1}$ &                                  $0.00141$ &       $1.69706$ &         $0.00035$ \\
$1024$              &                       $0.4$ &           $1.2$ &           $0.2$ &                                    $0.002$ &           $2.4$ &          $0.0005$ \\
$2048$              &                       $0.8$ &           $2.4$ &           $0.4$ &                                  $0.00283$ &       $3.39411$ &         $0.00071$ \\
$4096$              &                       $1.6$ &           $4.8$ &           $0.8$ &                                    $0.004$ &  $\mathbf{4.8}$ &  $\mathbf{0.001}$ \\
$8192$              &                       $3.2$ &           $9.6$ &           $1.6$ &                                  $0.00566$ &       $6.78823$ &         $0.00141$ \\
$16384$             &                       $6.4$ &          $19.2$ &           $3.2$ &                                    $0.008$ &           $9.6$ &           $0.002$ \\
$32768$             &                      $12.8$ &          $38.4$ &           $6.4$ &                                  $0.01131$ &      $13.57645$ &         $0.00283$ \\
$65536$             &                      $25.6$ &          $76.8$ &          $12.8$ &                                    $0.016$ &          $19.2$ &           $0.004$ \\
\bottomrule
\end{tabular}
\end{table}

\newcommand{\thirdmidrules}{
\cmidrule(r){2-4}
\cmidrule(r){5-8}
}

\begin{table}[t]
\centering
\caption{Scaled EMA momenta $\hat\rho=\rho^\kappa$ at different batch sizes $\hat B=\kappa B$ given reference momenta $\rho$ defined at batch size $B$. The reference values of each column are boldened. Again in the sequence learning setup, batch size should be appropriately replaced with a notion of sequence length.}
\small
\label{tab:common-hparams-momenta}
\begin{tabular}{clllllll}
\toprule
{} & \multicolumn{3}{c}{$B=256$} & \multicolumn{4}{c}{$B=4096$} \\ \thirdmidrules
Batch size $\hat B$&      $\rho=0.9999$ &      $\rho=0.999$ &      $\rho=0.99$ &      $\rho=0.996$ &      $\rho=0.992$ &      $\rho=0.99$ &      $\rho=0.97$ \\
\midrule
$32$                &          $0.99999$ &         $0.99987$ &        $0.99874$ &         $0.99997$ &         $0.99994$ &        $0.99992$ &        $0.99976$ \\
$64$                &          $0.99997$ &         $0.99975$ &        $0.99749$ &         $0.99994$ &         $0.99987$ &        $0.99984$ &        $0.99952$ \\
$128$               &          $0.99995$ &          $0.9995$ &        $0.99499$ &         $0.99987$ &         $0.99975$ &        $0.99969$ &        $0.99905$ \\
$256$               &  $\mathbf{0.9999}$ &  $\mathbf{0.999}$ &  $\mathbf{0.99}$ &         $0.99975$ &          $0.9995$ &        $0.99937$ &         $0.9981$ \\
$512$               &           $0.9998$ &           $0.998$ &         $0.9801$ &          $0.9995$ &           $0.999$ &        $0.99874$ &         $0.9962$ \\
$1024$              &           $0.9996$ &         $0.99601$ &         $0.9606$ &           $0.999$ &         $0.99799$ &        $0.99749$ &        $0.99241$ \\
$2048$              &           $0.9992$ &         $0.99203$ &        $0.92274$ &           $0.998$ &         $0.99599$ &        $0.99499$ &        $0.98489$ \\
$4096$              &           $0.9984$ &         $0.98412$ &        $0.85146$ &  $\mathbf{0.996}$ &  $\mathbf{0.992}$ &  $\mathbf{0.99}$ &  $\mathbf{0.97}$ \\
$8192$              &           $0.9968$ &         $0.96849$ &        $0.72498$ &         $0.99202$ &         $0.98406$ &         $0.9801$ &         $0.9409$ \\
$16384$             &          $0.99362$ &         $0.93798$ &         $0.5256$ &          $0.9841$ &         $0.96838$ &         $0.9606$ &        $0.88529$ \\
$32768$             &          $0.98728$ &          $0.8798$ &        $0.27625$ &         $0.96844$ &         $0.93776$ &        $0.92274$ &        $0.78374$ \\
$65536$             &          $0.97472$ &         $0.77405$ &        $0.07632$ &         $0.93788$ &          $0.8794$ &        $0.85146$ &        $0.61425$ \\
\bottomrule
\end{tabular}
\end{table}



