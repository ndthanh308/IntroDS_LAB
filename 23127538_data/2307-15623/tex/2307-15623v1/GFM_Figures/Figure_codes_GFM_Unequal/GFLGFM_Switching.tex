
\documentclass{standalone}

\usepackage{pgfplots}
\usetikzlibrary{pgfplots.groupplots}

% import style library
\usepackage{myStyleIEEE}

\begin{document}

%GFL-GFM-GFL
%Inertia H : 1-3-1
%Damping D: 3.45-3.6-3.45
%SG: 1200MW at 0.83
%IBR: 1000MW 700switchvs300noswitch & 200vs800


\begin{tikzpicture}
    \begin{groupplot}[
    group style={
    group name=my plots,
    group size=1 by 2,
    vertical sep=10pt
    },
    footnotesize,
    % xmin=0, xmax=25,
    scaled ticks=false,
    tick label style={/pgf/number format/fixed},
    colormap name=viridis,
    width=7.25cm,
    height=4cm,
    %trim axis left,
    %trim axis right,
    %xlabel style={yshift=0.75em},
    %ylabel style={yshift=-1.5em},
    xmin=-0, xmax=70,
    %ymin=0.9, ymax=1.1,
    xtick={0,10,20,30,40,50,60,70},
    %ytick={0.9,0.95,1,1.05,1.1},
    %legend pos=north east,
    xmajorgrids=true,
    ymajorgrids=true,
    legend cell align={left},
    grid style=dashed,
]

    \nextgroupplot[ylabel={$ f \,\mathrm{[Hz]}$},xticklabels=\empty, ymin=49.7, ymax=50.3, ytick={49.7,49.8,49.9,50,50.1,50.2,50.3},legend style={at={(axis cs:69.3,50.1)},anchor=south east,nodes={scale=0.75, transform shape}}]
    
    \addplot[
        smooth,
        thick,
        color=pRed,
        %fill=black, 
        %fill opacity=0.15
        ]
        table {GFM_Figures/data_GFM_Unequal/Switching_200vs800/f_ref.txt};    
        % \addlegendentry{\footnotesize Exact value}   
        \label{pgfplots:df}
        \addlegendentry{\footnotesize $ f^*$}  

    \addplot[
        smooth,
        thick,
        color=pBlue,
        %fill=black, 
        %fill opacity=0.15
        ]
        table {GFM_Figures/data_GFM_Unequal/Switching_700vs300/f.txt};    
        % \addlegendentry{\footnotesize Exact value}   
        \label{pgfplots:df}
         \addlegendentry{\footnotesize $ f$}  

    
    \addplot
           [ybar,
           dashed,
    bar width = 0.01,
    mark = none, 
    color=black, 
    fill=black, 
    fill opacity=0.3]
    file {GFM_Figures/data_GFM_Unequal/Switching_200vs800/10.txt};  

     \addplot
           [ybar,
           dashed,
    bar width = 0.01,
    mark = none, 
    color=black, 
    fill=black, 
    fill opacity=0.3]
    file {GFM_Figures/data_GFM_Unequal/Switching_200vs800/40.txt};   



\nextgroupplot[ylabel={$ f \,\mathrm{[Hz]}$},xtick={0,10,20,30,40,50,60,70,80}, xlabel = {$ \mathrm{Time}\,\mathrm{[s]}$}, ymin=49.7, ymax=50.3, ytick={49.7,49.8,49.9,50,50.1,50.2,50.3},legend style={at={(axis cs:69.3,50.1)},anchor=south east,nodes={scale=0.75, transform shape}}]


 \addplot[
        smooth,
        thick,
        color=pRed,
        %fill=black, 
        %fill opacity=0.15
        ]
        table {GFM_Figures/data_GFM_Unequal/Switching_200vs800/f_ref.txt} ;
        % \addlegendentry{\footnotesize Exact value}   
        \label{pgfplots:df}
        \addlegendentry{\footnotesize $ f^*$}  

    \addplot[
        smooth,
        thick,
        color=pBlue,
        %fill=black, 
        %fill opacity=0.15
        ]
        table {GFM_Figures/data_GFM_Unequal/Switching_200vs800/f.txt};    
        % \addlegendentry{\footnotesize Exact value}   
        \label{pgfplots:df}
         \addlegendentry{\footnotesize $ f$} 

    \addplot
           [ybar,
           dashed,
    bar width = 0.01,
    mark = none, 
    color=black, 
    fill=black, 
    fill opacity=0.3]
    file {GFM_Figures/data_GFM_Unequal/Switching_200vs800/10.txt};  

     \addplot
           [ybar,
           dashed,
    bar width = 0.01,
    mark = none, 
    color=black, 
    fill=black, 
    fill opacity=0.3]
    file {GFM_Figures/data_GFM_Unequal/Switching_200vs800/40.txt};   


        
    % \nextgroupplot[ylabel={$ \mathrm{Active}\,\mathrm{Power}\,\mathrm{[p.u.]}$},xtick={0,10,20,30,40,50,60,70,80}, ymin=0.9, ymax=1.05, ytick={0.9,0.95,1.0,1.05}, xlabel = {$ \mathrm{Time}\,\mathrm{[s]}$},legend style={at={(axis cs:79,0.905)},anchor=south east,nodes={scale=0.75, transform shape}}]
    
    % \addplot[
    %     smooth,
    %     thick,
    %     color=pRed,
    %     % dashed,
    %     %fill=black, 
    %     %fill opacity=0.15
    %     ]
    %      table {GFM_Figures/data_GFM_Unequal/GFLGFM_Switching_SG800MW/P_ref.txt};  
    %          \addlegendentry{\footnotesize $P^*$}  

    %     \addplot[
    %     smooth,
    %     thick,
    %     color=pBlue,
    %     %fill=black, 
    %     %fill opacity=0.15
    %     ]
    %     table {GFM_Figures/data_GFM_Unequal/GFLGFM_Switching_SG800MW/P.txt};  
    %     % \addlegendentry{\footnotesize Exact value}   
    % \addlegendentry{\footnotesize $P$}  

    \end{groupplot}
    
\end{tikzpicture} 

\end{document}