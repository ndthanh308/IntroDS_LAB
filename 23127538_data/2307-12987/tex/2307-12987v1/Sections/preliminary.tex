\section{Preliminary}\label{sec: preliminary}

\subsection{Limit Order Book}\label{sec: lob}

% Figure environment removed 

More than half of the markets in todayâ€™s competitive and relentlessly fast-paced financial world now
use a limit order book~(LOB) mechanism to facilitate trading~\cite{gould2013limit}.
As shown in Figure~\ref{fig: lob}, the limit order book works like a shelf placing and matching orders~(the blocks), where market participants interact.
In an orderbook, the tick size is the smallest permissible price interval between orders, i.e., the minimal interval between two grids on the shelf;
the lot size refers to the smallest amount of the asset that can be traded within an order book, i.e., the unit size of the block. 
The gap between the two best quotes (best bid and ask price) is called the spread, 
whose middle is mid-price.
More inclusive descriptions of LOB can be found in~\cite{gould2013limit}.

The three most basic operations that LOB provides for the participants are
limit order placement, market order placement, and order cancellation.
A limit order is mainly marked by five characteristics: order ID, timestamp, direction~(ask/bid), price, and size.
Placing a limit order to LOB can be an analogy to putting a colored block onto the shelf in Figure~\ref{fig: lob}.
The LOB will automatically match limit orders whose prices make a deal. 
The market order can be viewed as a special limit order, whose price is settled to be the best quote of its adversary side.
After order placement, the traders can cancel their orders that have not been executed by LOB.

LOB contains the very microscope market information of the order stream, i.e., the order time series arrival at the LOB.
Order stream over LOB often generates prominent features or microscopic dynamics which are called stylized facts,
such as volatility clustering and gain-loss asymmetry.
Readers interested may refer to~\cite{vyetrenko2020get} and references therein.

\subsection{Heterogeneous Multi-agent Simulation}\label{sec: ham_sys}

% Definition
Heterogeneous multi-agent simulation is a computational model which can simulate the
actions and interactions of individuals and organizations, in complex and realistic ways.
Even with simple agents, it can exhibit complex behavior patterns and
provide valuable information about the dynamics of the real-world system which they emulate~\cite{iori2012agent}. 
Such a simulation system usually consists of an order book and a group of agents.

We follow the taxonomy in~\cite{chiarella2009impact}
and introduce some classic types of agents:
\begin{itemize}
    % zero-intelligence agent
    \item The zero-intelligence agent, i.e., noise trader, usually makes orders whose price and size conform to some invariant statistical distributions. 
    This type of agent is commonly considered to model some irrationalities in the market.
    Also, the zero-intelligence agent contributes to some realistic market dynamics in the simulation system;
    % Chartist
    \item The chartist estimates the price of investment objects by historical data from the order book; thus, many machine learning-based agents belong to this group;
    % Fundamental value
    \item The value-based agent, or the fundamentalist, assesses an asset's value by a common belief among the markets;
    in the implementation, these agents usually estimate prices according to an exogenously provided value, which is named as the fundamental value.
\end{itemize}
% market maker
There are also many other types of agents, such as the market maker who makes orders around the mid-price to provide liquidity.
Overall, each type of agent reflects a part of real traders from reality, 
enabling the multi-agent simulation system to replay the markets.

Nevertheless, these agents need some configurations to trade.
For instance, the agents usually need to cancel their order if it is not executed after a period, i.e., investment horizon,
which requires calibration in advance. 
Also, the order price and size are sometimes correlated; 
this can be modeled by many utility functions, such as CARA~\cite{babcock1993risk} and CRRA~\cite{chiarella2006asset}, where we need to designate different risk aversions to different agents.
Besides, different types of agents may require distinct parameters. 
For example, the noise trader requires assumptions for its price distribution;
the chartist needs to settle its value assessment strategy on assets.

The heterogeneous multi-agent simulation system can be either continuous or discrete.
This mainly concerns the agents' order placement interval.
Since it is not the focus of the paper, we focus on discrete multi-agent simulation, 
where the orders are aggregated and executed by time slot.
But our approach makes no assumption on the discrete simulation, 
it can easily extend to continuous systems.


