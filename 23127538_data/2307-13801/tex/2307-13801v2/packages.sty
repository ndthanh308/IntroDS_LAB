\ProvidesPackage{packages}

%General Formatting
\usepackage{lmodern}
\usepackage{appendix}
%\setlength{\parindent}{+4ex} %Indentation of first ling of new paragraph
\renewcommand{\baselinestretch}{1}
\usepackage{etoolbox}


%Definition paper formatting
\usepackage{geometry}
\geometry{
	a4paper,
	total={161mm,237mm},
	left=25mm,
	top=30mm,
}
\oddsidemargin0cm
\evensidemargin0cm
\setcounter{secnumdepth}{2}     % depth of numbering of chapters
\setcounter{tocdepth}{2}        % depth of numbering in table of contents

\preto\section{\ifnum\value{section}=0\addtocontents{toc}{\vskip5pt}\fi} %distance table of contents appendix

\makeatletter
\renewcommand\subsection{\@startsection {subsection}{1}{\z@}%
                                   {-2.5ex \@plus -1ex \@minus -.2ex}%
                                   {1.3ex \@plus.2ex}%
                                   {\normalfont\small\bfseries}}
\makeatother

%Language
\usepackage[british,UKenglish]{babel}

%Table of Contents
\addto\captionsbritish{\renewcommand*\contentsname{Table of Contents}}
\addto\captionsUKenglish{\renewcommand*\contentsname{Table of Contents}}


%Addresses
\makeatletter
\newcommand{\addresseshere}{\enddoc@text\let\enddoc@text\relax}
\makeatother

%Scientific writing
%\usepackage{amsmath,bbm,physics}
\usepackage{amsthm}
\usepackage{dsfont}
\usepackage{latexsym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{braket}
\usepackage{thmtools}
\usepackage{amsmath,bbm}

%Enumeration
\usepackage{enumerate}
\usepackage{paralist}

%Tables and graphics
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{shapes.geometric, arrows, shadings, intersections, calc, plotmarks, arrows.meta, decorations.pathreplacing, patterns}					
\usepackage[framemethod=tikz]{mdframed}
\makeatletter
\pgfdeclarepatternformonly{my north east lines}{\pgfqpoint{-0pt}{-0pt}}{\pgfqpoint{3pt}{3pt}}{\pgfqpoint{3pt}{3pt}}{
        \pgfsetlinewidth{0.4pt}
        \pgfpathmoveto{\pgfqpoint{0pt}{0pt}}
        \pgfpathlineto{\pgfqpoint{3pt}{3pt}}
        \pgfpathmoveto{\pgfqpoint{2.8pt}{-.2pt}}
        \pgfpathlineto{\pgfqpoint{3.2pt}{.2pt}}
        \pgfpathmoveto{\pgfqpoint{-.2pt}{2.8pt}}
        \pgfpathlineto{\pgfqpoint{.2pt}{3.2pt}}
        \pgfusepath{stroke}}
\makeatother

\newdimen\LineSpace
\tikzset{
	line space/.code={\LineSpace=#1},
	line space=5pt
}

\tikzstyle{box} = [rectangle, rounded corners, minimum width=3cm, minimum height=1cm, align = center, draw=black]
\tikzstyle{arrow} = [thick,->,>=stealth]

%References

\usepackage{capt-of}
\usepackage{csquotes}
\usepackage{url}

\hypersetup{colorlinks=true,linkcolor=blue!70,}

\newcommand{\doi}[1]{\textsc{doi}: \href{http://dx.doi.org/#1}{\nolinkurl{#1}}}

\DeclareCiteCommand{\citetitle}
{\boolfalse{citetracker}\boolfalse{pagetracker}\usebibmacro{prenote}}
{\ifciteindex{\indexfield{indextitle}}{}\printtext[bibhyperref]{\printfield[citetitle]{labeltitle}}}
{\multicitedelim}{\usebibmacro{postnote}}

\DeclareCiteCommand{\citeauthor}[\hypersetup{citecolor=black}]
{\boolfalse{citetracker}\boolfalse{pagetracker}\usebibmacro{prenote}}
{\ifciteindex{\indexnames{labelname}}{}\printtext[bibhyperref]{\printnames{labelname}}}
{\multicitedelim}{\usebibmacro{postnote}}

% In-Text citation
\DeclareRobustCommand{\abbrevcrefs}{%
	\crefname{figure}{Fig.}{Figs.}%
	\crefname{section}{Sec.}{Secs.}%
	\crefname{conj}{Conj.}{Conjs.}%
	\crefname{thm}{Thm.}{Thms.}%
	\crefname{lem}{Lem.}{Lems.}%
	\crefname{cor}{Cor.}{Cors.}%
	\crefname{prop}{Prop.}{Props.}%
	\crefname{defi}{Def.}{Defs.}%
	\crefname{equation}{Eq.}{Eqs.}%
	\crefname{ex}{Ex.}{Exs.}%
	\crefname{rmk*}{Rmk.}{Rmks.}%
	\crefname{rmk}{Rmk.}{Rmks.}%
	\crefname{appendix}{Appx.}{Appxs.}%
	\crefname{section}{Sec.}{Secs.}}
\DeclareRobustCommand{\Caref}[1]{{\abbrevcrefs\cref{#1}}}

%Theorem/ proposition/ lemma/ definition style

\newtheoremstyle{myplain}{5pt}{5pt}{\itshape}{0pt}{\bfseries}{}{5pt plus 1pt minus 1pt}{}
\newtheoremstyle{mydefinition}{5pt}{5pt}{\normalfont}{0pt}{\bfseries}{}{5pt plus 1pt minus 1pt}{}

\theoremstyle{myplain}
\newtheorem{thm}{Theorem}[section]
\newtheorem*{thm*}{Theorem}
\newtheorem{conj}[thm]{Conjecture}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\newtheorem*{prop*}{Proposition}
\newtheorem{assum}{Assumption}
\newtheorem{assumst}{Assumption}

% Redefine \theassumst to display the counter followed by *
\renewcommand\theassumst{\arabic{assumst}*}


\theoremstyle{mydefinition}
\newtheorem{defi}[thm]{Definition}

\theoremstyle{remark}
\newtheorem{ex}{Example}%[section]
\newtheorem{rmk}[ex]{Remark}
\newtheorem*{rmk*}{Remark}