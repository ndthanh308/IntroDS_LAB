\begin{algorithm}[tp]
\caption{Secure $\mathsf{LayerNorm}$ Protocol $\Pi_{\mathsf{LayerNorm}}$}\label{protocol:layernorm}
\begin{algorithmic}[1]
\REQUIRE
$P_i$ holds the 2-out-of-3 replicate secret share $\share{\x}_i$ for $i\in \{0,1,2\}$, and $\x$ is a vector of size $n$. 
\ENSURE
$P_i$ gets the 2-out-of-3 replicate secret share $\share{\y}_i$ for $i\in \{0,1,2\}$, where $\y=\mathsf{LayerNorm}(\x)$.

\STATE $P_0$, $P_1$, and $P_2$ compute $\share{\mu} = \frac{1}{n}\cdot \sum_{i=1}^n\share{\x[i]}$ and $\share{\sigma} = \sum_{i=1}^n \Pi_{\mathsf{Square}}(\share{\x} - \share{\mu})[i]$.

\STATE Parties jointly compute $\share{\sigma^{-1/2}} = \Pi_{\mathsf{rSqrt}}(\share{\sigma})$.

\STATE Parties jointly compute $\share{\mathbf{c}} = \Pi_{\mathsf{Mul}}((\share{\x} - \share{\mu}), \share{\sigma^{-1/2}})$

\RETURN $\share{\y} = \Pi_{\mathsf{Mul}}(\share{\gamma}, \share{\mathbf{c}}) + \share{\beta}$.

\end{algorithmic}
\end{algorithm}