\subsection{Protocol for Secure LayerNorm}\label{sec:seclayernorm}
Recall that given a vector $\x$ of size $n$, $\layernorm(\x)[i] =  \gamma \cdot \frac{\x[i]-\mu}{\sqrt{\sigma}} + \beta$, where $(\gamma, \beta)$ are trained parameters, $\mu = \frac{\sum_{i=1}^n \x[i]}{n}$, and $\sigma = \sum_{i=1}^n (\x[i] - \mu)^2$. In MPC, the key challenge is the evaluation of the divide-square-root $\frac{\x[i]-\mu}{\sqrt{\sigma}}$ formula. To securely evaluate this formula, CrypTen sequentially executes the MPC protocols of square-root, reciprocal, and multiplication. However, we observe that $\frac{\x[i]-\mu}{\sqrt{\sigma}}$ is equal to $(\x[i]-\mu)\cdot \sigma^{-1/2}$. And in the MPC side, the costs of computing the inverse-square-root $\sigma^{-1/2}$ is similar to that of the square-root operation~\citep{rSqrt}. Besides, inspired by the second optimization of \S~\ref{sec:secureatten}, we can first compute $\sigma^{-1/2}$ and then $\mathsf{Broadcast}(\sigma^{-1/2})$ to support fast and secure $\layernorm(\x)$. And our formal protocol $\Pi_{\layernorm}$ is shown in algorithm~\ref{protocol:layernorm}.

\input{Protocols/layernormprotocol}