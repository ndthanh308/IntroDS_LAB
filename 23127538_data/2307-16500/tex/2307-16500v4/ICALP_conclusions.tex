\section{Conclusions}

We have proven that for a given macro tree transducer (with look-ahead) it
is decidable whether or not it has linear height increase (LHI) and,
whether or not it has linear size-to-height increase (LSHI).
Both decision procedures rely on a novel normal form that is called
``depth-proper'' normal form. Roughly speaking the normal form requires
that each parameter of every state of the transducer appears at
arbitrary large depths in output trees generated by that state (and for a given
look-ahead state). 

One major open problem in the field is to prove a Conjecture of Joost Engelfriet
(from around the year 2000), that the translation of an mttr can be defined by
an attributed tree transducer (atts) if and only if the translation 
has ``linear size to number of distinct output subtrees'' increase.
Note that deciding such property is out of reach (it is at least as difficult as deciding
equivalence of atts). To prove this characterization, different loops need to
be considered which produce unbounded numbers of states in (partial) output trees.
We believe that the depth normal form will be instrumental in reducing the number of
different such loops that must be considered and therefore will be of great help
in proving the conjecture.

\iffalse
Our construction
of the normal form removes parameters that only appear at bounded depth. 
Once in depth-normal form, we can reduce the check for LHI and LSHI
to the finiteness of ranges of mtts.

Both LHI and LSHI are natural properties and have several useful applications.
For instance, if an mtt does not have LHI, then we know that it cannot be realized
by a top-down or a bottom-up tree transducer. And, if an mtt does not have LSHI, then
we know that it cannot be realized by any attributed tree transducers.
%
%The most prevailing open problem is to solve the conjecture (see Introduction) that
%the translation of an mtt can be realized by an attributed tree transducer if and only
%if the translation is of LSOI (linear size-to-number-of-distinct-output-subtrees).
%In this paper we merely show that \emph{deciding} if an mtt is of LSOI is as
%hard as deciding equivalence of attributed transducers (a long standing difficult open problem).
%We believe that the depth-proper normal form will be helpful in solving the conjecture.
%Intuitively, loops need to be considered only if they produce an arbitrary number of copies of
%states with parameters. In these loops we can exclude certain state nestings, due to
%the normal form.
%
An interesting open problem is the question whether or not the mtt hierarchy
(generated by sequential compositions of mtts) collapses for LSHI or for LHI.
By this we mean (in the case of LSHI), whether or not there exists some number $n$ such that
$
\cup \{ \text{MTT}^k \mid k\geq 1 \} \cap \text{LSHI} \subseteq \text{MTT}^n.
$
Note that for linear size increase, the hierarchy collapses~\cite{DBLP:journals/acta/EngelfrietIM21}
to level one, i.e., $n=1$.
It can be shown by an easy counting argument (similar as when proving that sequential composition
of mttrs gives rise to a hierarchy that is strict at each level) that no such $n$ exists:
consider compositions of the translation $\tau$ that takes a binary
tree $s$ as input and outputs a full binary tree of height $|s|$.
Then $\tau_k\in
\text{MTT}\cap\text{LSHI})^{k+1} - \text{MTT}\cap\text{LSHI})^k$.
Thus, the MTT hierarchy restricted to linear size-to-height increase remains to
be strict at each level.

The corresponding question for LHI is open, i.e., we do not know whether or not
the MTT hieararchy restricted to linear height increase is strict.
We do have a candidate translation that would show (for level two) both, that a two-fold composition of
mtts of LHI can do strictly more than a single mtt, and, that two-fold compositions
that are of LHI are strictly more than a single mtt:
input trees are monadic trees of the form $a^n(e)$ and output trees are full binary
trees of height $n$, at the leaves of which are monadic trees that represent
the Dewey paths of those ``leaves'' of the binary tree.
E.g.
$a(a(e))$ is translated to
$
f(f(1(1(e)), 1(2(e))), f(2(1(e)), 2(2(e)))).
$
Note that if we output \emph{reverse} such Dewey paths, then the translation
indeed can be realized by a single mtt (see, e.g., Fig.~6.2 in~\cite{DBLP:series/eatcs/FulopV98}).
Thus, the second transducer of the composition reverses the reverse Dewey paths.
\fi
