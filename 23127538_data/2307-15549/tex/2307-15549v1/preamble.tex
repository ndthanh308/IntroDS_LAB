%!TEX root = main.tex
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:

% \usepackage{showframe} % debug layout


%
% must haves
%
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{mathtools}
\usepackage{xcolor}

\usepackage{halloweenmath}
%
% useful
%
\usepackage{xspace}
\usepackage{paralist}
\usepackage{xparse}
\usepackage[normalem]{ulem} % TODO: remove
% \usepackage{sty/pftools}
% \usepackage{fontawesome}
% \usepackage[normalem]{ulem}
% \usepackage{wrapfig}
% \usepackage{enumitem}
\usepackage{subcaption}

% \usepackage{stmaryrd}
% \usepackage{wasysym}
% \usepackage{mathabx}


%
% sectioning
%
\newcommand{\smartparagraph}[1]{\subsubsection*{#1}}
% \newcommand{\smartparagraph}[1]{\smallskip\noindent{\sffamily\emph{#1.}}\ }
\newcommand{\presection}{\clearpage}


%
% colors
%
\definecolor{colorCodeComment}{RGB}{80,170,0}
\definecolor{colorHighlight}{RGB}{40,40,220}
\definecolor{colorAnnotation}{RGB}{0,127,127}
\definecolor{colorContext}{RGB}{40,40,220}
\definecolor{backgroundFootprint}{RGB}{255,252,222}
\definecolor{backgroundContext}{RGB}{236,236,236}
\definecolor{colorFlow}{RGB}{196, 230, 235}
\definecolor{colorFlowChange}{RGB}{245,217,226}
\definecolor{colorGhost}{RGB}{132,69,32}

\newcommand{\colorbg}[2]{\smash{\setlength\fboxsep{0pt}\colorbox{#1}{\strut\hspace{1.5pt}#2\hspace{1.5pt}}}}


%
% author notes
%
% \newcommand{\rfm}[1]{}%{\textnormal{\textcolor{blue}{RFM: #1}}}
% \newcommand{\tw}[1]{}%{\textnormal{\textcolor{purple}{TW: #1}}}
% \newcommand{\sw}[1]{}%{\textnormal{\textcolor{red}{SW: #1}}}
% \newcommand{\rfmfootnote}[1]{\footnote{\rfm{#1}}}
% \newcommand{\twfootnote}[1]{\footnote{\tw{#1}}}
% \newcommand{\swfootnote}[1]{\footnote{\sw{#1}}}


%
% rules
%
\usepackage{mathpartir}
\newcounter{inferencerule}
\newcommand{\rulelabel}[2]{%
  % https://tex.stackexchange.com/questions/200797/using-cref-and-custom-labels-for-inference-rule-names
  \def\theinferencerule{#2}%
  \refstepcounter{inferencerule}%
  \label[rule]{#1}%
}
\newcommand{\mkrulelabel}[1]{\textsc{(#1)}\rulelabel{rule:#1}{\textsc{(#1)}}}
\newcommand{\mkrulelabellab}[2]{\textsc{(#2)}\rulelabel{rule:#1}{\textsc{(#2)}}}
\newcommand{\inferH}[3]{\inferrule[\mkrulelabel{#1}]{#2}{#3}}
\newcommand{\inferHlab}[4]{\inferrule[\mkrulelabellab{#1}{#2}]{#3}{#4}}

\newcommand{\ruleref}[1]{\ref{rule:#1}}
% \makeatletter
% \DeclareRobustCommand{\rulecref}[1]{\begingroup\@cref@compressfalse\cref{#1}\endgroup}
% \DeclareRobustCommand{\ruleCref}[1]{\begingroup\@cref@compressfalse\Cref{#1}\endgroup}
% \makeatother


%
% compact arrow with label on top
%
\usepackage{stackengine}
\stackMath
\newcommand\xxrightarrow[1]{\raisebox{-.85pt}{\ensuremath{\smash{\mathrel{%
  \setbox2=\hbox{\stackon{\scriptstyle#1}{\scriptstyle#1}}%
  \stackon[-4.0pt]{%
    \xrightarrow{\makebox[\dimexpr\wd2\relax]{}}%
  }{%
   \scriptstyle#1\,%
  }%
}}}}}


%
% code / listings / proofs
%
\usepackage{listings}
\usepackage{upquote} % for underline
\lstdefinelanguage{SPL}{
  morekeywords={method,struct,if,else,returns,procedure,def,requires,ensures,:=,var,let,
    new,old,elif,free,assume,assert,choose,havoc,
    predicate,function,invariant,while,return,atomic, split, type, field, result,
    define, datatype, domain, axiom, val, lock, unlock, not, restart, private, public, match, with, case},
  deletekeywords={union,int},
  % lineskip=-0.1em,
  numbers=left,
  xleftmargin=2em,
  escapeinside={@}{@},
  numberstyle=\tiny,
  basicstyle=\footnotesize\ttfamily,
  columns=flexible,
  morecomment=[s][\color{colorCodeComment}]{/*}{*/},
  morecomment=[l][\color{colorCodeComment}]{//},
  moredelim=[is][\color{colorGhost}]{`}{'},
  moredelim=[is][\underline]{^}{^},
  mathescape=true,
  aboveskip=0pt,
  belowskip=5pt,
  firstnumber=last,
}
\lstdefinestyle{codeDisplay}{
  language=SPL,
}
\lstset{style=codeDisplay}
\usepackage{relsize}
\lstdefinestyle{codeInline}{
  basicstyle=\relscale{.9}\ttfamily,
  aboveskip=\smallskipamount,
  keywords={},
}

\newcommand{\code}[2][]{\lstinline[style=codeInline,#1]!#2!}
\newcommand{\mymathtt}[1]{\text{\relscale{.9}\ttfamily#1}}
\newcommand{\mcode}[1]{\ensuremath{\mymathtt{#1}}}

\newcommand{\annot}[1]{{\color{colorAnnotation}\bigl\{\,#1\,\bigr\}}}
\newcommand{\annotml}[1]{{\addtolength{\jot}{-2.5pt}\color{colorAnnotation}\left\{\,\begin{aligned}#1\end{aligned}\,\right\}}}
\newcommand{\ctx}[1]{{\color{colorContext}\bigl\{\,#1\,\bigr\}}}
\newcommand{\ctxml}[1]{{\addtolength{\jot}{-2.5pt}\color{colorContext}\left\{\,\begin{aligned}#1\end{aligned}\,\right\}}}

% \newcommand{\annotctx}[2]{{\color{colorAnnotation}\bigl\{\,#1\,\bigm|\,#2\,\bigr\}}}
% \newcommand{\annotctxml}[2]{{\addtolength{\jot}{-2.5pt}\color{colorAnnotation}\left\{\,\begin{aligned}#1\end{aligned}\;\middle|\;\begin{aligned}#2\end{aligned}\,\right\}}}
% \newcommand{\annotctxml}[2]{{\color{colorAnnotation}\left\{\,\begin{aligned}[t]#1\end{aligned}\,\middle|\,\begin{aligned}[t]#2\end{aligned}\,\right\}}}


%
% references
%
\usepackage[capitalise]{cleveref}
\setcounter{secnumdepth}{3}
\crefformat{section}{\S#2#1#3} % ยง for sections
\crefmultiformat{section}{\S#2#1#3}{ and~\S#2#1#3}{, \S#2#1#3}{, and~\S#2#1#3} % ยง section ranges 
\crefrangeformat{section}{\S#3#1#4 to~\S#5#2#6} % ยง section ranges
\providecommand{\creflastconjunction}{, and\nobreakspace} % oxford comma

\crefname{rule}{rule}{rules}
\crefname{prop}{property}{properties}

% making labels with arbitrary ref text, see: https://tex.stackexchange.com/a/160035
\makeatletter
\newcommand{\customlabel}[2]{%
   \protected@write \@auxout {}{\string \newlabel {#1}{{#2}{\thepage}{#2}{#1}{}} }%
   \hypertarget{#1}{}
}
\makeatother


%
% tikz
%
\usepackage{tikz}
\usetikzlibrary{arrows,positioning,backgrounds,patterns,snakes,shapes,tikzmark,calc}

\tikzset{%
  % array/.style={matrix of nodes,nodes={draw, minimum size=5mm, anchor=center},column sep=-\pgflinewidth, row sep=-\pgflinewidth, nodes in empty cells,anchor=center},
  % ptr/.style={*->, shorten <=-(1.8pt+1.4\pgflinewidth)},
  % edge/.style={->, thick},
  % dedge/.style={<->, dashed},
  %
  treeelem/.style = {
    inner sep=0pt, text centered,
    thick, draw=black,
    scale=.8,
    anchor=north,
  },
  treenode/.style = {
    treeelem,
    circle, minimum width=6mm,
  },
  subtree/.style = {
    treeelem,
    % regular polygon, regular polygon sides=3, minimum width=10mm, minimum height=15mm,
    isosceles triangle,  isosceles triangle stretches,
    shape border rotate=90, minimum width=8mm, minimum height=9mm,
  },
  treeptr/.style = {
    ->, >=stealth,
    line width=1.2pt,
    child anchor=north,
  },
  inflow/.style = {
    ->, >=stealth,
    line width=1.2pt,
    child anchor=north,
    dotted,draw=colorFlow!350,
  },
  flow/.style = {
    fill=colorFlow,
    draw=none,
    font={\footnotesize},
    inner sep=1.5pt,
  },
  flowch/.style = {
    flow,fill=colorFlowChange,
  },
  footprint/.style = {
    draw=none,
    fill=backgroundFootprint,
  },
  context/.style = {
    draw=none,
    fill=backgroundContext,
  },
  stackptr/.style = {
    ->, >=stealth,
    line width=0.5pt,
    child anchor=north,
    draw=black,
  },
  % listptr/.style = {
  %   line width=1pt, densely dashed, draw=colorList, -, >=stealth
  % },
  %   flattrees/.style = { trees, level/.style={sibling distance = 1.5cm, level distance = .7cm} },
  stackVar/.style={circle, fill=none, inner sep=0pt, minimum size=6mm, font=\normalsize, outer sep=-4pt},
  interval/.style = {above,rotate=42,anchor=south west,inner sep=0pt,font=\footnotesize},
  hinterval/.style = {font=\footnotesize},
}
\makeatletter
\newcommand{\gettikzxy}[3]{%
  \tikz@scan@one@point\pgfutil@firstofone#1\relax
  \edef#2{\the\pgf@x}%
  \edef#3{\the\pgf@y}%
}
\makeatother

\definecolor{colorMyGreen}{RGB}{80,170,0}
\definecolor{colorMyRed}{RGB}{180,20,20}
\definecolor{colorMyBlue}{RGB}{40,40,220}
\definecolor{colorMyPink}{RGB}{220,40,220}


%
% \Diamonddot
%
\DeclareFontFamily{U}{MnSymbolC}{}
\DeclareSymbolFont{MnSyC}{U}{MnSymbolC}{m}{n}
\DeclareMathSymbol{\Diamonddot}{\mathbin}{MnSyC}{"7E}
\DeclareFontShape{U}{MnSymbolC}{m}{n}{
    <-6>  MnSymbolC5
   <6-7>  MnSymbolC6
   <7-8>  MnSymbolC7
   <8-9>  MnSymbolC8
   <9-10> MnSymbolC9
  <10-12> MnSymbolC10
  <12->   MnSymbolC12}{}


%
% spacing
%
\def\logicspacing{\mskip 5.0mu plus 5.0mu}
\def\prallspacing{\mskip 2mu plus 2mu minus 3mu}
\newcommand{\prall}[1]{{\prallspacing#1\prallspacing}}


%============================================================================ %
%============================================================================ %
%============================================================================ %

%
% custom math operators
%
\newcommand{\mkmathrel}[2]{\newcommand#1{\mathrel{#2}}} % Args: macro, symbol
\newcommand{\defineCallableOperator}[2]{% Args: name, symbol
  \expandafter\newcommand\csname#1\endcsname{\operatorname{#2}}
  \expandafter\newcommand\csname#1of\endcsname[1]{\csname#1\endcsname(##1)}
  \expandafter\newcommand\csname#1Of\endcsname[1]{\csname#1\endcsname\left(##1\right)}
  \expandafter\newcommand\csname#1OF\endcsname[1]{\csname#1\endcsname\bigl(##1\bigr)}
}
\newcommand{\defineCallableOperatorBinary}[2]{% Args: name, symbol
  \expandafter\newcommand\csname#1\endcsname{\operatorname{#2}}
  \expandafter\newcommand\csname#1of\endcsname[2]{\csname#1\endcsname(##1,##2)}
  \expandafter\newcommand\csname#1Of\endcsname[2]{\csname#1\endcsname\left(##1,##2\right)}
  \expandafter\newcommand\csname#1OF\endcsname[2]{\csname#1\endcsname\bigl(##1,##2\bigr)}
}


%
% basic math
%
\newcommand{\nat}{\mathbb{N}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\bool}{\mathbb{B}}
\newcommand{\emp}{\mathsf{emp}}
\newcommand{\nullptr}{\mymathtt{null}}

\newcommand{\dontcare}{\bullet} % \_ vs - vs \bullet
\newcommand{\true}{\mathit{true}}
\newcommand{\false}{\mathit{false}}
\renewcommand{\emptyset}{\varnothing}
\newcommand{\aval}{v}

\newcommand{\set}[1]{\{\,#1\,\}}
\newcommand{\setcompact}[1]{\{#1\}}
\newcommand{\setc}[1]{\setcompact{#1}}
\newcommand{\setcond}[2]{\set{#1\:\mid\:#2}}

\mkmathrel{\defeq}{\triangleq} % :=
\mkmathrel{\eqdef}{\triangleq} % =:
\mkmathrel{\defebnf}{\Coloneqq} % ::=
\mkmathrel{\defiff}{\mathrel{\vcentcolon\Leftrightarrow}} % :<=>
\mkmathrel{\defifff}{\mathrel{\vcentcolon\!\iff}} % :<=>
\mkmathrel{\bnf}{\ \mid\ } % |
\newcommand{\ite}[3]{#1\:?\;#2\::\:#3}

\newcommand{\makeSpacedRel}[2]{% Args: macro, symbol
  \newcommand#1{{}\logicspacing{}#2{}\logicspacing{}}
}
\makeSpacedRel{\DEFEQ}{\defeq}
\makeSpacedRel{\EQDEF}{\eqdef}
\makeSpacedRel{\DEFEBNF}{\defebnf}
\makeSpacedRel{\DEFIFF}{\defiff}
\makeSpacedRel{\BNF}{\bnf}
\makeSpacedRel{\MSTAR}{\mstar}
\makeSpacedRel{\AND}{\wedge}
\makeSpacedRel{\OR}{\vee}

\newcommand{\powerset}[1]{\mathbb{P}(#1)}
\newcommand{\vecof}[1]{\overline{#1}}
% \newcommand{\cardof}[1]{|#1|}
% \newcommand{\domof}[1]{\mathit{dom}(#1)}
% \newcommand{\rangeof}[1]{\mathit{range}(#1)}
% \newcommand{\project}[2]{#1|_{#2}}


%
% SL operators
%
\mkmathrel{\mstar}{\mathrel{*}}
\mkmathrel{\sepimp}{{\relbar}\mkern-8.25mu{\relbar}\mkern-2.5mu{\scalebox{.507}{\raisebox{2.5pt}{\ensuremath{\cdot}}}}\mkern-4.68mu{\mstar}} % \newcommand{\sepimp}{\mathrel{-\!\!*}}
\mkmathrel{\septract}{{\relbar}\mkern-2.5mu{\circledast}}
\usepackage{scalerel}
\DeclareMathOperator*{\bigmstar}{\scalerel*{\ast}{\sum}}


%
% states, predicates
%
\newcommand{\setstates}{\Sigma}
\newcommand{\munit}{1}
\mkmathrel{\mstardef}{\#}
\newcommand{\cc}{\mathop{\cdot}}

\newcommand{\astate}{\mathsf{s}}
\newcommand{\astatep}{\mathsf{t}}
\newcommand{\astateseq}{\sigma}
\newcommand{\astateseqp}{\tau}

% \newcommand{\apred}{\mathit{p}}
% \newcommand{\apredp}{\mathit{q}}
% \newcommand{\apredpp}{\mathit{r}}
% \newcommand{\apredppp}{\mathit{o}}
\newcommand{\apred}{\mathit{a}}
\newcommand{\apredp}{\mathit{b}}
\newcommand{\apredpp}{\mathit{c}}
\newcommand{\apredppp}{\mathit{d}}

\newcommand{\acpred}{\mathit{a}}
\newcommand{\acpredp}{\mathit{b}}
\newcommand{\acpredpp}{\mathit{c}}


%
% commands
%
\newcommand{\acom}{\mymathtt{com}}
\newcommand{\astmt}{\mymathtt{st}}
\newcommand{\cskip}{\mymathtt{skip}}
\newcommand{\seqof}[2]{#1\mathop{;}#2}
\newcommand{\choiceof}[2]{#1+#2}
\newcommand{\loopof}[1]{{#1}^{*}}

\newcommand{\semCom}[1]{\llbracket{#1}\rrbracket}
\newcommand{\semComOf}[2]{\semCom{#1}(#2)}
\newcommand{\semcom}[1]{\semCom{#1}}
\newcommand{\semcomof}[2]{\semCom{#1}(#2)}
\newcommand{\sem}[1]{\semCom{#1}}
\newcommand{\semOf}[2]{\sem{#1}(#2)}
\newcommand{\semof}[2]{\sem{#1}(#2)}


%
% our SL extensions
%
\defineCallableOperator{now}{\_}
\defineCallableOperator{past}{\Diamonddot}
\defineCallableOperator{weakpast}{{\_\!\!\Diamonddot}}

\newcommand{\FUT}[3]{\langle\, #1 \,\rangle \,#2\, \langle\, #3 \,\rangle}
\newcommand{\FUTB}[3]{\left\langle\, #1 \,\right\rangle \,#2\, \left\langle\, #3 \,\right\rangle}
\newcommand{\FUTBB}[3]{\bigl\langle\, #1 \,\bigr\rangle \,#2\, \bigl\langle\, #3 \,\bigr\rangle}

\newcommand{\aspec}{\Psi}
\DeclareDocumentCommand\anobl{ g }{\mathsf{OBL}_{\IfValueT{#1}{#1}}}
\DeclareDocumentCommand\aful{ m g }{\mathsf{FUL}_{#1\IfValueT{#2}{,#2}}}
% \DeclareDocumentCommand\await{ g }{\mathsf{AWT}_{\IfValueT{#1}{#1}}}


%
% program logic
%
\newcommand{\hoareof}[3]{\set{#1}\:#2\:\set{#3}}
\newcommand{\highlight}[1]{#1}
\newcommand{\choareof}[4]{#1\; {\mid}\; \hoareof{#2}{#3}{#4}}
\newcommand{\chhoareof}[4]{#1\; \highlight{\mid}\; \hoareof{#2}{#3}{#4}}
\newcommand{\acontext}{\mathit{c}}

\newcommand{\theInterference}{\mathbb{I}}
\newcommand{\thePredicates}{\mathbb{P}}
\newcommand{\theHyp}{\mathbb{H}}

\newcommand{\isInterferenceFreeOf}[2][\theInterference]{\boxast_{#1}\,#2}
\newcommand{\isInterferenceFreeof}[2][\theInterference]{\boxast_{#1}\,#2}


%
% linearizability
%
\newcommand{\semcalc}{\Vdash}
\newcommand{\semcalclin}{\semcalc_\mathit{lin}}
\newcommand{\decori}[3]{#1\times(#2\rightsquigarrow#3)}
% \newcommand{\decorc}[3]{#1\times(#2\rightsquigarrow#3)}

\newcommand{\asspec}{\Psi}
\newcommand{\asspecp}{\Psi'}
\defineCallableOperator{acss}{\mathsf{CSS}}
\defineCallableOperator{ajob}{\mathsf{JOB}}
\defineCallableOperatorBinary{acssp}{\overline{\mathsf{CSS}}}
\newcommand{\acssup}{\mathsf{UP}}
\newcommand{\abskeyset}{\mathcal{K}}
\newcommand{\abscontent}{\mathcal{C}}
\newcommand{\abscontentp}{\mathcal{C}'}
\newcommand{\absjob}{\mathcal{J}}
\newcommand{\absjobp}{\mathcal{J}'}
\newcommand{\absop}{\mathit{op}}


\newcommand{\ffppredof}[3]{\mathit{ffp}(#1, #2, #3)}
\newcommand{\restrictto}[2]{#1|_{#2}}
\newcommand{\domain}{D}
\newcommand{\contfunof}[1]{\mathit{ContFun}(#1)}
\newcommand{\monfunof}[1]{\mathit{MonFun}(#1)}
\newcommand{\distfunof}[1]{\mathit{DistFun}(#1)}
\newcommand{\distdecfunof}[1]{\mathit{DistDecFun}(#1)}
\newcommand{\achain}{K}
\newcommand{\achainp}{L}
\newcommand{\ahaprob}{H}
\newcommand{\setvarsp}{Y}
\newcommand{\setvarspp}{Z}
\newcommand{\setineqs}{INEQS}
\newcommand{\firstof}[1]{\mathit{first}(#1)}
\newcommand{\lastof}[1]{\mathit{last}(#1)}
\newcommand{\setpathof}[3]{\mathit{Paths}(#1, #2, #3)}
\newcommand{\setpathp}{\mathit{Q}}
\newcommand{\setpath}{\mathit{P}}
\newcommand{\setsimplepathof}[3]{\mathit{SimplePaths}(#1, #2, #3)}
\newcommand{\apath}{p}
\newcommand{\apathp}{q}
\newcommand{\ahvar}{x}
\newcommand{\ahvarp}{y}
\newcommand{\ahvarpp}{z}
\newcommand{\adfval}{d}
\newcommand{\val}{\sigma}
\newcommand{\valof}[1]{\val(#1)}
\newcommand{\atfun}{f}
\newcommand{\atfunof}[1]{\atfun(#1)}
\newcommand{\tfunof}[1]{\mathit{tf}(#1)}
\newcommand{\aninflow}{\inflow}
\newcommand{\aninflowof}[1]{\aninflow(#1)}
\newcommand{\inflowat}[1]{\inflow(#1)}
\newcommand{\outof}[2]{\mathit{odif}_{#1, #2}}
\newcommand{\outpof}[2]{\mathit{odif}^{\#}(#1, #2)}
\newcommand{\intof}[1]{\mathit{int}(#1)}
\newcommand{\tfailof}[3]{\mathit{tfail}_{#1, #2}(#3)}
%\newcommand{\tfailpof}[3]{\mathit{tfail^{\#}}(#1, #2, #3)}
\newcommand{\succnodesof}[2]{\mathit{succ}_{#1}(#2)}
\newcommand{\extend}[2]{\mathit{ext}_{#1, #2}}
%\newcommand{\extendp}[2]{\mathit{ext^{\#}}(#1, #2)}
\newcommand{\extendof}[3]{\extend{#1}{#2}(#3)}
%\newcommand{\extendpof}[3]{\mathit{ext^{\#}}(#1, #2, #3)}
\newcommand{\afootprint}{\mathit{F}}
\newcommand{\lffp}[2]{\mathit{lffp}(#1, #2)}
\newcommand{\lffpp}[2]{\mathit{lffp^{\#}}(#1, #2)}
\newcommand{\rsol}[2]{\mathit{rsol}(#1, #2)}
\newcommand{\setflowfootprintof}[2]{\mathit{FFP}(#1, #2)}
\newcommand{\atf}{\mathit{tf}}
\DeclareMathOperator{\ctxequiv}{\ =_{\mathit{ctx}}\ }
\newcommand{\pc}{\cdot}

\newcommand{\amonoid}{\mathbb{M}}
\newcommand{\monadd}{+}
\newcommand{\monbigadd}{\sum}
\newcommand{\monunit}{0}
\newcommand{\amonval}{\mathit{m}}
\newcommand{\amonvalp}{\mathit{n}}
\newcommand{\amonvalpp}{\mathit{o}}
\newcommand{\statemultdef}{\mathop{\#}}
\newcommand{\statemult}{\mathop{*}}

\newcommand{\setnodes}{\mathit{X}}
\newcommand{\setnodesp}{\mathit{Y}}
\newcommand{\setnodespp}{\mathit{Z}}
\newcommand{\anode}{\mathit{x}}
\newcommand{\anodep}{\mathit{y}}
\newcommand{\anodepp}{\mathit{z}}
\newcommand{\anodeppp}{\mathit{u}}
\newcommand{\pfun}{\rightharpoondown}
\newcommand{\edges}{\mathit{E}}
\newcommand{\edgesof}[1]{\edges(#1)}
\newcommand{\edgesat}[2]{\edges_{(#1, #2)}}
\newcommand{\edgesatof}[3]{\edges_{(#1, #2)}(#3)}
\newcommand{\rhs}{\mathit{rhs}}
\newcommand{\rhsof}[1]{\rhs(#1)}
\newcommand{\rhsatof}[2]{\rhs_{#1}(#2)}
\newcommand{\aflowconstraint}{\mathit{h}}
\newcommand{\setflowconstraints}{\mathit{FG}}
\newcommand{\fval}{\mathit{flow}}
\newcommand{\fvalof}[1]{\fval(#1)}
\newcommand{\inflow}{\mathit{in}}
\newcommand{\inflowof}[2][]{\inflow_{#1}(#2)}
\newcommand{\outflow}{\mathit{out}}
\newcommand{\outflowof}[2][]{\outflow_{#1}(#2)}
\newcommand{\interface}{\mathit{interf}}
\newcommand{\interfaceof}[1]{\interface(#1)}
\newcommand{\cfp}{\mathit{fp}}
\newcommand{\cfpat}[1]{\cfp_{#1}}
\newcommand{\cfpatof}[2]{\cfpat{#1}(#2)}

\newcommand{\cflow}{\mathit{newflow}}
\newcommand{\cflowof}[1]{\cflow(#1)}
\newcommand{\cconst}{\mathit{newc}}
\newcommand{\cconstof}[1]{\cconst(#1)}
\newcommand{\diff}{\mathit{diff}}
\newcommand{\diffof}[1]{\diff(#1)}

\newcommand{\updfun}{\mathit{up}}
\newcommand{\applyupdfun}{[\updfun]}

\newcommand{\transformerof}[1]{\mathit{tf}(#1)}
\newcommand{\transformerofof}[2]{\transformerof{#1}(#2)}

\newcommand{\lfpof}[1]{\mathit{lfp}.\;#1}
\newcommand{\pairingof}[2]{\langle #1, #2\rangle}
\newcommand{\setvarscompl}{{\bar \setvars}}
\newcommand{\setvarspcompl}{{\bar \setvarsp}}

%============================================================================ %
%============================================================================ %
%============================================================================ %

%
% tools
%
\newcommand{\atoolname}[1]{\code{#1}\xspace}


%
% symbols
%
% \usepackage{pifont}
% \newcommand{\symbolYes}{\smash{\ding{51}}\xspace}
% \newcommand{\symbolNo}{\smash{\ding{55}}\xspace}
