\begin{algorithm}[H]
\label{wfdeletefromleaf}
\caption{\texttt{wfDeleteFromLeaf}(key,\ tid,\  phase)}
\textbf{if} $frozen$ \textbf{then} \textbf{return} \texttt{false}\;
$currState := stateArray[tid]$\;
$currNode := currState \rightarrow searchNode$\;
\label{alg10:line136}
\If{$currNode == nullptr$}{
    $currState \rightarrow finished := true $\;
    \textbf{return} \texttt{true}\;
}
\If{$currNode == dummyNode$}{
    $node := list$.\texttt{llFind}$(key)$\;
    \label{alg11:find}
    $currState \rightarrow searchNode.$\texttt{CAS}$(dummyNode, Node)$\;
    \label{alg10:line142}
}
$\textup{llNode*} \ node := currState \rightarrow searchNode$\;
\If{$node == nullptr$}{
    $currState \rightarrow finished := true $\;
    \textbf{return} \texttt{true}\;
}
\uIf{$node \rightarrow key == key$}
{
    \texttt{bool} $res := list$.\texttt{wfLLInsert}($key$, -1,\ tid,\ phase)\;
    \label{alg10:line151}
    \If{res}{$currState \rightarrow finished := true$\;}
    \textbf{return} \texttt{res}\;
}
\Else{
    $currState \rightarrow finished := true$\;
    \textbf{return} \texttt{true}\;
}
\end{algorithm}
