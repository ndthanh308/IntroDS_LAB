\begin{algorithm}[H]
\label{range_query}
\caption{\texttt{rangeQuery}(low, high)}
vector<pair<key,value$>>$ $res$\;
int $ts :=$ \texttt{addTimestamp()}\;
\label{alg4:line83}
Node* $currNode := root$\;
\While{\textup{!}$\,currNode \rightarrow isLeaf$}
{
    Search $currNode$ for the appropriate child based on $key$\;
    Set $currNode$ to said child\;
}
Node* $prevNode :=$ \texttt{nullptr}\;
\While{$currNode \neq$ \textup{\texttt{nullptr}}}
{
\If{$currNode \rightarrow newNext \neq$ \textup{\texttt{nullptr}} $\&\& \ currNode \rightarrow newNext \rightarrow ts \leq ts$}
    {
        \label{alg5:line93}
        $currNode := currNode \rightarrow newNext$\;
        \label{alg5:line94}
        \textbf{if} $prevNode \neq$ \texttt{nullptr} \textbf{then} $prevNode \rightarrow next := currNode$\;
    }
    \Else
    {
        $res := list$.\texttt{rangeQuery}($low,\ high,\ ts,\ res$)\;
        $prevNode := currNode$,\ $currNode := currNode \rightarrow next$\;
        \textbf{if} $currNode \rightarrow list$'s first key $> high$ \textbf{then} \textbf{return} $res$\;
    }
}
\textbf{return} $res$\;
\end{algorithm}