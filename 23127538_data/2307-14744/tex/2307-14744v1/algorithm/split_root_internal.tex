\begin{algorithm}[H]
\label{splitrootinternal}
\caption{\texttt{splitRootInternal}}
\texttt{markInternal()}\;
$\textup{Node* } leftChild :=$ \texttt{new internalNode()}\;
$\textup{Node* } rightChild :=$ \texttt{new internalNode()}\;
Split \textbf{\textit{this}} node into a pair of nodes pointed to by $leftChild$ and $rightChild$\;
$\textup{Node* } newNode :=$ \texttt{new internalNode()}\;
$newNode \rightarrow ptr[0] := leftChild$\;
$newNode \rightarrow ptr[1] := rightChild$\;
$newNode \rightarrow ptr[1] := $ first key from the second half of the current list of keys\;
\textbf{if} \textup{!}$\,root$.\texttt{CAS}($this,\ newNode$) \textbf{then} \textbf{return} \texttt{nullptr}\;
\textbf{return} $newNode$\;
\end{algorithm}