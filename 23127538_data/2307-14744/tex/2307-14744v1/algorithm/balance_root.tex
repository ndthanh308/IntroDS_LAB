\begin{algorithm}[H]
\label{balanceroot}
\caption{\texttt{balanceRoot}()}
$\textup{Node* } newNode$\;
\uIf{$isLeaf\ \&\&\ frozen$}
{
    \textbf{if} {$count \geq MAX$} \textbf{then} $newNode :=$ \texttt{splitRootLeaf}()\;
    \textbf{else} $newNode :=$ \texttt{createNewLeaf}()\;
}
\textbf{else if} {\textup{!}$\,isLeaf\ \&\&\ count \geq MAX$} \textbf{then} $newNode :=$ \texttt{splitRootInternal}()\;
\textbf{if} {\textup{!}$\,root$.\texttt{CAS}($\textit{\textit{\textbf{this}}},\  newNode$)} \textbf{then} \textup{\textbf{return}} \texttt{nullptr}\;
\textbf{else} \textbf{\textup{return}} $newNode$\;
\end{algorithm}