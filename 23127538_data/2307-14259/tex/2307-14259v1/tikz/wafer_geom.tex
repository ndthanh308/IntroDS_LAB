%!TEX root = ../main.tex

\begin{tikzpicture}[>=stealth,]
\sffamily
\footnotesize 

\pgfmathsetmacro{\angleTheta}{25}
\pgfmathsetmacro{\angleAlpha}{33}

\fill[fill=gray!30!white, draw=black] (0cm,0cm) ++(2cm,0cm) arc (-65:245:2.4cm) -- cycle;

% coordinate system:
\begin{scope}[shift={(-0.2cm, 1.2cm)}]
	\coordinate (O) at (0,0);

    \draw[dashed, thin] (O) -- (\angleTheta:1.3cm) coordinate (A);
    \draw[dashed, thin] (O)+(1.7em,0) -- (0:2.6cm) coordinate (B) node[above]{[110]} node[below]{$\theta = \SI{0}{\degree}$};
    \draw[dashed, thin] (O) ++(45:1.8cm) -- (45:3.2cm) coordinate (E) node[above, rotate=45] {[010]} node[below,rotate=45]{$\theta = \SI{45}{\degree}$};
    \draw pic [draw=black, very thin, angle radius=10mm, pic text=$\theta$, angle eccentricity=.8] {angle = B--O--A};
    \draw[dashed, thin] (O) -- (\angleTheta+\angleAlpha:1.2cm) coordinate (C);
    \draw pic [draw=black, very thin, angle radius=8mm, pic text=$\alpha$, angle eccentricity=.8] {angle = A--O--C};

    % local coordinate system 
    \draw[-latex, thick] (A) -- +(\angleTheta:1.5em) coordinate (D) node[below,inner sep=4pt, xshift=3pt]{$\dirvec{r}$};
    \draw[-latex, thick] (A) -- +(\angleTheta+90:1.5em) node[right,inner sep=3pt]{$\dirvec{\theta}$};
    \draw[fill=white] (A) circle (2.5pt) node[below right, yshift=-3pt, inner sep=1pt]{$\dirvec{z}$};
    \draw[fill=black] (A) circle (1pt);

    % wave vector and group velocity vector
    \draw[->, very thick] (D) -- +(\angleTheta:1cm) node[right]{$\ten{k}$};
    \draw[->, very thick] (C) -- node[above left]{$\ten{c}_{\mup{g}}$} +(\angleTheta+\angleAlpha:0.5cm);

    % X, Y, Z coordinate system 
    \draw[-latex, thick] (0, 0) -- (1.5em, 0) node[below, inner sep=4pt]{$\dirvec{X}$};
    \draw[-latex, thick] (0, 0) -- (0, 1.5em) node[left, inner sep=2pt]{$\dirvec{Y}$};
    \draw[fill=white] (0,0) circle (2.5pt) node[below left, inner sep=2pt, align=center]{$\dirvec{Z}$};
    \draw[fill=black] (0,0) circle (1pt);


\end{scope}



\end{tikzpicture}
