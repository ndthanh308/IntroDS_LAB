%!TEX root = ../main.tex

\begin{tikzpicture}[>=stealth,]
\sffamily
\footnotesize 
\pgfmathsetmacro{\kfirst}{3.421} % actual value
\pgfmathsetmacro{\ffirst}{7.708}  
\pgfmathsetmacro{\ksecond}{3.142} % actual value
\pgfmathsetmacro{\fsecond}{7.755}
\pgfmathsetmacro{\DX}{3.2}

\pgfplotstableread[header=false,col sep=comma]{tikz/time_instances.csv}{\dataTimes}

\pgfplotstablegetelem{0}{[index]0}\of{\dataTimes}
\edef\timeInstant{\pgfplotsretval}% this is necessary in order to use the value inside the axes
\begin{axis}[
    name=measT1,
    width=2.5cm, height=2.5cm, at={(-\DX cm,0)},
    title={\SI{\timeInstant}{\micro\second}},
    title style={yshift=-1ex},
    scale only axis,
    xmin=-6,xmax=6, ymin=-6,ymax=6,
    % xlabel={$X$ in \si{\centi\meter}},
    % ylabel={$Z$ in \si{\centi\meter}},
    yticklabels={,,},
    xticklabels={,,},
    % xtick distance=1, 
    ]
    \addplot [forget plot] graphics [xmin=-6,xmax=6.18,ymin=-6.18,ymax=6,] {img/fig_meas_time1.pdf};
    \fill[black] (axis cs:-5.5,-5.7) rectangle (axis cs:-2.5,-5.35);
    \node[anchor=south] at (axis cs:-4.1,-5.35) {\SI{3}{\milli\meter}};
    % \node[rectangle, fill, black, minimum width=2cm,minimum height=2cm] at (axis cs:-1.8,-1.8)
\end{axis}
% \node[at={(measT1.south west)}, anchor=north, outer ysep=0.3em]{(a)};

\pgfplotstablegetelem{0}{[index]1}\of{\dataTimes}
\edef\timeInstant{\pgfplotsretval}% this is necessary in order to use the value inside the axes
\begin{axis}[
    name=measT2,
    width=2.5cm, height=2.5cm, at={(0,0)},
    title={\SI{\timeInstant}{\micro\second}},
    title style={yshift=-1ex},
    scale only axis,
    xmin=-6,xmax=6, ymin=-6,ymax=6,
    % xlabel={$X$ in \si{\centi\meter}},
    % ylabel={$Z$ in \si{\centi\meter}},
    yticklabels={,,},
    xticklabels={,,},
    % ytick distance=5, 
    ]
    \addplot [forget plot] graphics [xmin=-6,xmax=6.18,ymin=-6.18,ymax=6,] {img/fig_meas_time2.pdf};
\end{axis}
% \node[at={(measT2.south west)}, anchor=north, outer ysep=0.3em]{(b)};

\pgfplotstablegetelem{0}{[index]2}\of{\dataTimes}
\edef\timeInstant{\pgfplotsretval}% this is necessary in order to use the value inside the axes
\begin{axis}[
    name=measT3,
    width=2.5cm, height=2.5cm, at={(\DX cm,0)},
    title={\SI{\timeInstant}{\micro\second}},
    title style={yshift=-1ex},
    scale only axis,
    xmin=-6,xmax=6, ymin=-6,ymax=6,
    % xlabel={$X$ in \si{\centi\meter}},
    % ylabel={$Z$ in \si{\centi\meter}},
    yticklabels={,,},
    xticklabels={,,},
    % ytick distance=5, 
    ]
    \addplot [forget plot] graphics [xmin=-6,xmax=6.18,ymin=-6.18,ymax=6,] {img/fig_meas_time3.pdf};
\end{axis}
% \node[at={(measT3.south west)}, anchor=north, outer ysep=0.3em]{(c)};

\pgfplotstablegetelem{0}{[index]3}\of{\dataTimes}
\edef\timeInstant{\pgfplotsretval}% this is necessary in order to use the value inside the axes
\begin{axis}[
    name=measT4,
    width=2.5cm, height=2.5cm, at={(2*\DX cm,0)},
    title={\SI{\timeInstant}{\micro\second}},
    title style={yshift=-1ex},
    scale only axis,
    xmin=-6,xmax=6, ymin=-6,ymax=6,
    % xlabel={$X$ in \si{\centi\meter}},
    % ylabel={$Z$ in \si{\centi\meter}},
    yticklabels={,,},
    xticklabels={,,},
    % ytick distance=5, 
    ]
    \addplot [forget plot] graphics [xmin=-6,xmax=6.18,ymin=-6.18,ymax=6,] {img/fig_meas_time4.pdf};
\end{axis}
% \node[at={(measT4.south west)}, anchor=north, outer ysep=0.3em]{(d)};

\pgfplotstablegetelem{0}{[index]4}\of{\dataTimes}
\edef\timeInstant{\pgfplotsretval}% this is necessary in order to use the value inside the axes
\begin{axis}[
    name=measT5,
    width=2.5cm, height=2.5cm, at={(3*\DX cm,0)},
    title={\SI{\timeInstant}{\micro\second}},
    title style={yshift=-1ex},
    scale only axis,
    xmin=-6,xmax=6, ymin=-6,ymax=6,
    % xlabel={$X$ in \si{\centi\meter}},
    % ylabel={$Z$ in \si{\centi\meter}},
    yticklabels={,,},
    xticklabels={,,},
    ]
    \addplot [forget plot] graphics [xmin=-6,xmax=6.18,ymin=-6.18,ymax=6,] {img/fig_meas_time5.pdf};
\end{axis}
% \node[at={(measT5.south west)}, anchor=north, outer ysep=0.3em]{(e)};



%%% bottom row:


\pgfplotstablegetelem{0}{[index]5}\of{\dataTimes}
\edef\timeInstant{\pgfplotsretval}% this is necessary in order to use the value inside the axes
\begin{axis}[
    name=measT6,
    width=2.5cm, height=2.5cm, at={(-\DX cm,-3.4cm)},
    title={\SI{\timeInstant}{\micro\second}},
    title style={yshift=-1ex},
    scale only axis,
    xmin=-6,xmax=6, ymin=-6,ymax=6,
    % xlabel={$X$ in \si{\centi\meter}},
    yticklabels={,,},
    xticklabels={,,},
    % ylabel={$Z$ in \si{\centi\meter}},
    % ytick distance=5, 
    ]
    \addplot [forget plot] graphics [xmin=-6,xmax=6.18,ymin=-6.18,ymax=6,] {img/fig_meas_time6.pdf};
\end{axis}
% \node[at={(measT6.south west)}, anchor=north, outer ysep=1.3em]{(a)};

\pgfplotstablegetelem{0}{[index]6}\of{\dataTimes}
\edef\timeInstant{\pgfplotsretval}% this is necessary in order to use the value inside the axes
\begin{axis}[
    name=measT7,
    width=2.5cm, height=2.5cm, at={(0,-3.4cm)},
    title={\SI{\timeInstant}{\micro\second}},
    title style={yshift=-1ex},
    scale only axis,
    xmin=-6,xmax=6, ymin=-6,ymax=6,
    % xlabel={$X$ in \si{\centi\meter}},
    % ylabel={$Z$ in \si{\centi\meter}},
    yticklabels={,,},
    xticklabels={,,},
    % ytick distance=5, 
    ]
    \addplot [forget plot] graphics [xmin=-6,xmax=6.18,ymin=-6.18,ymax=6,] {img/fig_meas_time7.pdf};
\end{axis}
% \node[at={(measT7.south west)}, anchor=north, outer ysep=1.3em]{(b)};

\pgfplotstablegetelem{0}{[index]7}\of{\dataTimes}
\edef\timeInstant{\pgfplotsretval}% this is necessary in order to use the value inside the axes
\begin{axis}[
    name=measT8,
    width=2.5cm, height=2.5cm, at={(\DX cm,-3.4cm)},
    title={\SI{\timeInstant}{\micro\second}},
    title style={yshift=-1ex},
    scale only axis,
    xmin=-6,xmax=6, ymin=-6,ymax=6,
    % xlabel={$X$ in \si{\centi\meter}},
    % ylabel={$Z$ in \si{\centi\meter}},
    yticklabels={,,},
    xticklabels={,,},
    % ytick distance=5, 
    ]
    \addplot [forget plot] graphics [xmin=-6,xmax=6.18,ymin=-6.18,ymax=6,] {img/fig_meas_time8.pdf};
\end{axis}
% \node[at={(measT8.south west)}, anchor=north, outer ysep=1.3em]{(c)};

\pgfplotstablegetelem{0}{[index]8}\of{\dataTimes}
\edef\timeInstant{\pgfplotsretval}% this is necessary in order to use the value inside the axes
\begin{axis}[
    name=measT9,
    width=2.5cm, height=2.5cm, at={(2*\DX cm,-3.4cm)},
    title={\SI{\timeInstant}{\micro\second}},
    title style={yshift=-1ex},
    scale only axis,
    xmin=-6,xmax=6, ymin=-6,ymax=6,
    % xlabel={$X$ in \si{\centi\meter}},
    % ylabel={$Z$ in \si{\centi\meter}},
    yticklabels={,,},
    xticklabels={,,},
    % ytick distance=5, 
    ]
    \addplot [forget plot] graphics [xmin=-6,xmax=6.18,ymin=-6.18,ymax=6,] {img/fig_meas_time9.pdf};
    \draw[black, thin] (axis cs:-4,-4) rectangle (axis cs:4,4);
\end{axis}
% \node[at={(measT9.south west)}, anchor=north, outer ysep=1.3em]{(d)};

\pgfplotstablegetelem{0}{[index]9}\of{\dataTimes}
\edef\timeInstant{\pgfplotsretval}% this is necessary in order to use the value inside the axes
\begin{axis}[
    name=measT10,
    width=2.5cm, height=2.5cm, at={(3*\DX cm,-3.4cm)},
    title={\SI{\timeInstant}{\micro\second}},
    title style={yshift=-1ex},
    scale only axis,
    xmin=-6,xmax=6, ymin=-6,ymax=6,
    % xlabel={$X$ in \si{\centi\meter}},
    % ylabel={$Z$ in \si{\centi\meter}},
    yticklabels={,,},
    xticklabels={,,},
    colorbar,
    colormap name=wave,
    point meta min=-0.8, point meta max=0.8,
    colorbar style={
        ytick={-0.8,0,0.8},
        at={(1.2, 0)},
        % width=0.2cm,
        ylabel={displacement re max.},
        ylabel style={yshift={0.1ex}},
        }, 
    % ytick distance=5, 
    ]
    \addplot [forget plot] graphics [xmin=-6,xmax=6.18,ymin=-6.18,ymax=6,] {img/fig_meas_time10.pdf};
    \draw[black, thin] (axis cs:-4,-4) rectangle (axis cs:4,4);
\end{axis}
% \node[at={(measT10.south west)}, anchor=north, outer ysep=1.3em]{(e)};


\end{tikzpicture}
