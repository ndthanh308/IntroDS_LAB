%%****************************************************************************%%
%% Packages                                                          %%
%%****************************************************************************%%

\usepackage{xargs}

\usepackage{xspace}

\usepackage{xstring}

\usepackage{boolexpr}

\usepackage[cmex10]{mathtools}
\usepackage{amsfonts}
\usepackage{mathrsfs}
%\usepackage{latexsym}
\usepackage{textcomp}
\usepackage{pifont}
\usepackage{amssymb,bm,xargs}
\usepackage[shortlabels]{enumitem}


%\usepackage{hyperref}
%\usepackage{natbib}

%\usepackage[ruled,vlined,linesnumbered]{algorithm2e}
\usepackage{wrapfig}

%Only for drafts
\usepackage{lipsum}
\usepackage[obeyDraft]{todonotes}
\usepackage{cancel}
%\usepackage{newproof}

%%****************************************************************************%%
%% Environments                                                               %%
%%****************************************************************************%%


\newtheorem{definition}{Definition}
%\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}
%\newtheorem{corollary}{Corollary}
%\newtheorem{conjecture}{Conjecture}
%\newtheorem{example}{Example}
\newtheorem{remark}{Remark}

\newenvironment{proof}{\emph{Proof.} }{\hfill $\square$ \\} 


%%****************************************************************************%%
%% Misc                                                                       %%
%%****************************************************************************%%

%%****************************************************************************%%

%%****************************************************************************%%
%% Commands	                                                                  %%
%%****************************************************************************%%

\newcommand{\argemp}[2]{\if&#1&\else#2\fi}

\newcommand{\argdef}[2]{\if&#1&#2\else#1\fi}

%%****************************************************************************%%

\newcommand{\argint}[3]{\if&#2&\else#1#2#3\fi}

\newcommand{\argext}[3]{\if&#1&#3\else#1\if&#3&\else#2#3\fi\fi}

%%****************************************************************************%%


\newcommandx{\mthfnt}[3][1=, 2=0]{{
	\IfStrEqCase{#1}
	{%
		{}%
		{#3}%
		{Name}%
		{%
			\IfStrEqCase{#2}
			{%
				{0}{\mathcal{#3}}%
				{1}{\mathscr{#3}}%
				{2}{\mathfrak{#3}}%
				{3}{\mathbb{#3}}%
			}
			[\ensuremath{\clubsuit}]%
		}%
		{Set}%
		{%
			\IfStrEqCase{#2}
			{%
				{0}{\mathrm{#3}}%
				{1}{\mathsf{#3}}%
				{2}{\mathbb{#3}}%
				{3}{\mathbf{#3}}%
			}
			[\ensuremath{\clubsuit}]%
		}%
		{Fun}%
		{%
			\IfStrEqCase{#2}
			{%
				{0}{\mathsf{#3}}%
				{1}{\mathrm{#3}}%
			}
			[\ensuremath{\clubsuit}]%
		}%
		{Rel}%
		{%
			\IfStrEqCase{#2}
			{%
				{0}{\mathit{#3}}%
				{1}{\mathtt{#3}}%
			}
			[\ensuremath{\clubsuit}]%
		}%
		{Sym}%
		{%
			\IfStrEqCase{#2}
			{%
				{0}{\mathtt{#3}}%
				{1}{\mathbf{#3}}%
			}
			[\ensuremath{\clubsuit}]%
		}%
		{Elm}%
		{\mathnormal{#3}}
	}
[\ensuremath{\clubsuit}]%
}}
			
			
\newcommand{\mthsub}[1]{\argemp{#1}{\ensuremath{_{\mathnormal{#1}}}}}

\newcommand{\mthsup}[1]{\argemp{#1}{\ensuremath{^{\mathnormal{#1}}}}}

\newcommandx{\mth}[5][1=, 2=0, 4=, 5=]{{\ensuremath{\mthfnt[#1][#2]{#3}\mthsub{#4}\mthsup{#5}}}}

\newcommandx{\mtharg}[6][1=, 2=0, 4=, 5=]{{\mth[#1][#2]{#3}[#4][#5]\ensuremath{\argint{(}{#6}{)}}}}
			
			
\newcommand{\mthempty}{\mth[][]}
\newcommand{\mthargempty}{\mtharg[][]}
			
\newcommand{\mthstyname}{0}
\newcommand{\mthname}[1][]{\mth[Name][\argdef{#1}{\mthstyname}]}
\newcommand{\mthargname}[1][]{\mtharg[Name][\argdef{#1}{\mthstyname}]}

\newcommand{\mthstyset}{0}
\newcommand{\mthset}[1][]{\mth[Set][\argdef{#1}{\mthstyset}]}
\newcommand{\mthargset}[1][]{\mtharg[Set][\argdef{#1}{\mthstyset}]}

\newcommand{\mthstyfun}{0}
\newcommand{\mthfun}[1][]{\mth[Fun][\argdef{#1}{\mthstyfun}]}
\newcommand{\mthargfun}[1][]{\mtharg[Fun][\argdef{#1}{\mthstyfun}]}

\newcommand{\mthstyrel}{0}
\newcommand{\mthrel}[1][]{\mth[Rel][\argdef{#1}{\mthstyrel}]}
\newcommand{\mthargrel}[1][]{\mtharg[Rel][\argdef{#1}{\mthstyrel}]}

\newcommand{\mthstysym}{0}
\newcommand{\mthsym}[1][]{\mth[Sym][\argdef{#1}{\mthstysym}]}
\newcommand{\mthargsym}[1][]{\mtharg[Sym][\argdef{#1}{\mthstysym}]}

\newcommand{\mthstyelm}{0}
\newcommand{\mthelm}[1][]{\mth[Elm][\argdef{#1}{\mthstyelm}]}
\newcommand{\mthargelm}[1][]{\mtharg[Elm][\argdef{#1}{\mthstyelm}]}
			

\newcommand{\tuple}[1]
{\ensuremath{\!\argint{\langle}{#1}{\rangle}}}


%%% Figure packages and styles
%
%\usepackage{tikz}
%\usetikzlibrary{arrows,shapes}
%
%\usepackage{wrapfig}
%% \usepackage[caption=false,font=footnotesize]{subfig}
%
%\tikzstyle{every node} =
%[draw = none, fill = white, thin]
%\tikzstyle{every edge} +=
%[black, thick]
%
%\tikzstyle{noall} =
%[draw = none, fill = none]
%\tikzstyle{nodraw} =
%[draw = none, fill = white]
%\tikzstyle{nofill} =
%[draw = black, fill = none]
%
%\tikzstyle{cnode} =
%[circle, draw = black]
%\tikzstyle{snode} =
%[regular polygon, regular polygon sides = 4, draw = gray!50]
%\tikzstyle{lnode} =
%[diamond, draw = gray!75]
%\tikzstyle{pnode} =
%[regular polygon, regular polygon sides = 5, draw = gray]