\section{Overview}
\label{sec:examplemodel}


In this and the following sections, a model example is introduced according to the specification terminology proposed in \cite{Elsheikh2023a}. Although, the document attempts to demonstrate an example of a model specification in a stand-alone manner, it is definitely helpful for a reader not familiar with the employed terminology to consult the cited article for in-depth clarification. \\ 

This section provides a brief overview while detailed specification are provided in the following sections. The brief overview is attempted to be sufficient for a general understanding of the model. The later detailed sections are appropriate for reproducing or exploiting the implementation.


\subsection{Description and aims}
\label{sec:example:informalOverview}

The model is concerned with a simplified demographic-only version of the lone parent model introduced in \cite{Gostoli2020}.
% 
The presented model evolves an initial artificial population of the UK through a combination of events: births, deaths, marriages, divorces and ageing. The main purpose of the model is to act as 
\begin{itemize}
    \item 
    an experimental model for examining the capabilities of agent-based modeling libraries in the context of demographic modeling s.a.\ the Agents.jl package \cite{Datseris2022} 
    \item
    as a base for implementing further demographic-related case studies s.a.\ epidemiology or immigration among others   
\end{itemize}


\subsection{Formal overview}
\label{sec:example:formalOverview}

The specification of the model and its simulation process is basically established by describing the elements of tuple listed in Equation (22) in \cite{Elsheikh2023a}, namely:
%
\begin{equation}
    \tag{22}     
    < 
    \alpha_{sim}, 
    \mathcal{F}, 
    \mathcal{M}, \mathcal{M}^{t_0},  
    \mathcal{E}, 
    \mathcal{A}, \mathcal{A}^{t_0} 
    >
\end{equation}
with 
\begin{itemize}
    \item
    \underline{$\alpha_{sim} = (\Delta t, t_0, t_{final}, seed)^T$}: simulation parameters, cf.\ Section \ref{sec:parameters:simpar}
    % 
    \item 
    \underline{$\mathcal{F}$}: the set of employed population features, cf.\ Section \ref{sec:example:populationFeatures}
    \item 
    \underline{$\mathcal{M}$}:
    the given ABM model mathematical form, briefly overviewed in Section \ref{sec:example:model} and formulated in details in Section \ref{sec:model}
\item 
    \underline{$\mathcal{E}$}: the set of events, specified as
    \begin{equation}
    \label{eq:example:events}
    \mathcal{E} = \{ageing, births, deaths, divorces, marriages \}
    \end{equation}
    where detailed specification of each event is provided in Section \ref{sec:events}
    \item 
    \underline{$\mathcal{A}$}: the set of model assumptions that should not be violated are excessively summarized in Section \ref{sec:example:assumptions}
    \item \underline{$\mathcal{M}^{t_0}$ and $\mathcal{A}^{t_0}$} 
    the initial model states at the initial simulation time $t_0$ together with the initial model assumptions are detailed in Section \ref{sec:initialization}
\end{itemize}


\subsection{Simulation parameters $\alpha_{sim}$}
\label{sec:parameters:simpar}

In version 1.1 of the package MiniDemographicABM.jl \cite{MiniDemographicABMjlMisc}, Table \ref{tab:simparameters} lists selected default values of the simulation parameters out of other possible values: 
\begin{table}[h]
    \centering
\begin{tabular}{|l|c|c|} 
\hline 
$\alpha_{x}$ & default value & possible values \\ 
\hline 
$t_0$ & 2020 &  the first of January of 1800-2020 \\ 
$\Delta_t$ & Daily & \{Hourly, Daily, Monthly\} \\ 
$t_{final}$ & 2030 & the end of December of 2020-2100 \\ 
$seed$ & random & arbitrary \\ 
\hline
\end{tabular}
    \caption{Values of simulation parameters}
    \label{tab:simparameters}
\end{table}

\comment{It is beneficial in future to further propose several case studies with specific simulation parameter values for each case.} 




\subsection{Population features $\mathcal{F}$}
\label{sec:example:populationFeatures}


The employed elementary population features are summarized Table \ref{Table:PopFeatures}.

\begin{table}[h]
\label{Table:PopFeatures}
    \centering
    \begin{tabular}{||c|c||}
    \hline
    \hline 
     Features &  Predicates \\
    \hline 
    \hline 
    age & $adult?$ ($ ~\equiv~ \neg child? ~\equiv~ age \geq 18?$  ), $age = a?$ \\ 
    \hline 
    status & $alive?$, $female?$, $male?$,  $orphan?$  \\ & $marriageEligible?$, $married?$, $single?$  \\ 
     & $gaveBirth?$, $oldestSibling?$, $reproducible?$ \\ 
     \hline 
    space & $empty?$, $house$, $livesAlone?$ \\ & $occupants$, $w?$ (i.e.\ in a town $w$) \\ 
    \hline 
    kinship &  $father$, $firstDegRelatives$, $mother$, $parents$ \\ 
            & $partner$,  $youngestChild$, $wife$ \\ 
    \hline 
    \hline 
    \end{tabular}
    \caption{Set of employed elementary population features}
    \label{tab:populationFeatures}
\end{table}
\todo{Complete}




\subsection{The model $\mathcal{M}$ and its initial state $\mathcal{M}^{t_0}$}
\label{sec:example:model}

Equations (23) and (24) in \cite{Elsheikh2023a}
\begin{align}
\label{eq:abmModel}
\tag{23}
& \mathcal{M}  \equiv \mathcal{M}^t \equiv \mathcal{M}(P(t),S(t),\alpha,D(t),t)   \\
\label{eq:abmModelInitialConditions}
\tag{24}
& \text{ associated with } \mathcal{M}(P(t_0),S(t_0),\alpha,D(t_0),t_0) =  M^{t_0} 
\end{align}
%
provide a brief description of the entities of the model where:
\begin{itemize}
    \item 
    $P \equiv P(t)$ corresponds to a population of individuals at time $t$
    \item 
    The space 
    \begin{equation}
    \label{eq:space}
    S ~\equiv~ S(t) ~=~ <H(t)~,~W>     
    \end{equation}
    corresponds to a dynamic set of houses $H(t)$ distributed within a static set of towns $W$ of the UK, cf.\ Section \ref{sec:model:space} for detailed description
    \item 
    model parameters $\alpha$ are provided in Section \ref{sec:model:parameters}
    \item 
    model input data $D$ is demonstrated in Section \ref{sec:model:data}
    \item 
     the initial model state $M^{t_0}$ is described in details in Section \ref{sec:initialization}
\end{itemize} 



\subsection{Model assumptions $\mathcal{A}$ and initial assumptions $\mathcal{A}^{t_0}$} 
\label{sec:example:assumptions}



There are couple of distinguished subsets of assumptions: 
%
\begin{itemize}
    \item population-based assumptions (to be labeled with \boldmath$a_p$) 
    \item space-based assumptions (to be labeled with $a_s$)
    \item mixed (to be labeled with $a$) or 
    \item initial assumptions $a^{0}$
\end{itemize}
% 
A summary of all model assumptions is given in Table \ref{tab:assumptions}. Detailed possibly formal description of the assumptions are distributed throughout the documentation whenever relevant to the context.

\begin{table}[t]
    \centering
    \begin{tabular}{|c|l|c|}
    \hline
    \textbf{label} & \textbf{summary}  & \textbf{context} \\
    \hline 
    \multicolumn{3}{|c|}{\textbf{initial population related assumptions} \boldmath$a_{*}^0$} \\
    \hline 
    \initassnum{\ref{ass:init:adultsNoParents}} & adults have no parents & Sec.\ \ref{sec:initialization:parents} \\
    \initassnum{\ref{ass:init:childrenAliveParents}} & parents are alive & " \\ 
    \initassnum{\ref{ass:init:ArbitraryAgeDiffSiblings}} & arbitrary age difference among siblings & " \\
    \initassnum{\ref{ass:init:familyTogether}} & family lives together & Sec.\ \ref{sec:initialization:housing} \\
    \hline 
    \multicolumn{3}{|c|}{\textbf{space-related assumptions} \boldmath$a_{s_*}$} \\ 
    \hline 
    \sassnum{\ref{ass:space:staticTowns}} & static set of towns & Sec.\ \ref{sec:model:space} \\ 
    \sassnum{\ref{ass:space:inhabitable}} & a just created house remains forever & " \\
    \sassnum{\ref{ass:space:dynamicSpace}} & dynamic space & " \\
    \sassnum{\ref{ass:space:dynamicHouses}} & dynamic set of houses & " \\
    \sassnum{\ref{ass:space:houseXYTown}} & town-xy-coordinate house location & " \\ 
    \sassnum{\ref{ass:space:housingUniformLocations}} & town houses uniformly distributed & " \\
    \sassnum{\ref{ass:space:selectOrCreateEmptyHouse}} & empty house selection (for new owners) & " \\ 
    \sassnum{\ref{ass:space:houseInArbitraryTown}} & population density oriented town selection & " \\ 
    \hline 
        \multicolumn{3}{|c|}{\textbf{population-related assumptions} \boldmath$a_{p_*}$} \\ 
    \hline 
   \passnum{\ref{ass:pop:gender}} & equal gender ratio & Sec.\ \ref{sec:initialization:gender} \& \ref{sec:events:births} \\  
   \passnum{\ref{ass:pop:marrigeaAge}} & only adults are married & Sec.\ \ref{sec:initialization:partnership} \& \ref{sec:events:marriages} \\  
    \passnum{\ref{ass:pop:marriedGivesBirth}} & only married non-old women give births &  Sec.\ \ref{sec:initialization:parents} \& \ref{sec:events:births} \\ 
   \passnum{\ref{ass:pop:adoption}} & no adoption for orphans & Sec.\ \ref{sec:events:deaths} \\
   \hline 
    \multicolumn{3}{|c|}{\textbf{mixed population-space related  assumptions} \boldmath$a_{*}$} \\ 
    \hline 
    \assnum{\ref{ass:mixed:homeless}}  & no homeless & Sec.\ \ref{sec:initialization:housing} \\
    \assnum{\ref{ass:mixed:numOfOccupants}} & arbitrary number of occupants & " \\
    \assnum{\ref{ass:mixed:housingKinship}} & flatmates are relatives & Sec.\ \ref{sec:events:order} \\ 
    \assnum{\ref{ass:mixed:adultToOwnHouse}} & new adults move out & Sec.\ \ref{sec:events:ageing} \\ 
    \assnum{\ref{ass:mixed:deadHaveNoHouse}}& deads leave their house & Sec.\ \ref{sec:events:deaths} \\ 
    \assnum{\ref{ass:mixed:divorceMaleToOwnHouse}} & divorced male moves out & Sec.\ \ref{sec:events:divorces} \\
    \assnum{\ref{ass:mixed:marriedHousing}} & housing assignment of new couple & Sec.\ \ref{sec:events:marriages} \\ 
    \hline 
    \end{tabular}
    \caption{Summary of model assumptions}
    \label{tab:assumptions}
\end{table}