%\section{Proofs for Section~\ref{sec:reasonvardom}}
\section{Proofs for Section~\ref{sec:tableaux}}




Here is an $\LnALC$ tableau algorithm example application.
%The following is example of application of the $\LnALC$ tableau algorithm.

%\subsection{Examples}
%\todo{T:added example}
\begin{example}
Consider the formula
%As an example of application of the $\LnALC$ tableau algorithm,
%we consider the formula
%$\p = $
$$\varphi = \lnot(\mathbb{D}_c\exists\mathsf{req}.(\mathsf{Prod} \sqcap \mathsf{InCatal}) \sqsubseteq
\mathbb{D}_c(\mathsf{Conf} \sqcup\lnot\mathsf{Conf})),$$
related to the discussion in Section~\ref{sec:model}.
We recall that the formula is unsatisfiable in models %satisfying 
validating the $\mathbf{M}$-condition,
and it is satisfiable otherwise.
Here we show that the algorithm provides different answers depending whether $\mathbf{M}\in\Lvar$.
%First, we rewrite $\p$ in NNF, replacing $\mathbb{D}_c$ with $\Box_c$ in order to fit the language of the tableau,
%thus obtaining
%$$\lnot(\top \sqsubseteq \Diamond_c\forall \mathsf{req}.
%(\lnot \mathsf{Prod} \sqcup \lnot \mathsf{InCatal}) \sqcup \Box_c(\mathsf{Conf} \sqcup \lnot \mathsf{Conf}))$$
First, we rewrite $\p$ in NNF, using $\widehat{\mathbb{D}}_c$ as the dual operator of $\mathbb{D}_c$,
thus obtaining
$$\lnot(\top \sqsubseteq \widehat{\mathbb{D}}_c\forall \mathsf{req}.
(\lnot \mathsf{Prod} \sqcup \lnot \mathsf{InCatal}) \sqcup \mathbb{D}_c(\mathsf{Conf} \sqcup \lnot \mathsf{Conf})).$$
We then consider the following applications of the tableau algorithm.
In the first case we assume $\mathbf{M}\in\Lvar$:


%\noindent
%$0 : \p$
%
%\noindent
%$0 : (\Box_c \exists\mathsf{req}.(\mathsf{Prod} \sqcap \mathsf{InCatal}) \sqcap
%\Diamond_c(\lnot\mathsf{Conf} \sqcap\mathsf{Conf}))(v)$ 
%\hfill ($\mathsf{R}_{\not\sqsubseteq}$)
%
%\noindent
%$1 : (\exists\mathsf{req}.(\mathsf{Prod} \sqcap \mathsf{InCatal}))(v)$
%\hfill ($\mathsf{R}_{\mathit{L}}$)
%
%\noindent
%$1 : (\lnot\mathsf{Conf} \sqcap\mathsf{Conf})(v)$
%\hfill ($\mathsf{R}_{\mathit{L}}$)
%
%\noindent
%$1 : (\lnot\mathsf{Conf})(v)$
%\hfill ($\mathsf{R}_{\sqcap}$)
%
%\noindent
%$1 : (\mathsf{Conf})(v)$
%\hfill ($\mathsf{R}_{\sqcap}$)

\medskip
\noindent
$0 : \p$

\noindent
$0 : \mathbb{D}_c \exists\mathsf{req}.(\mathsf{Prod} \sqcap \mathsf{InCatal}) \sqcap
\widehat{\mathbb{D}}_c(\lnot\mathsf{Conf} \sqcap\mathsf{Conf})(v)$ 
\hfill ($\mathsf{R}_{\not\sqsubseteq}$)

\noindent
$1 : \exists\mathsf{req}.(\mathsf{Prod} \sqcap \mathsf{InCatal})(v)$
\hfill ($\mathsf{R}_{\mathit{L}}$)

\noindent
$1 : \lnot\mathsf{Conf} \sqcap\mathsf{Conf}(v)$
\hfill ($\mathsf{R}_{\mathit{L}}$)

\noindent
$1 : \lnot\mathsf{Conf}(v)$
\hfill ($\mathsf{R}_{\sqcap}$)

\noindent
$1 : \mathsf{Conf}(v)$
\hfill ($\mathsf{R}_{\sqcap}$)

\medskip


\noindent
The completion set constructed by the application of the $\LnALC$ tableau algorithm contains a clash,
hence the algorithm returns $\mathsf{unsatisfiable}$ on input $\p$. 
Now, assume $\mathbf{M}\notin\Lvar$:

\medskip

\noindent
$0 : \p$

\noindent
$0 : \mathbb{D}_c \exists\mathsf{req}.(\mathsf{Prod} \sqcap \mathsf{InCatal}) \sqcap
\widehat{\mathbb{D}}_c(\lnot\mathsf{Conf} \sqcap\mathsf{Conf})(v)$ 
\hfill ($\mathsf{R}_{\not\sqsubseteq}$)

\noindent
$1 : \forall \mathsf{req}.(\lnot \mathsf{Prod} \sqcup \lnot \mathsf{InCatal})(v)$
\hfill ($\mathsf{R}_{\mathit{L}}$)

\noindent
$1 : \mathsf{Conf} \sqcup \lnot \mathsf{Conf}(v)$
\hfill ($\mathsf{R}_{\mathit{L}}$)

\noindent
$1 : \mathsf{Conf}(v)$
\hfill ($\mathsf{R}_{\sqcup}$)


\medskip

\noindent
The completion set 
%constructed by the application of the $\LnALC$ tableau algorithm
is clash-free and $\LnALC$-complete,
hence the algorithm returns $\mathsf{satisfiable}$ on input $\p$.
Note that the
latter
applications of $\mathsf{R}_{\mathit{L}}$
are only possible if $\mathbf{M}\notin\Lvar$.
%application of $\mathsf{R}_{\mathit{L}}$
%considered in the second example
%is only possible if $\mathbf{M}\notin\Lvar$.

\end{example}


%\nb{M: todo def. weight}
%{\color{blue}{
%\todo{T:Maybe the definition of weight can be moved to the appendix.}
In this appendix we prove termination, soundness, and completeness of the $\LnALC$ tableau algorithm.
We define the \emph{weight} $|C|$ of a concept $C$ in NNF as follows: $|A| = |\lnot A| = 0$; $|\exists r.D| = |\forall r.D| = |\Box_{i}D| = |\Diamond_{i}D| = |D| + 1$; $|D \sqcap E| = |D \sqcup E| = |D| + |E| + 1$. The \emph{weight $|\p|$} of a formula $\p$ in NNF is defined as:
$|C(a)| = |r(a,b)| = |\lnot r(a,b)| =
| (C \sqsubseteq D) | = | \lnot (C \sqsubseteq D) | = 0$; 
%$\Box_{i} \psi = | \psi | + 1$; 
$|\Box_{i} \psi| = |\Diamond_i\psi| = | \psi | + 1$;
$| \psi \land \chi | = | \psi \lor \chi | = | \psi | + | \chi | + 1$. %}}
Observe that, for a concept or formula $\gamma$, we have that 
$| \gamma | = | \dnot \gamma |$.


\input{sec_app_vardom_tab}





\input{sec_app_vardom_frag}




