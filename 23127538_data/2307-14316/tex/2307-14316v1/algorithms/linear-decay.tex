\begin{algorithm}[tbp]
\caption{Composite sampling (linear-decay)}
\label{alg:composite_sampling-ld}
\textbf{Input}: $\pi^\src$, $\pi^\targ$, $\upsilon$\\
\textbf{Initialize}: $P_{\pi}\leftarrow 1$, $P_{\textrm{wise}}\leftarrow 1$ \label{line:initialize-p}\\
\textbf{Output}: $\pib$
\begin{algorithmic}[1] %
\FOR{each iteration}
\STATE $P_b(\src) = P_{\pi} $ \COMMENT{The probability of using $\pi^\src$}
\STATE $P_b(\targ)= 1-P_{\pi}$ \COMMENT{The probability of using $\pi^\targ$}
\STATE Sample $\kappa_{\textrm{wise}} \sim U(0,1)$ \label{line:determine-wise-begin}
\IF{$\kappa_{\textrm{wise}}<P_{\textrm{wise}}$}
\STATE \emph{step-wise} $\leftarrow \mathit{true}$
\ELSE
\STATE \emph{step-wise} $\leftarrow \mathit{false}$
\STATE $b \sim P_b$ \COMMENT{Choose behaviour policy} \label{line:decide-pib-trajwise}
\ENDIF \label{line:determine-wise-end}
\STATE $P_{\textrm{wise}}=P_{\textrm{wise}}-\upsilon$ \COMMENT{Decrease the probability of step-wise} \label{line:decrease-pwise}
        \FOR{each environment step} 
        \IF{\emph{step-wise}} \label{line:decide-pib-stepwise-begin}
        \STATE $b \sim P_b$ \COMMENT{Choose behaviour policy} \label{line:decide-pib-stepwise-end}
        \ENDIF 
        \ENDFOR 
        \STATE $P_{\pi}=P_{\pi}-\upsilon$ \label{line:decrease-ppi} \COMMENT{Decrease the probability of using $\pi^\src$}
        \ENDFOR
\end{algorithmic}

\end{algorithm}