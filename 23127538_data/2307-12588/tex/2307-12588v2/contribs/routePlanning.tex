
\begin{comment}
At this point we propose that a subset of targets at time $t + \tau_d + \tau_m$ are assigned to intervention head $i$, where $\tau_m$ is the time required for segment management.
The problem which must be addressed is how to plan $\mathcal{H}$ independent efficient routes using the the prior knowledge of an intervention head's position, robot linear speed as well as the limits of speed and acceleration of linear axes.
%The problem which must be addressed is: with the prior knowledge of an intervention head's position, robot linear speed and limits of speed and acceleration of linear axes, plan $\mathcal{H}$ independent efficient routes to guide intervention heads.
We refer to the time required for planning as $\tau_p$.
The planned routes must guide intervention heads through all their assigned targets while minimizing the chance of missing any target.
\end{comment}

%At this point we propose that a subset of targets at time $t + \tau_d + \tau_m$ are assigned to intervention head $i$, where $\tau_m$ is the time required for segment management.
Here we address how to plan $\mathcal{H}$ independent efficient routes.
The planned routes must guide intervention heads through all their assigned targets while minimizing the chance of missing any target.
This has to take into account the the prior knowledge of an intervention head's position, robot linear speed as well as the limits of speed and acceleration of linear axes.
%The problem which must be addressed is: with the prior knowledge of an intervention head's position, robot linear speed and limits of speed and acceleration of linear axes, plan $\mathcal{H}$ independent efficient routes to guide intervention heads.
%We refer to the time required for planning as $\tau_p$.

The planning approach generates~$m$ potential trajectories~$\Vec{\mathbf{T}}=[\Vec{T}_0,\dots,\Vec{T}_m]$ for each intervention head.
Each trajectory $\Vec{T}_i$ is an ordered list of length $q$ consisting of weed positions which can be visited.
%included in the trajectory with length $q$. }
%\TODO{CM to AA: You wrote $\Vec{T}_m$ but do you mean $\Vec{T}_{\mathcal{H}}$, No this is actually $\Vec{T}_m$ where $m$ is the number of predicted possible trajectories for each intervention head}.
%To obtain possible trajectories, we use the following approaches:
To obtain $\Vec{\mathbf{T}}$ we use the following approaches:
% 
\begin{enumerate}  
    \item \textbf{\textit{Brute-Force}}:
    In this case we compute all possible routes by finding the permutation of all nodes in the graph (without considering the direction of links).
    Then the routes with the lowest cost and maximum success rate will be selected from all predicted routes. % could be drawn out of the queue of all predicted routes.
    \item \textbf{\textit{Open Loop Traveling Salesman Planning}}:
    This approach, termed OTSP, is a variant of the classic travelling salesman problem where the agent must visit all nodes of a graph once without making a loop back (Hamilton loop) to the start node~\cite{chieng2014performance}.
    %The OTSP is a variant of classic TSP where the agent must visit all nodes of a graph once without making a loop back (Hamilton loop) to the start node~\cite{chieng2014performance}.
    %The problem which here is being solved is also 
    To solve this we use an approach similar to $n$OTSP where the agent only needs to visit $n$ nodes in the graph, however, in our problem setting we aim to maximize the number of visited nodes while considering other important criteria like cost and success rate.
    We use our constrained uni-directional node-graph representation as a base for solving $n$OTSP using dynamic programming.
\end{enumerate}

The optimal trajectory for each intervention head is obtained by considering two criteria: number of nodes successfully visited and the total movement of the predicted trajectory.
In every trajectory, we calculate the number of nodes that satisfy~\eqref{eq:weedingProb} to determine if a node can be successfully visited.
This gives us an updated set $\Vec{\mathbf{T}'}$ which only consists of nodes in the trajectories which are feasible.
From this updated set $\Vec{\mathbf{T}'}$ we then calculate the movement cost-matrix~$\mathcal{G}$,
% 
\begin{equation}
    \label{eq:trajectoryCost} 
    \mathcal{G}(\Vec{T}'_i) = \sum_{j=0}^{q-1} (n_j - n_{j+1})^2.
\end{equation}
%
After this process, the trajectory from $\Vec{\mathbf{T}'}$ with the maximum number of successfully vised nodes is passed to the intervention controller.
In the case multiple trajectories successfully visit the same number of nodes, the trajectory which also minimizes the movement cost will be passed to the intervention controller.




