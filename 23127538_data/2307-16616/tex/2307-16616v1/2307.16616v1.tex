
\documentclass{article}

% Paquetes necesarios
\usepackage{amsmath,amssymb,amsthm}
\usepackage[margin=1in]{geometry} % Margen de 1 pulgada
\usepackage{hyperref} % Para enlaces clicables
\usepackage{graphicx} % Para insertar imágenes
\usepackage[english]{babel}

% Título, autores y fecha
\title{Definition of the invariant and the relationship with the compounds numbers. Generalisation of the Euler theorem}
\author{Juan Hernández-Toro \\ \texttt{jhtoro@usal.es}}


\date{\today}

\begin{document}
\maketitle % Imprimir título, autores y fecha

\begin{abstract}
The purpose of this article is to introduce the concept of invariance and its properties. These properties can be used to check the primality of a number. Combining these properties with the Euler theorem, it is possible to generalize this theorem for all the values of $a^{\varphi(m)}$ where $0 < a < m {\pmod {m}}$ independently if a is co prime or not with m. As  $a^{\varphi(m)+1} \equiv a$ if $m = a \cdot b$ and $GCD(a, b) = 1$. As the following steps, a new hypothesis is formulated regarding the substitution of the Totien function for an equivalent function that explains the Carmichael numbers.\\
\textbf{Keywords:}Prime Numbers, Compound Numbers,  Primality test, Euler theorem
\end{abstract}

\section{Introduction}

The invariant denoted as I will be a number between o and m that accomplishes the following condition: $I^2\equiv I {\pmod {m}}$. This apparently simple condition is deeply connected with compound numbers. The principal fact is that the prime and prime powers don’t have numbers with non-trivial invariants remainders, and for this reason, they can be discriminated. Using this condition, the Euler theorem can be generalized. Applying the invariant properties to the Euler theorem allows the generalization of this in the following form:  $a^{\varphi(m)} \equiv I(m) {\pmod {m}}$ independently if a is co-prime or not. In addition to this, in the conclusion, it is hypothesized that some changes in the Totien function explain the Carmichael numbers.

\section{Invariant and anti-invariant Definition}
\subsection{Definition of Invariant}\label{Idef1}
%A Invariant is a number n which $n^{2}\equiv n\;\;\;(mod\;m)$.
For each combination of numbers $(a,b)$, $(a',b')$... where  $m=a\cdot b$, $m=a'\cdot b'$...  and $GCD(a,b)=1$, $GCD(a',b')=1$.. there are two numbers $I_{1}$ and $I_{2}$ between 0 and m such that $I_{1}^2\equiv I_{1} {\pmod {m}}$ and $I_{2}^2\equiv I_{2} {\pmod {m}}$. This numbers $I_{1}$ and $I_{2}$ are called invariants of $m$.\\
\subsubsection{Demonstration:}
In order to meet the previous criteria, if  $m=a\cdot b$, the I number can be expressed as $I=\alpha a+x$ and $I=\beta b+y$ Then:
\begin{equation}
 I^{2}=\alpha a \beta b+\alpha ay+\beta bx+xy
\label{Ieq1} 
\end{equation}
and:
\begin{equation}
I^{2}\equiv \alpha ay+\beta bx+xy{\pmod {m}}
\label{Ieq2}
\end{equation}
if $\beta b=\alpha a+x-y$, $\beta\cdot b$ can be substituted in (\ref{Ieq2}) as:
\begin{equation}
I^{2}\equiv \alpha a y+\alpha ax+x^{2} {\pmod {m}} 
\label{Ieq3}  
\end{equation}
There are two possible solutions to achieve 
$I^{2}\equiv I{\pmod {m}}$ :
\begin{itemize}
    \item $x=0$ and $y =1$ that is $I_{1}=\alpha\cdot a$ 
    \item $x=1$ and $y =0$ that is $I_{2}=\beta\cdot b$
\end{itemize}
\subsubsection{Example:}
The number 15 have two combinations of multipliers (a=1,b=15) and (a'=3,b'=5). The invariants for (a=1,b=15)  are (1,15), the invariants for (a'=3,b'=5) are (6,10) that is:
\begin{equation}
6^{2}\equiv 6 {\pmod {15}} \text{ and } 10^{2}\equiv 10 {\pmod {15}} 
\end{equation}
\subsection{ Definition of anti-invariant }\label{Idef2}
The Anti-invariant denoted as A is the number between 0 and m that accomplish the following condition  $A^2\equiv m-A{\pmod {m}}$. Then if $b=m-I$, b is an anti invariant
\subsubsection{Demonstration:}
If $I=m-b$ then: 
\begin{equation}
b^{2}=m^{2}-2\cdot m\cdot b+I^{2}\equiv I=m-b  {\pmod {n}} 
\label{Ieq4}
\end{equation}

\subsubsection{Conclusion:}
If $b=m-I$, then b is an anti invariant A (mod m). If $b=m-A$, then b is an invariant I.
\subsubsection{Example:}
The number 15 have in total 4 invariants (1,6,10,15). The anti-invariant for each invariant are (14,9,5,0)

 \subsection{Definition of Tuples of anti-invariant, invariant}\label{Idef3}
Each anti invariant is followed by an invariant. This produce tuples of anti invariant invariant consecutive numbers. 
\subsubsection{Demonstration:}


In order to meet the previous criteria, the remainder of (I-1) is calculated
\begin{equation}
 (I-1)^2=I^{2}-2I+1
\label{Ieq5} 
\end{equation}
but $I^2\equiv I{\pmod {m}}$ for this reason:
\begin{equation}
(I-1)^2\equiv I-2I+1=-I-1\equiv m-(I-1) {\pmod {m}}
\label{Ieq6}
\end{equation}
On the other hand:

\begin{equation}
 (A+1)^2=A^{2}+2A+1
\label{Ieq7} 
\end{equation}
but $A^2\equiv m-A{\pmod {m}}$ then:
\begin{equation}
(A+1)^2 \equiv m-A+2A+1=m+A+1\equiv A+1 {\pmod {m}}
\label{Ieq8}
\end{equation}
 
\subsubsection{Example:}
The number 15 have in four tuples of anti-invariant invariant numbers. (0,1), (5,6), (9,10) and (14,15)

\subsection{Definition of trivial anti-invariant, invariants tuple }\label {Idef4}%\footnote{The multiples of 2 have two additional trivial anti-invariant invariant tuples $(\frac{m-1}{2},\frac{m}{2})$ and $(\frac{m}{2},\frac{m+1}{2})$. Only multiple of 2 but not $2^{s}$ with s>1}
All the natural numbers m have two invariant and two anti-invariants. These two tuples are easily to localize (0,1) and (m-1,m)
\subsubsection{Demonstration:}
This is a particular case of \ref{Idef1}. If $a=1$ and  $m=b$, the two solutions are:
\begin{itemize}
    \item $n=1$ 
    \item $n=m$ 
\end{itemize}
Likewise using \ref{Idef3} the tuples are defined as (0,1) (m-1,m)
\subsubsection{Conclusion:} 
Concluding this section, all the numbers have 2 invariants, $I=m$ and $I=1$ and 2 anti-invariants $A=m-1$ and $A=0$ (mod m).

\subsection{Definition of non trivial anti-invariant, invariants tuple for odd numbers} \label{Idef5}
If $m=a\cdot b$, m odd, $a\neq 1$, $b\neq 1$ and $GCD(a,b)=1$, then this composite numbers have at least 2 additional anti-invariants, invariants tuples . The localization vary with each number\footnote{The powers of prime numbers b due to $GCD(a,b)\neq1$ have only 2 anti-invariant, invariant tuples also.}.
\subsubsection{Demonstration:}
If $m=a\cdot b$ where $a\neq1$, $b\neq1$ and $GCD(a,b)=1$, must exist two additional anti-invariants invariants tuples  $(c,d)$ and $(c',d')$. For \ref{Idef1} we need to probe that there are two consecutive numbers were $c=\alpha a$, $d=\beta b$. This is equivalent to $d\equiv 1{\pmod {c}}$
and is consequence of the Bezout theorem \cite{Varona}


    
%\subsubsection{Conclusion:}
%the existence of a invariant out of the trivial invariants probe automatically that the number is not prime.
%\subsubsection{Demonstration:}
%Suppose that m is prime then $m=1\cdot b$ then $b\equiv 0{\pmod {1}}$ and is not possible find a tuple %(c,d) where $d\equiv 1{\pmod {c}}$ , for this reason m can be expressed as $m=b'\cdot a'$ where $a'\neq1$, $b'\neq1$ and $GCD(a',b')=1$. \footnote{This allow to develop algorithms to check the primality of a number and give additional information about the factorization.}

%\subsubsection{Example:}
%19 have only two invariant (1,19). 15 have (1,6,10,15).

\subsection{Proposition. The invariant in superior orders }\label{prop6}
if I is an invariant of m, then $I^s\equiv I{\pmod {m}}$ for all values of s where s is positive and integer.
\subsubsection{Demonstration:}
Suppose that is true for $I^{s-1}$ that is $I^{s-1}\equiv I{\pmod {m}}$ then the remainder of 
\begin{equation}
I^{s}\equiv I^{s-1}\cdot I\equiv I\cdot I\equiv I {\pmod {m}}
 \end{equation}

\clearpage

\section{Conclusions: The relationship between the compose number, the non trivial invariant, the Euler theorem and other hy\-po\-the\-sis and considerations }

%\subsection{ necessary and sufficient condition to be prime}
%A number p is prime if there is a number $a$ where $a(p-1)\equiv 1{\pmod {p}}$, GCD(a,m)=1, and $a^{\alpha}\neq a^{\beta}$ if $\alpha\neq\beta$. ($\alpha$ and $\beta$ take values from 1 to p-2).\\ This is equivalent to:  For each value of $\alpha$ between 1 and p-1 there are a one-to-one relationship with the integer set $\mathbb{Z}_{p}$ and $a^{p-1}\equiv 1{\pmod {p}}$.\\
%\subsubsection{Demonstration:}
%If for each remainder b from 2 to p-1,there are a $\alpha$ value where $a^{\alpha} \equiv b{\pmod {p}}$ then:
%\begin{equation}
% b^{p-1}\equiv a^{(p-1)\dot \alpha}\equiv 1^{\alpha}\equiv1 {\pmod {p}}  
%\end{equation}
%The previous condition is equivalent to $a^{\alpha}\neq 1{\pmod {p}}$ from $\alpha$ between 1 and p-2.
%Suppose p is prime and a is not divisible by p. If $a^{\alpha}\equiv a^{\beta}{\pmod {p}}$ then  $a^{\alpha-\beta}\equiv a^{\beta-\beta}\equiv 1{\pmod {p}}$.
\subsection{The relation between compound numbers and non trivial invariants}
The existence of a non trivial invariant probe automatically that the number is not prime.
\subsubsection{Demonstration:}
Suppose that m is prime then $m=1\cdot b$ and $b\equiv m\equiv 0{\pmod {m}}$. Is possible find a tuple (c,d) where $d\equiv 1{\pmod {c}}$ only if c=1 or c=m. If There is a non trivial invariant, there is also a tuple (c,d) then $c=\alpha \cdot a$ and $d=\beta \cdot b$ and m can be expressed as $m=b\cdot a$ considering that $a\neq1$, $b\neq1$ and $GCD(a',b')=1$. This probe that m is a compound number. 
%because is possible to find a tuple (c,d) of consecutive numbers different of c=1 or c=m and $d\equiv 1{\pmod {c}}$. 
%\footnote{This allow to develop algorithms to check the primality of a number and give additional information about the factorization.}


\subsection{Generalization of the Euler theorem}\label{Euler}
The Euler theorem can be more general.
Euler's theorem states that, if m and a are co prime positive integers, and $\displaystyle \varphi (m)$is Euler's totient function, then a raised to the power $\displaystyle \varphi (m)$ is congruent to 1 modulo m.\\
That is:
\begin{equation}
   \displaystyle a^{\varphi (m)}\equiv 1{\pmod {n}}.
\end{equation}
For \ref{Idef1} the theorem can be generalized as:\\
if $\displaystyle \varphi (m)$is Euler's totient function\, 
the number a raised to the power $\displaystyle \varphi (m)$ is congruent to trivial invariant  modulo m; if m and a are co primes. Then:
\begin{equation}
   \displaystyle a^{\varphi (m)}\equiv I_{trivial}=1{\pmod {m}}.
\end{equation}
If m and a are not co primes then:
\begin{equation}
   \displaystyle a^{\varphi (m)}\equiv I_{not trivial} {\pmod {m}}.
\end{equation}

\subsubsection{Demonstration}
Suppose $m=a\cdot b$, $GCD(a,b)=1$ and the Invariant is $I=a^{s}\cdot \beta$ where s is an integer number and $\beta$ is coprime with m and a. Then:
\begin{equation}
   I^{\varphi (m)}= a^{s\cdot \varphi (m)}\cdot \beta^{\varphi (m)} {\pmod {m}}.\label{eqEuler1}
\end{equation}
But $\beta^{\varphi (m)}=1$ by the Euler theorem itself. Substituting:
\begin{equation}
   I^{\varphi (m)}\equiv  a^{s\cdot \varphi (m)} {\pmod {m}}.\label{eqEuler2}
\end{equation}\\


For \ref{prop6} $I^{s\cdot \varphi (m)}\equiv I^{\varphi (m)}\equiv I {\pmod {m}}$. Then  $a^{\varphi (m)}\equiv I {\pmod {m}}$.\\

Is trivial to demonstrate that all the multiples of a  $\delta=a\cdot c$ where c and m are coprimes meet
\begin{equation}
   \delta^{\varphi (m)}\equiv I {\pmod {m}}.\label{eqEuler3}
\end{equation}
\subsubsection{Example:}
The Euler´s totien number of 105 is $\varphi (n)=48$ Is easy to check that:
\begin{enumerate}
    \item The multiples of 3, $\beta=3\cdot c$ where c is co-prime with 105 $\beta^{48}\equiv 36 {\pmod {n}}$
    \item The multiples of 5, $\beta=5\cdot c$ where c is co-prime with 105 $\beta^{48}\equiv 85 {\pmod {n}}$
    \item The multiples of 7, $\beta=7\cdot c$ where c is co-prime with 105 $\beta^{48}\equiv 91 {\pmod {n}}$
    \item The multiples of 15, $\beta=15\cdot c$ where c is co-prime with 105 $\beta^{48}\equiv 15 {\pmod {n}}$
    \item The multiples of 21, $\beta=21\cdot c$ where c is co-prime with 105 $\beta^{48}\equiv 21 {\pmod {n}}$
    \item The multiples of 35, $\beta=35\cdot c$ where c is co-prime with 105 $\beta^{48}\equiv 70 {\pmod {n}}$
\end{enumerate}

\subsection{ The invariant, the anti invariant and the $a^{s}$ cyclic group}\label{cyclic group}

If $m=a\cdot b $ the powers of a $a^{s}$ form a cyclic group. I is equivalent to 1 in the group and A is equivalent to -1.
\subsubsection{Demonstration:}
If $I_{1}=a\cdot \alpha$ then $I_{1}\cdot a\equiv (A_{1}+1)\cdot a\equiv a$ because the anti invariant is multiple of b. \\
If $I_{2}=b\cdot \beta$ then $A_{2}\cdot a\equiv (I_{2}-1)\cdot a\equiv -a\equiv m-a$ because the anti invariant is multiple of b.\\
Also, is trivial to demonstrate that each $a^s\equiv a\cdot \alpha{\pmod {m}}$ where s is different rearrangement of the integer numbers between 0 and m-2 and $\alpha$ is an integer number between 1 and m-1.
\subsubsection{Conclusion}
For \ref{Euler} if $m=a\cdot b$  and GCD(a,b)=1, then $a^{s\cdot \varphi (m)+1}\equiv a$
\subsubsection{Example}
In the following table is possible to find the equivalents of the different subset $\mathbb{Z}_{35_{multiple\; of\;5}}$ multiplication\\
\begin{tabular}{|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|}
\hline
 &\textbf{5}&\textbf{10}&\textbf{15}&\textbf{20}&\textbf{25}&\textbf{30} \\ \hline
\textbf{5}&25&15&5&30&20&10\\ \hline
\textbf{10}&15&30&10&25&5&20\\ \hline
\textbf{15}&5&10&15&20&25&30\\ \hline
\textbf{20}&30&25&20&15&10&5\\ \hline
\textbf{25}&20&5&25&10&30&15\\ \hline
\textbf{30}&10&20&30&5&15&25\\ \hline
\end{tabular}
\\
\\
Then the invariant is I=15, the anti invariant is A=20, the inverse of 5 is 10, the inverse of 25 is 30 the inverse of 20 is 20 and the inverse of 15 is 15

\subsection{The Carmichael number hypothesis }
A hypothesis that could be interesting is $\varphi(m)$ can be substituted by $\Omega(m)=lcm((a-1)a^{\alpha-1},(b-1)b^{\beta-1},(c-1)c^{\gamma},...)$ where $m = a^{\alpha} b^{\beta} c^{\lambda} ...$ The Euler´s Totien function achieves the result a $\varphi(m) \equiv 1$ but it is not necessary the function that gives the minimum value to accomplish this result. The result 3.3 is the sufficient condition to probe that a $\Omega(m) \equiv I$ if a is not co-prime with m, but still must be probed for a co-prime with m. If the hypothesis is true, then the Carmichael numbers are numbers where p-1 is a multiple of $\Omega(n)$. As example, the $\varphi(m)$ of the first Carmichael number is $\varphi(561) = 320$ because $561 = 3 \cdot 11 \cdot 17$. $560/320$ is not an integer and consequently, the Euler theorem cannot explain the Carmichael number. On the other side, his, $\Omega$ value is lcm(2, 10, 16) = 80. It is easy to see that 560/80=7 then all the relative primes n $560 \equiv 1 {\pmod {m}}$. In general, all the Carmichael numbers checked accomplish $\frac{p-1}{\Omega}\equiv integer$




% Bibliografía
\begin{thebibliography}{99}
\bibitem{Varona} Varona Malumbres J. L. (2019). ``Recorridos por la teoría de números 2 edición". Ediciones Electrolibris S.L.
\end{thebibliography}

\end{document}