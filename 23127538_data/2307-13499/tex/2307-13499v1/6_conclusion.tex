
\section{Summary and concluding remarks}
\label{sec:conclusion}

The present paper proposed and applied a heterogeneous extension of the homogeneous GNN model, MPNN \citep{GILMER2017}, to detect money laundering in a large-scale real-world heterogeneous graph. 
The graph is derived from data originating from Norway's largest bank, encompassing 5 million nodes and close to 10 million edges, and comprises customer data, transaction data, and business role data. 
Our heterogeneous MPNN model (HMPNN) incorporates distinct message-passing operators for each combination of node and edge types to account for the graph's heterogeneity. 
Two versions of the model are proposed: HMPNN-sum and HMPNN-ct. 
Notably, HMPNN-ct used a novel strategy for constructing the final node embeddings, as the embeddings from each node-edge operator were concatenated and fed into a final single-layer neural network. Overall, this version outperformed HMPNN-sum as well as all alternative models by a significant margin. HMPNN-sum was, however, the best model at recall = 1\%, i.e.~it was most accurate for the customers assigned the largest probabilities of being suspicious.

As we saw from the overall measures in Figure \ref{fig:AUCres}, all models performed the best when fitted using 3 hidden layers.  We may have gotten even better performance if we increased the number of layers further. However, 3 layers is where we hit the memory roof on our GPU, so we were unable to explore this in practice.
It is worth noting that the HMPNN-ct architecture is also clearly the most successful when we are restricting the number of layers to 2 or 1. This is relevant as larger networks, and/or less computational resources or training time available, may in other situations demand a reduction in the number of layers. From Table \ref{tab:num-parameters} in the Appendix, we also see that apart from the regular neural network model, HMPNN-ct has the fewest number of model parameters of the 3-layer models, indicating that it has an efficient architecture.

Customers labeled as ``regular'' may, in fact, be suspicious and potentially involved in money laundering -- they just haven't been controlled in the existing AML system and are therefore labeled as ``regular''. This scenario holds true for practically all instances of money laundering modeling.
Consequently, if a customer labeled as "regular" is assigned a high probability of being suspicious by the model, it is possible that the customer has been mislabeled.
 As a result, modeling test phases with a labeled test set, as outlined here, can also serve as a means to generate suggestions for customers who warrant further investigation into their past behaviors.
In other words, the modeling approach allows for the identification of customers who may require re-examination based on the model's predictions, even if they were initially labeled as "regular".

When implementing a predictive model for suspicious transactions within a real AML system, several crucial decisions need to be made. 
One vital consideration involves determining the optimal stage in the process (see Figure \ref{fig:alert_workflow}) for applying the predictions: either preceding the alert inspection or preceding the case investigation.
If the predictions are used prior to the alert inspection, it might be preferable to set a classification threshold with a higher recall. On the other hand, if the predictions are applied before the case investigation, it may be more appropriate to select a more stringent threshold, i.e.~that has a lower recall. This would help minimize the allocation of investigation resources towards false positives, leading to greater efficiency.

In order to increase the performance of our money laundering modeling approach, some aspects become readily apparent. 
While our data set is rich in terms of the number of nodes and edges, contains network data from both financial transactions and professional roles, and has a large number of edge and node features, it can always be richer.
In our setup, the transaction edges contain the number and total monetary amount made in the one-year period. This could be refined by also including the standard deviation, median, and other summary statistics like in \citet{JULLUM2020}. 
Moreover, provided high-quality data can be obtained, it would be valuable to include customer links using connections from social media platforms, geographical information such as shared address or phone numbers, or even family relations. 
% Single transactions as edges
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

As mentioned, organizational customers are fewer in number and exhibit less homogeneity compared to individuals, rendering them less suitable for modeling compared to individuals.
It still presents a natural candidate for further work to develop models that make predictions on the bank's organization customers. 
However, to truly see the potential of such a model, we believe that it is essential to expand the dataset in time to include more fraudulent organizations to learn from and enrich the data with more organization-specific features.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
A significant limitation that applies to our work, as well as most endeavors related to money laundering detection, is the restricted nature of the data, which is confined to customers within a single bank. Although our graph includes "external" customers from other banks, the transactions and professional role links between customers in external banks are unavailable. This is primarily due to banks being either unwilling or prohibited from merging their customer information with other banks, due to security regulations or competitive considerations.
Surmounting these data-sharing challenges among prominent financial institutions would enable the modeling of a more comprehensive network of transactions and relationships, leaving fewer hiding places for money launderers. Nevertheless, the administration of such collaborative, analytical, and modeling systems demands substantial resources and investments, a process that may take years to accumulate.

%A limiting restriction for our work, and essentially all initiatives related to detection of money laundering, is that the data are restricted to customers in a single bank. While our graph includes ``external'' customers, i.e.~customers in other bank, transactions and professional role links between these customer are not available. This is a consequence of banks not being willing or allowed to merge their customer information with other banks due to either security issues or competitive considerations. Overcoming such data sharing burdens between significant financial institutions would allow modeling of a more complete transactions and relational graph, with fewer places for the money launderers to hide. However, managing something like this, is probably something we will not see for a quite a few years.

%		- Including additional node features
%		- More edge features (transaction sd, median, quantiles etc) ref jullum et al paper.\citet{JULLUM2020}
%		- graph changes -- each transaction as a separate edge -- VERY big graph computational issues
%		- other relational data: 
%			- geographical information, share address/phone numbers
%			- social media graph (friendships)
%   - Restriction to only DNB customers -- banks collaboration.

In any case, to the best of our knowledge, no scientific work has been published regarding the utilization of heterogeneous graph neural networks in the context of detecting money laundering on a large-scale real-world graph. 
This paper should be viewed as a first attempt to leverage heterogeneous GNN architecture within AML and has showcased promising outcomes.
We envision that our paper will provide invaluable perspectives and directions for scholars and professionals engaged in money laundering modeling. Ultimately, we hope this contribution will aid in the continuous endeavors to combat money laundering.


%It is clear that our procedure for extending the homogeneous GNN model to handle heterogeneous graphs, can be applied to other base architectures than MPNN and GraphSage. 
%The \textit{Metapath Aggregated Graph Neural Network} (MAGNN) model \citep{FU2020MAGNN} is one architecture of particular interest. It is related to, and extends the \textit{Heterogeneous Graph Attention Network} HAN \citep{WANG2019}. As its name reveals, the method aggregates node and edge features along metapaths to capture the heterogeneity of the graph, and the authors reports very good 



%NOTES BELOW HERE 

%- We may have gotten an even better model if we increased the number of layers above 3. However, the more layers, the larger the model is, and the more computational training time and most importantly more memory on the GPU is required. We hit the roof for our GPU on 3 layers. 
%Det er verdt Ã¥ merke seg that if we our training time/GPU memory was even more limited, and we were restricted to only 2 layers, HMPNN-ct would still be the best model. From Table ... , we also see that apart from the regular neural network model, HMPNN-ct has the fewest number of model parameters, indicating that it has an efficient architecture.

%- Further work: 
%	- More data sources (if we can say something like that)
%		- Including additional node features
%		- More edge features (transaction sd, median, quantiles etc) ref jullum et al paper.
%		- graph changes -- each transaction as a separate edge -- VERY big graph computational issues
%		- other relational data: 
%			- geographical information, share address/phone numbers
%			- social media graph (friendships)
%   - Apply the modeling procedure and architectural trick in the last layer to other GNN models as well. MAGNN
%
%- REAL, REALISITIC SIZED DATA SET!


