%!TeX root = ../lmcs-gandalf22.tex


\section{Related work}
\label{sec:related}

The paradigm of timeline-based planning has been first introduced to plan and schedule scientific operations of the Hubble space telescope~\cite{Muscettola94}. In the following two decades, many timeline-based planning systems have been developed both at NASA and ESA, including EUROPA~\cite{BedraxWeissGBEI05}, ASPEN~\cite{ChienRKSEMESFBST00}, and APSI~\cite{DonatiPCFOCPSRNS08}. Such systems have been used both for short- to long-term mission planning, \eg for the renowned Rosetta mission~\cite{ChienRTTDNASVGA15}, and for onboard autonomy~\cite{FratiniCORD11}. Elements of the timeline-based and the action-based paradigm have been combined into the Action Notation Modeling Language (ANML)~\cite{SmithFC08}, extensively used at NASA since then.

Despite the real-world success, the timeline-based planning paradigm lacked a
thorough foundational understanding in contrast to the action-based paradigm, which
has been extensively studied from a theoretical perspective from the
start~\cite{McCarthyH69,Bylander94}. To enable theoretical investigations into
timeline-based planning, Cialdea Mayer \etal~\cite{CialdeaMayerOU16} laid down
the core features of the paradigm, describing them in a uniform formalism, which
has  been later studied in several contributions. The formalism was compared to
traditional action-based languages like STRIPS, and it was proved that the
latter are expressible by timeline-based languages~\cite{GiganteMMO16}. The
timeline-based plan existence problem was proved to be
\EXPSPACE-complete~\cite{GiganteMMO17} over discrete time in the general case,
and \PSPACE-complete with qualitative constraints \cite{DellaMonicaGTM20}. On
dense time, the problem goes from being \NP-complete to undecidable, depending
on the applied syntactic restrictions~\cite{BozzelliMMPW20}. Additionally,
logical~\cite{DellaMonicaGMSS17} and automata-theoretic~\cite{DellaMonicaGMS18}
counterparts have been investigated to study the expressiveness of timeline-based
languages.

The above body of work focuses on \emph{deterministic} timeline-based planning domains. However, the paradigm also fits to \emph{uncertain} domains requiring robust plans. Current timeline-based planning systems employ the concept of \emph{flexible timelines}, described as including uncertainty in the timings of events, representing envelopes of possible executions of the plan. Planners, when possible, produce \emph{strongly controllable} flexible plans, whose execution is then robust for the given temporal uncertainty. In order to obtain controllers for executing strongly controllable flexible plans, the problem can be simplified by reducing it to \emph{timed game automata}~\cite{OrlandiniFCF11}.

While the current approach works fairly well in handling temporal uncertainty, it does not support scenarios where the environment is fully nondeterministic. Furthermore, as pointed out in \cite{GiganteMOCR20}, the language of timeline-based planning as formalized in \cite{CialdeaMayerOU16} allows one to write domains that are not solvable by strongly controllable flexible plans, but that may easily be by strategies coping with general nondeterminism. For this reason, \cite{GiganteMOCR20} introduced the concept of \emph{timeline-based game}, which is the focus of this work. Timeline-based games adopt a game-theoretic point of view, where the controller and the environment play by constructing timelines, with the controller trying to fulfill its synchronization rules independently from the choices of the environment. This setting allows one to handle both temporal uncertainty and general nondeterminism, thus strictly generalizing previous approaches based on flexible timelines. In \cite{GiganteMOCR20}, the problem of deciding the existence of a winning strategy for a given timeline-based game has been proved to be \EXPTIME[2]-complete. The proof is based on the construction of a \emph{concurrent game structure} where a suitable \emph{alternating-time temporal logic} formula is model checked~\cite{AlurHK02}. However, the construction relies on nondeterministic procedures that are not effectively implementable, and thus it does not solve the problem of synthesizing actual controllers for timeline-based games. This work fills the gap by providing a constructive and effective synthesis algorithm.

The devised algorithm builds on classical results in the field of \emph{reactive synthesis}, which studies how to build correct-by-construction controllers satisfying high-level logical specifications. The original formulation of the problem of reactive synthesis is due to Church~\cite{church1962logic}. The problem  for \emph{S1S} specifications was later solved by BÃ¼chi and Landweber using a non-elementary complexity algorithm~\cite{buchi1990solving}. As for Linear Temporal Logic (LTL) specifications, the problem is \EXPTIME[2]-complete \cite{pnueli1989synthesis,rosner1992modular}, which, interestingly,  is the same complexity of timeline-based games. In both cases, the core of the synthesis algorithm is the construction of a \emph{deterministic} arena, where the game can be solved with a fix-point computation. This work focuses on constructing such an arena (\cref{sec:automaton,sec:games}).