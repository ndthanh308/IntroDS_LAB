% provide the letter sha:
\usepackage[OT2,T1]{fontenc}
\DeclareSymbolFont{cyrletters}{OT2}{wncyr}{m}{n}
\DeclareMathSymbol{\sha}{\mathalpha}{cyrletters}{"58}

% curves, surfaces, etc. (caligraphic)
\renewcommand{\AA}{\mathcal{A}}
\newcommand{\BB}{\mathcal{B}}
\newcommand{\CC}{\mathcal{C}}
\newcommand{\CCbar}{\overline{\mathcal{C}}}
\newcommand{\DD}{\mathcal{D}}
\newcommand{\DDbar}{\overline{\mathcal{D}}}
\newcommand{\JJ}{\mathcal{J}}
\newcommand{\KK}{\mathcal{K}}
\newcommand{\QQ}{\mathcal{Q}}
\renewcommand{\SS}{\mathcal{S}}
\newcommand{\TT}{\mathcal{T}}
\newcommand{\UU}{\mathcal{U}}
\newcommand{\VV}{\mathcal{V}}
\newcommand{\XX}{\mathcal{X}}
\newcommand{\XXbar}{\overline{\mathcal{X}}}
\newcommand{\YY}{\mathcal{Y}}
\newcommand{\YYbar}{\overline{\mathcal{Y}}}
\newcommand{\ZZ}{{\mathcal{Z}}}
\newcommand{\WW}{{\mathcal{W}}}
\newcommand{\GG}{{\mathcal{G}}}
\newcommand{\HH}{{\mathcal{H}}}
\newcommand{\hh}{\mathcal{h}}
\newcommand{\Curve}{\mathcal{C}}
\renewcommand{\O}{\mathcal{O}}
\newcommand{\FF}{\mathcal{F}}
\newcommand{\EE}{\mathcal{E}}
\newcommand{\EEbar}{\overline{\mathcal{E}}}
\newcommand{\LL}{\mathcal{L}}
\newcommand{\MM}{\mathcal{M}}
\newcommand{\NN}{\mathcal{N}}
\newcommand{\OO}{\mathcal{O}}

% fields, rings, groups (bold)
\newcommand{\F}{\mathbb{F}}
\newcommand{\Fp}{{\mathbb{F}_p}}
\newcommand{\Fptimes}{{\mathbb{F}_p^\times}}
\newcommand{\Fq}{{\mathbb{F}_q}}
\newcommand{\Fqn}{{\mathbb{F}_{q^n}}}
\newcommand{\Fqtimes}{{\mathbb{F}_q^\times}}
\newcommand{\Fbar}{{\overline{\mathbb{F}}}}
\newcommand{\Fpbar}{{\overline{\mathbb{F}}_p}}
\newcommand{\Fpbartimes}{{\overline{\mathbb{F}}_p^\times}}
\newcommand{\Fqbar}{{\overline{\mathbb{F}}_q}}
\newcommand{\Fpf}{{\mathbb{F}}_{p^f}}
\newcommand{\Qbar}{{\overline{\mathbb{Q}}}}
\newcommand{\kbar}{{\overline{k}}}
\newcommand{\Kbar}{{\overline{K}}}
\newcommand{\ratto}{{\dashrightarrow}}
\newcommand{\Ql}{{\mathbb{Q}_\ell}}
\newcommand{\Zl}{{\mathbb{Z}_\ell}}
\newcommand{\Qlbar}{{\overline{\mathbb{Q}}_\ell}}
\newcommand{\Qp}{{\mathbb{Q}_p}}
\newcommand{\Qpbar}{{\overline{\mathbb{Q}}_p}}
\newcommand{\Zp}{{\mathbb{Z}_p}}
\newcommand{\Zhatp}{{\hat\Z^{(p)}}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Zhat}{\hat{\mathbb{Z}}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\A}{\mathbb{A}}
\renewcommand{\P}{\mathbb{P}}
\newcommand{\Ksep}{K^{sep}}
\newcommand{\ksep}{k^{sep}}

% overlines
\newcommand{\xbar}{{\overline{x}}}
\newcommand{\vbar}{{\overline{v}}}
\newcommand{\Vbar}{{\overline{V}}}
\newcommand{\zbar}{{\overline{z}}}
\newcommand{\Xbar}{\overline{X}}
\newcommand{\etabar}{\overline{\eta}}

% ideals, divisors, etc (mostly frak)
\newcommand{\f}{\mathfrak{f}}
\renewcommand{\d}{\mathfrak{d}}
\newcommand{\m}{\mathfrak{m}}
\newcommand{\n}{\mathfrak{n}}
\newcommand{\p}{\mathfrak{p}}
\renewcommand{\a}{{\mathbf{a}}}
\newcommand{\AF}{\mathcal{A}}
\newcommand{\K}{K}
\newcommand{\T}{\mathcal{T}}
\newcommand{\Nbar}{\overline{N}}



%% abbreviations/alternate names
\newcommand{\<}{\langle}
\renewcommand{\>}{\rangle}
\newcommand{\into}{\hookrightarrow}
\newcommand{\onto}{\twoheadrightarrow}
\newcommand{\isoto}{\,\tilde{\to}\,}
\newcommand{\longisoto}{\,\tilde{\longrightarrow}\,}
\newcommand{\tensor}{\otimes}
\newcommand{\compose}{\circ}
\newcommand{\sdp}{{\rtimes}}
\newcommand{\nodiv}{\not|}
\renewcommand{\implies}{\Rightarrow}
\renewcommand{\iff}{\Leftrightarrow}
%% ?? is this necessary ??
\def\nodiv{\mathrel{\mathchoice{\not|}{\not|}{\kern-.2em\not\kern.2em|}
{\kern-.2em\not\kern.2em|}}}
\newcommand{\PGL}{\mathrm{PGL}}
\newcommand{\PSL}{\mathrm{PSL}}
\newcommand{\SL}{\mathrm{SL}}
\newcommand{\GL}{\mathrm{GL}}
\newcommand{\Sp}{\mathrm{Sp}}
\newcommand{\G}{\mathbb{G}}

\newcommand{\labeledto}[1]{\overset{#1}{\to}}
\newcommand{\labeledlongto}[1]{\overset{#1}{\longrightarrow}}

\newcommand{\pfrac}[2]{\genfrac{(}{)}{}{}{#1}{#2}}
\newcommand{\smat}[1]{\begin{smallmatrix}#1\end{smallmatrix}}
\newcommand{\psmat}[1]{\bigl(\begin{smallmatrix}#1\end{smallmatrix}\bigr)}
\newcommand{\pmat}[1]{\begin{pmatrix}#1\end{pmatrix}}

%% operators
\DeclareMathOperator{\inv}{inv}
\DeclareMathOperator{\id}{Id}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\coker}{Coker}
\DeclareMathOperator{\coim}{Coim}
\DeclareMathOperator{\tr}{Tr}
\DeclareMathOperator{\N}{N}
\DeclareMathOperator{\res}{Res}
\DeclareMathOperator{\ind}{Ind}
\DeclareMathOperator{\fun}{Fun}
\DeclareMathOperator{\cond}{Cond}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\rk}{Rank}
\DeclareMathOperator{\reg}{Reg}
\DeclareMathOperator{\dvsr}{div}
\DeclareMathOperator{\RP}{Re}
\DeclareMathOperator{\ext}{Ext}
%\renewcommand{\hom}{\mathop{\mathrm{Hom}}}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\aut}{Aut}
\DeclareMathOperator{\Pic}{Pic}
\DeclareMathOperator{\divcorr}{DivCorr}
\DeclareMathOperator{\Picf}{\underline{Pic}}
\DeclareMathOperator{\Picvar}{PicVar}
\DeclareMathOperator{\NS}{NS}
\DeclareMathOperator{\MW}{MW}
\DeclareMathOperator{\Reg}{Reg}
\DeclareMathOperator{\num}{Num}
\DeclareMathOperator{\Br}{Br}
\DeclareMathOperator{\stab}{Stab}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\gal}{Gal}
\DeclareMathOperator{\spec}{Spec}
\DeclareMathOperator{\proj}{Proj}
\DeclareMathOperator{\en}{End}
\DeclareMathOperator{\mor}{Mor}
\DeclareMathOperator{\disc}{Disc}
\DeclareMathOperator{\divr}{div}
%\DeclareMathOperator{\divr}{Div}
\DeclareMathOperator{\sgn}{Sign}
\DeclareMathOperator{\Swan}{Swan}
\DeclareMathOperator{\Sel}{Sel}
\DeclareMathOperator{\Fr}{Fr}
\DeclareMathOperator{\ch}{Char}
\DeclareMathOperator{\len}{Len}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Proj}{Proj}
\DeclareMathOperator{\Car}{Car}
\DeclareMathOperator{\fil}{Fil}
\DeclareMathOperator{\gr}{Gr}
\DeclareMathOperator{\sym}{Sym}

%% from Alex Perlis
% For comparison, the existing overlap macros: 
% \def\llap#1{\hbox to 0pt{\hss#1}} 
% \def\rlap#1{\hbox to 0pt{#1\hss}} 
\def\clap#1{\hbox to 0pt{\hss#1\hss}} 
\def\mathllap{\mathpalette\mathllapinternal} 
\def\mathrlap{\mathpalette\mathrlapinternal} 
\def\mathclap{\mathpalette\mathclapinternal} 
\def\mathllapinternal#1#2{% 
\llap{$\mathsurround=0pt#1{#2}$}} 
\def\mathrlapinternal#1#2{% 
\rlap{$\mathsurround=0pt#1{#2}$}} 
\def\mathclapinternal#1#2{% 
\clap{$\mathsurround=0pt#1{#2}$}} 


% https://tex.stackexchange.com/questions/235118/making-a-thicker-cdot-for-dot-product-that-is-thinner-than-bullet
% uses package graphicx
\makeatletter
\newcommand*\bigcdot{\mathpalette\bigcdot@{.5}}
\newcommand*\bigcdot@[2]{\mathbin{\vcenter{
               \hbox{\scalebox{#2}{$\m@th#1\bullet$}}}}}
\makeatother
