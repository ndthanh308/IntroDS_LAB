\RequirePackage{mathtools,amssymb}
\RequirePackage{multidef,xspace}
\RequirePackage{boxedminipage}
\RequirePackage{stmaryrd}
\SetSymbolFont{stmry}{bold}{U}{stmry}{m}{n}
\RequirePackage{colonequals}
\RequirePackage{dsfont}
\let\mathbb\mathds
\RequirePackage{tikz}
\usetikzlibrary{arrows,calc,shapes}
\RequirePackage{todonotes}
\RequirePackage{algorithm}
\RequirePackage[noend]{algpseudocode}
\RequirePackage{wasysym}
%\RequirePackage{caption, subcaption}

%% numbering of thm-like environments
%\@ifundefined{theorem}{%
%	\newtheorem{theorem}{Theorem}
%	\newtheorem{definition}{Definition}
%	\newtheorem{corollary}{Corollary}
%	\newtheorem{lemma}{Lemma}
%	\newtheorem{remark}{Remark}
%	\newtheorem{proposition}{Proposition}
%	\newtheorem{example}{Example}	
%	\newtheorem{claim}{Claim}
%	\newtheorem{observation}{Observation}
%	\newtheorem{problem}{Problem}}
%\let\c@definition\c@theorem
%\let\c@lemma\c@theorem
%\let\c@corollary\c@theorem
%\let\c@remark\c@theorem
%\let\c@example\c@theorem
%\let\c@proposition\c@theorem

\let\saveendexample\endexample
\def\endexample{\qed\saveendexample}

%% multidef
\multidef{\textsf{#1}\xspace}{NP,PSPACE,PTIME,EXPTIME,EXPSPACE}
\multidef{\textsf{#1}\xspace}{cost,src,tgt,outcome,Outcome->outcome,Paths,
  load,dev,val,opt,poa->PoA,pos->PoS,pun,pref,@soccost->soccost,edgecost->f,
  sfT->T}
\newcommand\soccost[1][]{\ifx\relax#1\relax\else\ensuremath{\
		{#1}\textsf-}\fi
  \ensuremath{\@soccost}\xspace}
\multidef[p=cal]{\ensuremath{\mathcal{#1}\xspace}}{A-Z}
\multidef[p=bf]{\ensuremath{\mathbf{#1}\xspace}}{e}
\multidef[p=frak]{\ensuremath{\mathfrak{#1}\xspace}}{A-Z}
\multidef[p=vec]{\ensuremath{\vec{#1}\xspace}}{a-z}
\newcommand\optbb[1]{%
  \@ifnextchar+{\ensuremath{\mathbb{#1}_{\geq 0}}%
    \afterassignment\xspace\let\next=}
               {\@ifnextchar*{\ensuremath{\mathbb{#1}_{>0}}%
                   \afterassignment\xspace\let\next=}
                             {\ensuremath{\mathbb{#1}}\xspace}}}
\multidef[p=bb]{\optbb{#1}}{A,B,C,H,N,Q,R,T,Z,One->1,one->1}
\multidef[arg=1]{\hbox to 0pt{\color{#1}\checkmark\hss}%
  \marginpar{\color{#1}##1}}{NM->green!60!black,NB->blue,SuS->red,OS->orange}

%\newcommand{\edgecost}{\textsf{c}} %cost function on an edge

%% Variant
\newcounter{cNM}
\newcounter{cNB}
\newcounter{cSS}
\newcounter{cOS}
\newcounter{cGA}
\def\thecNM{\arabic{cNM}}
\def\NM{\@ifstar\NMi\NMm}
\newcommand{\NMm}[1]{\stepcounter{cNM}\bgroup\color{green!70!black}%
  \vbox to 0pt{\vskip-4mm\hbox to 0pt{\checkmark\thecNM}\vskip4mm}%
  \marginpar{\color{green!70!black}NM\thecNM: #1}\egroup}
\newcommand{\NMi}[1]{\stepcounter{cNM}\bgroup\color{green!70!black}%
  \par\noindent\begin{boxedminipage}{\textwidth}{\color{green!70!black}NM\thecNM: #1}%
  \end{boxedminipage}\egroup}
\def\thecNB{\arabic{cNB}}
\def\NB{\@ifstar\NBi\NBm}
\newcommand{\NBm}[1]{\stepcounter{cNB}\bgroup\color{cyan}%
  \vbox to 0pt{\vskip-4mm\hbox to 0pt{\checkmark\thecNB}\vskip4mm}%
  \marginpar{\color{cyan}NB\thecNB: #1}\egroup}
\newcommand{\NBi}[1]{\stepcounter{cNB}\bgroup\color{cyan}%
  \fbox{\color{cyan}NB\thecNB: #1}\egroup}



%\newcommand{\SSm}[1]{\stepcounter{cSS}\bgroup\color{red}%
	%\vbox to 0pt{\vskip-4mm\hbox to 0pt{\checkmark\thecSS}\vskip4mm}%
	%\marginpar{\color{red}SS\thecSS: #1}\egroup}

%\newcommand{\GAm}[1]{\stepcounter{cGA}\bgroup\color{cyan}%
	%	\vbox to 0pt{\vskip-4mm\hbox to 0pt{\checkmark\thecGA}\vskip4mm}%
	%	\marginpar{\color{cyan}GA\thecGA: #1}\egroup}

\def\thecSS{\arabic{cSS}}
\def\SS{\@ifstar\SSi}


\def\thecGA{\arabic{cGA}}
\def\GA{\@ifstar\GAi}

%%%%When comments need to be shown

%\newcommand{\SSi}[1]{\stepcounter{cSS}\bgroup\color{red}%
%\fbox{\color{red}SS\thecSS: #1}\egroup}
%%
%%
%%
%%
%\newcommand{\GAi}[1]{\stepcounter{cGA}\bgroup\color{cyan}%
%	\fbox{\color{cyan}GA\thecGA: #1}\egroup}

%%%When comments need to shut off


\newcommand{\SSi}[1]{}
\newcommand{\GAi}[1]{}



%% tuples
\def\NM@tuple@pen{\penalty-1000}
\def\NM@tuple@ldelim{\langle}
\def\NM@tuple@rdelim{\rangle}
\def\NM@tuple#1,#2,#3,#4\@NMendtuple{\def\NM@ux{#3}%
  #1
  \ifx\relax#2\relax\else,%
    \ifx\relax#3\relax\else
    \NM@tuple@pen@\let\NM@tuple@pen@\NM@tuple@pen
    \fi
    \NM@tuple #2,#3,#4\@NMendtuple
  \fi}
\def\tuple#1{\let\NM@tuple@pen@\relax
  \NM@tuple@ldelim\penalty10000\relax
  \NM@tuple #1,\relax,\relax,\relax\@NMendtuple
  \penalty10000\relax\NM@tuple@rdelim}

%% tikz
\colorlet{draw-bleu}{blue}
\colorlet{fill-bleu}{blue!40!white}
\colorlet{draw-rouge}{red}
\colorlet{fill-rouge}{red!40!white}
\colorlet{draw-vert}{green!80!black}
\colorlet{fill-vert}{green!80!black!20!white}
\colorlet{draw-jaune}{yellow!80!black}
\colorlet{fill-jaune}{yellow!80!black!20!white}
\colorlet{draw-violet}{blue!50!red}
\colorlet{fill-violet}{blue!50!red!40!white}
\colorlet{draw-gris}{white!60!black}
\colorlet{fill-gris}{white!90!black}
\colorlet{draw-grisf}{white!30!black}
\colorlet{fill-grisf}{white!70!black}
\tikzstyle{rond1}=[draw,circle,minimum size=1.5mm,inner sep=1pt]
\tikzstyle{rond2}=[draw,circle,minimum size=2.5mm,inner sep=1pt]
\tikzstyle{rond5}=[draw,circle,minimum size=5mm,inner sep=1pt]
\tikzstyle{rond6}=[draw,circle,minimum size=6mm,inner sep=1pt]
\tikzstyle{rond7}=[draw,circle,minimum size=6mm,inner sep=1pt]
\tikzstyle{rond}=[draw,circle,minimum height=7mm]
\tikzstyle{rect} = [draw, rectangle, minimum size = 5mm, inner sep = 1pt]
\tikzstyle{diam} = [draw, diamond, minimum size = 5mm, inner sep = 1pt]
\tikzstyle{carre3}=[draw,minimum width=3mm,minimum height=3mm,inner sep=0pt]
\tikzstyle{carre4}=[draw,minimum width=4mm,minimum height=4mm,inner sep=0pt]
\tikzstyle{carre5}=[draw,minimum width=5mm,minimum height=5mm,inner sep=1pt]
\tikzstyle{carre6}=[draw,minimum width=6mm,minimum height=6mm,inner sep=1pt]
\tikzstyle{carre}=[draw,minimum width=6mm,minimum height=6mm,inner sep=1pt]
\tikzstyle{rouge}=[draw=draw-rouge,fill=fill-rouge]
\tikzstyle{vert}=[draw=draw-vert,fill=fill-vert]
\tikzstyle{jaune}=[draw=draw-jaune,fill=fill-jaune]
\tikzstyle{bleu}=[draw=draw-bleu,fill=fill-bleu]
\tikzstyle{violet}=[draw=draw-violet,fill=fill-violet]
\tikzstyle{gris}=[draw=draw-gris,fill=fill-gris]
\tikzstyle{grisf}=[draw=draw-grisf,fill=fill-grisf]


%\tikzset{
%	smiley/.style = \tikz[baseline=-0.75ex,black]{
%		\draw circle (2mm);
%		\node[fill,circle,inner sep=0.5pt] (left eye) at (135:0.8mm) {};
%		\node[fill,circle,inner sep=0.5pt] (right eye) at (45:0.8mm) {};
%		\draw[-] (-145:0.9mm) arc (-120:-60:1.5mm);
%	}}
%\newcommand{\smiley}{\tikz[baseline=-0.75ex,black]{
%		\draw circle (2mm);
%		\node[fill,circle,inner sep=0.5pt] (left eye) at (135:0.8mm) {};
%		\node[fill,circle,inner sep=0.5pt] (right eye) at (45:0.8mm) {};
%		\draw[-] (-145:0.9mm) arc (-120:-60:1.5mm);
%	}
%}


%%
\def\set #1{\ensuremath{\llbracket#1\rrbracket}}
%\newcommand{\xRightarrow}[2][]{\ext@arrow 0359\Rightarrowfill@{#1}{#2}}
\def\prefix{\leq_{\pref}}
\def\negraph{\calG_{\tuple{\calA,n},\vec{\gamma}}}
\def\LambdaSet{\Gamma}
\def\SE{Z}
\def\maxb{\mathord{\mathord{\max}b}}
\def\finsup{\textsf{finsup}}


%\NewDocumentCommand{\setofpaths}{g}{\texttt{Paths}_{\IfNoValueTF{#1}{}{#1}}}

%
%\def\pathstrset{\frakB_{path}}
%\def\edgestrset{\frakB_{edge}}
%
%\NewDocumentCommand{\pathNEset}{g}{\frakN_{\texttt{path}}^{\IfNoValueTF{#1}{}{#1}}}
%\NewDocumentCommand{\edgeNEset}{g}{\frakN_{\texttt{edge}}^{\IfNoValueTF{#1}{}{#1}}}
%%\newcommand{\edgeNEset}[1]{\frakN_#1^{\texttt{edge}}}
%\NewDocumentCommand{\pathtoedgepr}{g}{\LambdaSet\IfNoValueTF{#1}{}{(#1)}}


\def\coverp{\mathsf{CovP}}
\def\pra{\textbf{PrA~}}

\newcommand{\edgeprf}[1]{\textbf{EdgeProfile}(#1)}
\newcommand{\pathprf}[1]{\textbf{PathProfile}(#1)}
\newcommand{\pathnef}[1]{\textbf{PathNE}(#1)~}
\newcommand{\edgenef}[1]{\textbf{EdgeNE}(#1)~}
\newcommand{\gammaf}[1]{\mathbf{\Gamma}(#1)~}


\newcommand{\Out}[1]{Out(#1)}
\newcommand{\In}[1]{In(#1)}


\newcommand{\seriescomp}[2]{#1 \oplus #2}
\newcommand{\parallelcomp}[2]{#1 \mathbin{\|} #2}
