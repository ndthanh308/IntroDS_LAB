\usepackage{amsmath,amsthm,amssymb}
\usepackage{mathtools,bbm,xspace}
\usepackage{paralist}
\usepackage[letterpaper, margin=1in]{geometry}
\linespread{1}

\usepackage{algorithm}
\usepackage{algpseudocode}


\usepackage{newpxtext}
\usepackage{newpxmath}

\usepackage[pagebackref]{hyperref}

\usepackage[dvipsnames]{xcolor}
\hypersetup{
pagebackref,
letterpaper=true,
colorlinks=true,
urlcolor=blue,
linkcolor=blue,
citecolor=OliveGreen,
}

\usepackage{enumerate}
\usepackage{multirow}
\usepackage{paralist}


\allowdisplaybreaks

\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}

\newtheorem{theorem}{Theorem}[section]
\newtheorem*{theorem*}{Theorem}
\newtheorem{hypothesis}[theorem]{Hypothesis}

\newtheorem{proposition}[theorem]{Proposition}
\newtheorem*{proposition*}{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem*{lemma*}{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem*{conjecture*}{Conjecture}
\newtheorem{fact}[theorem]{Fact}
\newtheorem*{fact*}{Fact}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{claim}[theorem]{Claim}
\newtheorem*{claim*}{Claim}

\newtheorem{remark}[theorem]{Remark}
\newtheorem*{remark*}{Remark}




\newcommand{\Cov}{\mathbf{Cov}}
\DeclareMathOperator*{\E}{\mathbf{E}}
\let\Pr\undefined
\DeclareMathOperator*{\Pr}{\mathbf{Pr}}
\DeclareMathOperator*{\Var}{\mathbf{Var}}
\newcommand{\pE}{\widetilde{\mathbf{E}}}
\DeclareMathOperator{\Ber}{\mathrm{Ber}}

% miscellaneous shortcuts
\newcommand{\Ind}{\boldsymbol{1}}
\newcommand{\supp}{\mathrm{supp}}
\newcommand{\dom}{\mathrm{domain}}
\newcommand{\tr}{\operatorname{tr}}
\newcommand{\diag}{\operatorname{diag}}

\newcommand{\lam}{\lambda}
\newcommand{\dleta}{\delta}
\newcommand{\simga}{\sigma}
\newcommand{\vphi}{\varphi}
\newcommand{\la}{\langle}
\newcommand{\ra}{\rangle}
\newcommand{\wt}[1]{\widetilde{#1}}
\newcommand{\wh}[1]{\widehat{#1}}
\newcommand{\ol}[1]{\overline{#1}}
\newcommand{\ul}[1]{\underline{#1}}
\newcommand{\ot}{\otimes}
\newcommand{\tensor}{\otimes}
\newcommand{\co}{:}  
\newcommand{\grad}{\nabla}
\newcommand{\symmdiff}{\triangle} \newcommand{\symdiff}{\symmdiff}


\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

% better looking epsilon
\newcommand{\eps}{\varepsilon}
\newcommand{\e}{\eps}

\newcommand{\calA}{\mathcal A}
\newcommand{\calB}{\mathcal B}
\newcommand{\calC}{\mathcal C}
\newcommand{\calD}{\mathcal D}
\newcommand{\calE}{\mathcal E}
\newcommand{\calF}{\mathcal F}
\newcommand{\calG}{\mathcal G}
\newcommand{\calH}{\mathcal H}
\newcommand{\calI}{\mathcal I}
\newcommand{\calJ}{\mathcal J}
\newcommand{\calK}{\mathcal K}
\newcommand{\calL}{\mathcal L}
\newcommand{\calM}{\mathcal M}
\newcommand{\calN}{\mathcal N}
\newcommand{\calO}{\mathcal O}
\newcommand{\calP}{\mathcal P}
\newcommand{\calQ}{\mathcal Q}
\newcommand{\calR}{\mathcal R}
\newcommand{\calS}{\mathcal S}
\newcommand{\calT}{\mathcal T}
\newcommand{\calU}{\mathcal U}
\newcommand{\calV}{\mathcal V}
\newcommand{\calW}{\mathcal W}
\newcommand{\calX}{\mathcal X}
\newcommand{\calY}{\mathcal Y}
\newcommand{\calZ}{\mathcal Z}

\newcommand{\bbB}{\mathbb B}
\newcommand{\bbS}{\mathbb S}
\newcommand{\bbR}{\mathbb R}
\newcommand{\bbZ}{\mathbb Z}
\newcommand{\bbI}{\mathbb I}
\newcommand{\bbQ}{\mathbb Q}
\newcommand{\bbP}{\mathbb P}
\newcommand{\bbE}{\mathbb E}

% number systems
\newcommand{\R}{\mathbbm R}
\newcommand{\C}{\mathbbm C}
\newcommand{\N}{\mathbbm N}
\newcommand{\Z}{\mathbbm Z}
\newcommand{\F}{\mathbbm F}
\newcommand{\Q}{\mathbbm Q}

\newcommand{\bone}{\boldsymbol{1}}

% bold calligraphic
\newcommand{\bcalG}{\boldsymbol{\calG}} \newcommand{\calbG}{\bcalG}
\newcommand{\bcalH}{\boldsymbol{\calH}}
\newcommand{\bcalI}{\boldsymbol{\calI}}
\newcommand{\bcalK}{\boldsymbol{\calK}}
\newcommand{\bcalX}{\boldsymbol{\calX}} \newcommand{\calbX}{\bcalX}
\newcommand{\bcalY}{\boldsymbol{\calY}} \newcommand{\calbY}{\bcalY}
\newcommand{\bcalZ}{\boldsymbol{\calZ}} \newcommand{\calbZ}{\bcalZ}
\newcommand{\bcalQ}{\boldsymbol{\calQ}}


\renewcommand{\le}{\leqslant}
\renewcommand{\leq}{\leqslant}
\renewcommand{\ge}{\geqslant}
\renewcommand{\geq}{\geqslant}

\newcommand{\psdge}{\succeq}
\newcommand{\psdg}{\succ}
\newcommand{\psdle}{\preceq}
\newcommand{\psdl}{\prec}


\DeclarePairedDelimiter\parens{\lparen}{\rparen}
\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiter\norm{\lVert}{\rVert}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\braces{\lbrace}{\rbrace}
\DeclarePairedDelimiter\bracks{\lbrack}{\rbrack}
\DeclarePairedDelimiter\angles{\langle}{\rangle}

\newcommand{\Abs}[1]{\left | #1 \right |}

\newcommand{\rv}[1]{\boldsymbol{#1}}
\newcommand{\bbone}{\mathbbm 1}
\newcommand{\Id}{\mathbf{I}}

\renewcommand{\emph}{\textit}


\newcommand{\ov}{\mathrm{ov}}
\newcommand{\avg}{\mathop{\mathrm{avg}}}
\newcommand{\sgn}{\mathop{\mathrm{sign}}}

\newcommand{\OPT}{\mathrm{OPT}}
\newcommand{\VSTAT}{\mathrm{VSTAT}}
\newcommand{\SDA}{\mathrm{SDA}}
\newcommand{\LDLR}{\mathrm{LDLR}}
\newcommand{\LR}{\mathrm{LR}}

\newcommand{\NP}{\mathsf{NP}}

\DeclareMathOperator{\poly}{\mathrm{poly}}
\DeclareMathOperator{\polylog}{\mathrm{polylog}}
\newcommand{\unif}{\textsf{Unif}}
\newcommand{\vstat}{\textsf{VSTAT}}

\newcommand{\iprod}[1]{\left \langle #1 \right \rangle}
\newcommand{\Paren}[1]{\left ( #1 \right ) }
\newcommand{\mper}{\, .}

\let\oldemptyset\emptyset
\let\emptyset\varnothing


\setcounter{tocdepth}{2}


\newcommand\MYcurrentlabel{xxx}

% \MYstore{A}{B} assigns variable A value B
\newcommand{\MYstore}[2]{%
  \global\expandafter \def \csname MYMEMORY #1 \endcsname{#2}%
}

% \MYload{A} outputs value stored for variable A
\newcommand{\MYload}[1]{%
  \csname MYMEMORY #1 \endcsname%
}

% new label command, stores current label in \MYcurrentlabel
\newcommand{\MYnewlabel}[1]{%
  \renewcommand\MYcurrentlabel{#1}%
  \MYoldlabel{#1}%
}

% new label command that doesn't do anything
\newcommand{\MYdummylabel}[1]{}

\newcommand{\torestate}[1]{%
  % overwrite label command
  \let\MYoldlabel\label%
  \let\label\MYnewlabel%
  #1%
  \MYstore{\MYcurrentlabel}{#1}%
  % restore old label command
  \let\label\MYoldlabel%
}
\newcommand{\restatelemma}[1]{%
  % overwrite label command with dummy
  \let\MYoldlabel\label
  \let\label\MYdummylabel
  \begin{lemma*}[Restatement of Lemma~\ref{#1}]
    \MYload{#1}
  \end{lemma*}
  \let\label\MYoldlabel
}
\newcommand{\restateclaim}[1]{%
  % overwrite label command with dummy
  \let\MYoldlabel\label
  \let\label\MYdummylabel
  \begin{claim*}[Restatement of Claim~\ref{#1}]
    \MYload{#1}
  \end{claim*}
  \let\label\MYoldlabel
}

\newcommand{\restatetheorem}[1]{%
  % overwrite label command with dummy
  \let\MYoldlabel\label
  \let\label\MYdummylabel
  \begin{theorem*}[Restatement of Theorem~\ref{#1}]
    \MYload{#1}
  \end{theorem*}
  \let\label\MYoldlabel
}

\newcommand{\Snote}[1]{{\color{red} Sam: #1}}

\newcommand{\Dnote}[1]{{\color{blue} Daniel: #1}}