\documentclass{standalone}

\input{preambol}

\begin{document}

\begin{tikzpicture}[node distance=2cm]
\sf

\node[coordinate](O) at (0,0){}; % origine
\node[FRAME,col10](I1) at (0,0){\pgfuseimage{x10}}; 
\node[Frame,col20,anchor=north west](I2) at (0,0){\pgfuseimage{x20}}; 

\node[CNN, right of=I1,font=\footnotesize,xshift=-0mm](net) {Network};

\node[FRAME,col20,right of=net, xshift=-0mm](pred) {\pgfuseimage{x20u}}; 

\node[LPF, right of=pred,font=\footnotesize,xshift=-2mm](lpf) {LPF};
\node[DWN, right of=lpf, node distance = 1.1cm,font=\footnotesize](down) {${\downarrow}2$};
\node[BOX, right of=pred,xshift = 2.5mm,font=\footnotesize](Down) {};

\node[Frame,col20,right of = down,xshift=-8mm](predScaled) {\pgfuseimage{x20}};

\draw[arr] (I1)--(net);  \draw[arr] (net)--(pred); \draw[arr] (pred)--(lpf);
 \draw[arr] (lpf)--node[coordinate,pos=0.4](pt){}(down); \draw[arr] (down)--(predScaled); 

\node[Loss,draw, below of=pt, node distance = 1.4cm](loss) {$\mathcal{L}_{\rm lp}$};

\draw[arr] (I2)|-(loss);
\draw[arr] (predScaled)|-(loss);

% NEW BRANCH

\node[Loss,draw, above of=net, node distance = 1.7cm](lossDet) {$\mathcal{L}_{\rm det}$};

\node[DET, above of=I1, node distance = 1.7cm, font=\scriptsize,draw=col10](det) {\parbox{1.3cm}{\centering Detail extraction}};

\node[SUM, above of=pred, node distance = 1.7cm](sum){$+$};

\draw[arr] (I1)--(det);
\draw[arr] (det)--node[above]{$D$}(lossDet);
\draw[arr] (pred)--node[pos=0.7,right,scale=0.7]{$+$}(sum);
\draw[arr] (pt)|-node[pos=.92,scale=0.7,below]{$-$}(sum);
\draw[arr] (sum)--(lossDet);




\end{tikzpicture}

\end{document}