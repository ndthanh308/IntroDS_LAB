%%%%% NEW MATH DEFINITIONS %%%%%

\usepackage{amsmath}\allowdisplaybreaks
\usepackage{amsfonts,bm}
\usepackage{amssymb}
\usepackage{algorithm}
\usepackage{algorithmic}

% Mark sections of captions for referring to divisions of figures
\newcommand{\figleft}{{\em (Left)}}
\newcommand{\figcenter}{{\em (Center)}}
\newcommand{\figright}{{\em (Right)}}
\newcommand{\figtop}{{\em (Top)}}
\newcommand{\figbottom}{{\em (Bottom)}}
\newcommand{\captiona}{{\em (a)}}
\newcommand{\captionb}{{\em (b)}}
\newcommand{\captionc}{{\em (c)}}
\newcommand{\captiond}{{\em (d)}}

% Highlight a newly defined term
\newcommand{\newterm}[1]{{\bf #1}}


% Figure reference, lower-case.
\def\figref#1{figure~\ref{#1}}
% Figure reference, capital. For start of sentence
\def\Figref#1{Figure~\ref{#1}}
\def\twofigref#1#2{figures \ref{#1} and \ref{#2}}
\def\quadfigref#1#2#3#4{figures \ref{#1}, \ref{#2}, \ref{#3} and \ref{#4}}
% Section reference, lower-case.
\def\secref#1{section~\ref{#1}}
% Section reference, capital.
\def\Secref#1{Section~\ref{#1}}
% Reference to two sections.
\def\twosecrefs#1#2{sections \ref{#1} and \ref{#2}}
% Reference to three sections.
\def\secrefs#1#2#3{sections \ref{#1}, \ref{#2} and \ref{#3}}
% Reference to an equation, lower-case.
\def\eqref#1{equation~(\ref{#1})}
% Reference to an equation, upper case
\def\Eqref#1{Equation~\ref{#1}}
% A raw reference to an equation---avoid using if possible
\def\plaineqref#1{\ref{#1}}
% Reference to a chapter, lower-case.
\def\chapref#1{chapter~\ref{#1}}
% Reference to an equation, upper case.
\def\Chapref#1{Chapter~\ref{#1}}
% Reference to a range of chapters
\def\rangechapref#1#2{chapters\ref{#1}--\ref{#2}}
% Reference to an algorithm, lower-case.
\def\algref#1{algorithm~\ref{#1}}
% Reference to an algorithm, upper case.
\def\Algref#1{Algorithm~\ref{#1}}
\def\twoalgref#1#2{algorithms \ref{#1} and \ref{#2}}
\def\Twoalgref#1#2{Algorithms \ref{#1} and \ref{#2}}
% Reference to a part, lower case
\def\partref#1{part~\ref{#1}}
% Reference to a part, upper case
\def\Partref#1{Part~\ref{#1}}
\def\twopartref#1#2{parts \ref{#1} and \ref{#2}}

\def\ceil#1{\left\lceil #1 \right\rceil}
\def\floor#1{\left\lfloor #1 \right\rfloor}
\def\1{\bf{1}}
\newcommand{\train}{\mathcal{D}}
\newcommand{\valid}{\mathcal{D_{\mathrm{valid}}}}
\newcommand{\test}{\mathcal{D_{\mathrm{test}}}}
\newcommand{\Norm}[1]{\left\| #1 \right\|}
\newcommand{\norm}[1]{\left\| #1 \right\|_2}
\def\inner#1#2{\langle #1, #2 \rangle}

\def\eps{{\varepsilon}}

% Vectors
\def\vzero{{\bf{0}}}
\def\vone{{\bf{1}}}
\def\vmu{{\bm{\mu}}}
\def\vphi{{\bm{\phi}}}
\def\veta{{\bm{\eta}}}
\def\valpha{{\bm{\alpha}}}
\def\vbeta{{\bm{\beta}}}
\def\vtheta{{\bm{\theta}}}
\def\va{{\bf{a}}}
\def\vb{{\bf{b}}}
\def\vc{{\bf{c}}}
\def\vd{{\bf{d}}}
\def\ve{{\bf{e}}}
\def\vf{{\bf{f}}}
\def\vg{{\bf{g}}}
\def\vh{{\bf{h}}}
\def\vi{{\bf{i}}}
\def\vj{{\bf{j}}}
\def\vk{{\bf{k}}}
\def\vl{{\bf{l}}}
\def\vm{{\bf{m}}}
\def\vn{{\bf{n}}}
\def\vo{{\bf{o}}}
\def\vp{{\bf{p}}}
\def\vq{{\bf{q}}}
\def\vr{{\bf{r}}}
\def\vs{{\bf{s}}}
\def\vt{{\bf{t}}}
\def\vu{{\bf{u}}}
\def\vv{{\bf{v}}}
\def\vw{{\bf{w}}}
\def\vx{{\bf{x}}}
\def\vy{{\bf{y}}}
\def\vz{{\bf{z}}}


% Graph
\def\fA{{\mathcal{A}}}
\def\fB{{\mathcal{B}}}
\def\fC{{\mathcal{C}}}
\def\fD{{\mathcal{D}}}
\def\fE{{\mathcal{E}}}
\def\fF{{\mathcal{F}}}
\def\fG{{\mathcal{G}}}
\def\fH{{\mathcal{H}}}
\def\fI{{\mathcal{I}}}
\def\fJ{{\mathcal{J}}}
\def\fK{{\mathcal{K}}}
\def\fL{{\mathcal{L}}}
\def\fM{{\mathcal{M}}}
\def\fN{{\mathcal{N}}}
\def\fO{{\mathcal{O}}}
\def\fP{{\mathcal{P}}}
\def\fQ{{\mathcal{Q}}}
\def\fR{{\mathcal{R}}}
\def\fS{{\mathcal{S}}}
\def\fT{{\mathcal{T}}}
\def\fU{{\mathcal{U}}}
\def\fV{{\mathcal{V}}}
\def\fW{{\mathcal{W}}}
\def\fX{{\mathcal{X}}}
\def\fY{{\mathcal{Y}}}
\def\fZ{{\mathcal{Z}}}

% Sets
\def\sA{{\mathbb{A}}}
\def\sB{{\mathbb{B}}}
\def\sC{{\mathbb{C}}}
\def\sD{{\mathbb{D}}}
\def\BE{{\mathbb{E}}}
% Don't use a set called E, because this would be the same as our symbol
% for expectation.
\def\BF{{\mathbb{F}}}
\def\BG{{\mathbb{G}}}
\def\BH{{\mathbb{H}}}
\def\BI{{\mathbb{I}}}
\def\BJ{{\mathbb{J}}}
\def\BK{{\mathbb{K}}}
\def\BL{{\mathbb{L}}}
\def\BM{{\mathbb{M}}}
\def\BN{{\mathbb{N}}}
\def\BO{{\mathbb{O}}}
\def\BP{{\mathbb{P}}}
\def\BQ{{\mathbb{Q}}}
\def\BR{{\mathbb{R}}}
\def\BS{{\mathbb{S}}}
\def\BT{{\mathbb{T}}}
\def\BU{{\mathbb{U}}}
\def\BV{{\mathbb{V}}}
\def\BW{{\mathbb{W}}}
\def\BX{{\mathbb{X}}}
\def\BY{{\mathbb{Y}}}
\def\BZ{{\mathbb{Z}}}

\def\mA {{\bf A}}
\def\mB {{\bf B}}
\def\mC {{\bf C}}
\def\mD {{\bf D}}
\def\mE {{\bf E}}
\def\mF {{\bf F}}
\def\mG {{\bf G}}
\def\mH {{\bf H}}
\def\mI {{\bf I}}
\def\mJ {{\bf J}}
\def\mK {{\bf K}}
\def\mL {{\bf L}}
\def\mM {{\bf M}}
\def\mN {{\bf N}}
\def\mO {{\bf O}}
\def\mP {{\bf P}}
\def\mQ {{\bf Q}}
\def\mR {{\bf R}}
\def\mS {{\bf S}}
\def\mT {{\bf T}}
\def\mU {{\bf U}}
\def\mV {{\bf V}}
\def\mW {{\bf W}}
\def\mX {{\bf X}}
\def\mY {{\bf Y}}
\def\mZ {{\bf Z}}

\def\AUC{{\rm{AUC}}}
\def\SVI{{\rm{SVI}}}
\def\VI{{\rm{VI}}}
\def\ApproxMax{{\rm{ApproxMax}}}


% The true underlying data generating distribution
\newcommand{\pdata}{p_{\rm{data}}}
% The empirical distribution defined by the training set
\newcommand{\ptrain}{\hat{p}_{\rm{data}}}
\newcommand{\Ptrain}{\hat{P}_{\rm{data}}}
% The model distribution
\newcommand{\pmodel}{p_{\rm{model}}}
\newcommand{\Pmodel}{P_{\rm{model}}}
\newcommand{\ptildemodel}{\tilde{p}_{\rm{model}}}
% Stochastic autoencoder distributions
\newcommand{\pencode}{p_{\rm{encoder}}}
\newcommand{\pdecode}{p_{\rm{decoder}}}
\newcommand{\precons}{p_{\rm{reconstruct}}}

\newcommand{\laplace}{\mathrm{Laplace}} % Laplace distribution

\newcommand{\E}{\mathbb{E}}
\newcommand{\Ls}{\mathcal{L}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\emp}{\tilde{p}}
\newcommand{\lr}{\alpha}
\newcommand{\reg}{\lambda}
\newcommand{\rect}{\mathrm{rectifier}}
\newcommand{\softmax}{\mathrm{softmax}}
\newcommand{\sigmoid}{\sigma}
\newcommand{\softplus}{\zeta}
\newcommand{\KL}{D_{\mathrm{KL}}}
\newcommand{\Var}{\mathrm{Var}}
\newcommand{\standarderror}{\mathrm{SE}}
\newcommand{\Cov}{\mathrm{Cov}}
% Wolfram Mathworld says $L^2$ is for function spaces and $\ell^2$ is for vectors
% But then they seem to use $L^2$ for vectors throughout the site, and so does
% wikipedia.
\newcommand{\normlzero}{L^0}
\newcommand{\normlone}{L^1}
\newcommand{\normltwo}{L^2}
\newcommand{\normlp}{L^p}
\newcommand{\normmax}{L^\infty}

\newcommand{\parents}{Pa} % See usage in notation.tex. Chosen to match Daphne's book.

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator{\Tr}{Tr}
\let\ab\allowbreak

\DeclareMathOperator{\spn}{span}
\DeclareMathOperator{\prox}{prox}

\usepackage{amsthm}
\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
\newtheorem{dfn}{Definition}[section]
\newtheorem{exmp}{Example}[section]
\newtheorem{lem}{Lemma}[section]
\newtheorem{asm}{Assumption}[section]
\newtheorem{remark}{Remark}[section]
\newtheorem{cor}{Corollary}[section]
\newtheorem{prop}{Proposition}[section]

\makeatletter
\def\Ddots{\mathinner{\mkern1mu\raise\p@
\vbox{\kern7\p@\hbox{.}}\mkern2mu
\raise4\p@\hbox{.}\mkern2mu\raise7\p@\hbox{.}\mkern1mu}}
\makeatother

\def\pr#1{\sP\left( #1 \right)}

\makeatletter
\newcommand*{\rom}[1]{\expandafter\@slowromancap\romannumeral #1@}
\makeatother


