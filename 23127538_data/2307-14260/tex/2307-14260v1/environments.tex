\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{setup}[theorem]{Setup}

\AtBeginEnvironment{theorem}{\setlist[enumerate]{label=\upshape(\roman*)}}
\AtBeginEnvironment{definition}{\setlist[enumerate]{label=\upshape(\roman*)}}
\AtBeginEnvironment{proposition}{\setlist[enumerate]{label=\upshape(\roman*)}}
\AtBeginEnvironment{lemma}{\setlist[enumerate]{label=\upshape(\roman*)}}
\AtBeginEnvironment{corollary}{\setlist[enumerate]{label=\upshape(\roman*)}}

\setcounter{secnumdepth}{4}

\numberwithin{equation}{section}