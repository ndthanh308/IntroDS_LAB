% Join orders with the same prefix is shared. In skinerDB.
% Hypercube approach divide executions into hypercubes. 

\pgfplotstableread[col sep=space,]{data/share_progress_clique_ratio.csv}\shareprogessclique
\pgfplotstableread[col sep=space,]{data/share_progress_cycle_ratio.csv}\shareprogesscycle

\captionsetup[figure]{font=small}

% Figure environment removed



%\subsection{Comparison of ADOPT Variants}
\vspace{-0.5em}
\subsection{Hypercube Data Partitioning}
\label{sub:variants}

We next benchmark the effect of our hypercube partitioning scheme and verify that it indeed leads to faster execution time than  SkinnerDB's alternatives called shared prefix+offset progress tracker~\cite{trummer2019skinnerdb}. 

\begin{hyp}
Hypercube partitioning leads to faster execution than shared prefix progress tracker and offset progress tracker.
\end{hyp}

SkinnnerDB shares progress between all join orders with the same prefix (iterating over all possible prefix lengths). Given a join order, it restores a state by comparing execution progress between the current join order and all other orders with the same prefix and by selecting the most advanced state. Offset progress tracker keeps the last tuples of each table that have been joined with all other tuples already. Using hypercube partitioning, ADOPT executes the episodes on disjoint parts of the input data so it can trivially compute distributive aggregates such as count. This is not the case for SkinnerDB's partitioning: To avoid recomputation of the same result in different episodes, it has to maintain a data structure (concurrent hash map). In the multi-thread environment, the prefix share progress tracker blocks the concurrent execution and causes significant synchronization overhead. 






Figure~\ref{fig:relative2} shows the speedup of using the hypercube  partitioning over using the prefix+offset share progress tracker in ADOPT. The hypercube approach consistently has significant smaller overhead than prefix+offset share progress tracker. For larger (above 4) clique and cycle queries, the speedup is 10x to 100x.
