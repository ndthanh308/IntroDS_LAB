\raggedbottom
\section{Appendix}
\label{sec:appendix}

\subsection{Algorithms}
\label{algs}
For the sake of completeness, we provide the details of \texttt{Hedge} and \texttt{EXP3-IX} algorithms as follows. In \texttt{Hedge}, $r_i$ refers to the time-$t$ normalized reward of bidder $i$'s type $\tau_i$ computed using Eq. \ref{eq:reward-norm}. In \texttt{EXP3-IX}, the quantities $l_{i,\tau_i,t}$ are ``losses'' incurred at time $t$ by bidder $i$ of type $\tau_i$: that is, $\ell_{i, \tau_i, t} = 1 - r_{i}$. 

\scriptsize
\begin{algorithm}[H]
% \normalsize
\begin{algorithmic}
\medskip
\REQUIRE parameters $\eta>0$, $\gamma>0$, $N$, $T$
\REQUIRE action sets $A$ (the same for all bidders), query distribution $F_Q$
\REQUIRE type space $\mathcal T_i$ and distribution $F_i$, and functions $V_i, \mathit{CTR}_i$ for each $i = 1,\ldots,N$
\STATE for all $i$ and $a \in A$, set $l_{i,\tau_i,0}(a) = 0$
\FOR{$t = 1, \ldots, T$}
    \STATE draw $q \sim F_Q$
    \FOR[Play]{$i = 1,\ldots, N$}
        \STATE draw $\tau_i \sim F_i$
        \FOR[Softmax]{$a_i \in A$}
            \STATE set $p_{i,\tau_i,t}(a_i) = \frac{\exp(-\eta \ l_{i,\tau_i,t-1}(a_i))}{\sum_{a_i' \in A}\exp(-\eta \  l_{i,\tau_i,t-1}(a_i'))}$
        \ENDFOR
        \STATE draw $a_{i,\tau_i,t} \sim p_{i,\tau_i,t}$
    \ENDFOR
    \FOR[Learning]{$i = 1,\ldots, N$}
        \STATE compute \emph{normalized} reward $r_{i,t} \in [0,1]$ given $q$ and $\tau_i$ under the actual bids $a_{i,\tau_i,t}$ and set 
        \STATE {\small $l_{i,\tau_i,t}(a_{i,\tau_i,t}) = l_{i,\tau_i,t-1}(a_{i,\tau_i,t}) + \frac{1-r_{i,t}}{p_{i,\tau_i,t}(a_{i,\tau_i,t})+\gamma}$}
        \FOR{$a_i' \in A \setminus \{a_{i,\tau_i,t}\}$ and $\tau_i' \in \mathcal T_i \setminus \{\tau_i\}$}
            \STATE set $l_{i,\tau_i',t}(a_i') = l_{i,\tau_i',t-1}(a_i')$
        \ENDFOR
    \ENDFOR
\ENDFOR
\end{algorithmic}
\caption{\texttt{EXP3-IX} for Auctions}
\label{alg:EXP3-IX}
\end{algorithm}

% ------------------
%  Hedge alg
% ------------------
\scriptsize
\begin{algorithm}[H]
% \normalsize
\begin{algorithmic}
\medskip
\REQUIRE parameters $\eta>0$, $N$, $T$
\REQUIRE action sets $A$ (the same for all bidders), query distribution $F_Q$
\REQUIRE type space $\mathcal T_i$ and distribution $F_i$, and functions $V_i, \mathit{CTR}_i$ for each $i = 1,\ldots,N$
\STATE for all $i$, $\tau_i \in \mathcal T_i$, and $a \in A$, set $w_{i,\tau_i,0}(a) = 0$
\FOR{$t = 1, \ldots, T$}
    \STATE draw $q \sim F_Q$
    \FOR[Actual play]{$i = 1,\ldots, N$}
        \STATE draw $\tau_i \sim F_i$
        \FOR[Softmax]{$b_i \in A$}
            \STATE set $p_{i,\tau_i,t-1}(b_i) = \frac{\exp(w_{i,\tau_i,t-1}(b_i)/\eta)}{\sum_{b_i' \in A}\exp(w_{i,\tau_i,t-1}(b_i')/\eta)}$
        \ENDFOR
        \STATE draw $a_{i,\tau_i,t} \sim p_{i,\tau_i,t-1}$
    \ENDFOR
    \FOR[Learning]{$i = 1,\ldots, N$}
        \FOR{$b_i \in A$}
            \STATE compute reward $r_i$ given $q$ and $\tau_i$, assuming $i$ bids $b_i$ and all $j \neq i$ bid $a_{j,t}$
            \STATE set $w_{i,\tau_i,t}(b_i) = w_{i,\tau_i,t-1}(b_i) + r_i$
            \FOR{$\tau_i' \in \mathcal T_i \setminus \{\tau_i\}$}
                \STATE set $w_{i,\tau_i',t}(b_i) = w_{i,\tau_i',t-1}(b_i)$
            \ENDFOR
        \ENDFOR
    \ENDFOR
\ENDFOR
\end{algorithmic}
\caption{Hedge for Auctions}
\label{alg:hedge}
\end{algorithm}

