% \begin{table*}[h]
%     \centering
%     \caption{\textbf{Improving Baseline.} This is the baseline where det loss and seg loss are 1:1. This table is copied from Bevfusin(@mit). Please adjust it according to our settings. 
%     {\color{green}{(zj: FULLER is running)}}}
%     \begin{threeparttable}
%     \begin{tabular}{@{}l|ccccc@{}}
%     \toprule
%          \multicolumn{1}{c|}{\multirow{2}{*}{Method}}& &\multicolumn{2}{c}{Det} &Seg \\ \cline{3-4}
%           &Modality &mAP &NDS &mIoU  \\
%           \midrule
%          PointPainting& C+L & 65.8 & 69.6 & -\\
%          MVP& C+L& 66.1 & 70.0 & -\\
%          FusionPainting & C+L &66.5 & 70.7 & - \\
%          AutoAlign & C+L & 66.6 & 71.7 & - \\
%          FUTR3D & C+L & 64.5 & 68.3 & - \\
%          TransFusion & C+L & 67.5 & 71.3 & - \\
%          BEVFusion & C+L & 68.5 & 71.4 & - \\
%          \midrule
%          PointPainting & C+L & - & - & 49.1 \\
%          MVP & C+L & - & - & 49.0 \\
%          BEVFusion & C+L & - & - & 62.7 \\
%          \midrule
%          BEVFusion$^{\dag}$\_Joint(shared BEV encoders) & C+L & - & 69.7 & 54.0\\
%          BEVFusion$^{\footnotemark[2]}$\_Joint( BEV encoders) & C+L & - & 69.9 & 58.4\\
%          Baseline$^{*}$ (upper bound) &C+L & 62.07 & 66.57 & 62.27\\
%          Baseline& C+L & 59.09 & 65.03 & 43.97\\
%          %Method 1 &\\
%          %Method 2 & \\
%          Fuller& C+L \\
%          \bottomrule
%     \end{tabular}
%     \begin{tablenotes}
%         \footnotesize
%         \item[*] is single-task learning, served as upper bound. $^{\dag}$ balances loss weights manually.
%     \end{tablenotes}
% \end{threeparttable}
% \label{tab:baseline}
% \end{table*}


\begin{table*}[t]
    \centering
    \caption{Comparison to more methods.}
    \vspace{-0mm}
    \resizebox{2.0\columnwidth}{!}
    {\tablestyle{8pt}{1.0}
    \begin{threeparttable}

    \begin{tabular}{@{}l|cccc|ccc}
    \toprule
         % \multicolumn{1}{c|}{\multirow{2}{*}{Method}}& & & &\multicolumn{2}{c}{Det} &Seg \\ \cline{5-6}
          &Modality& VoxelSize & LiDAR &Image &mAP(\%)$\uparrow$ &NDS$\uparrow$ &mIoU(\%)$\uparrow$ \\
          \midrule
          \midrule
         \multicolumn{8}{c}{3D Detection}\\
          \midrule
         M$^2$BEV~\cite{xie2022m} & C & -&- & ResNeXt-101~\cite{Xie_2017_CVPR}&\cellcolor{blue!5}41.7 &\cellcolor{blue!5}47.0 & -\\
         BEVFormer~\cite{li2022bevformer} & C & -& -& ResNet101~\cite{He_2016_CVPR}&\cellcolor{blue!5}41.6 &\cellcolor{blue!5}51.7 & -\\
         PointPillars$^{\ddag}$~\cite{lang2019pointpillars} &L &0.075 &PointPillars &- &\cellcolor{blue!5}52.3 &\cellcolor{blue!5}61.3 &- \\
         CenterPoint~\cite{yin2021center} &L & 0.075&VoxelNet &- &\cellcolor{blue!5}59.6 &\cellcolor{blue!5}66.8 &- \\
         PointPainting$^{\ddag}$~\cite{vora2020pointpainting}& C+L&0.075 & PointPillars &- & \cellcolor{blue!5}65.8 &  \cellcolor{blue!5}69.6 & -\\
         MVP$^{\ddag}$~\cite{yin2021multimodal}& C+L & 0.075 &  VoxelNet & DLA-34& \cellcolor{blue!5}66.1 & \cellcolor{blue!5}70.0 & -\\
         FusionPainting~\cite{xu2021fusionpainting} & C+L & -&Cylinder3D~\cite{zhou2020cylinder3d} &HTCNet~\cite{Chen_2019_CVPR}&\cellcolor{blue!5}66.5 & \cellcolor{blue!5}70.7 & - \\
         AutoAlign~\cite{chen2022autoalign} & C+L &0.075 & CenterPoint & ResNet-50& \cellcolor{blue!5}66.6 & \cellcolor{blue!5}71.1 & - \\
         FUTR3D~\cite{chen2022futr3d} & C+L & 0.075& VoxelNet & ResNet-101& \cellcolor{blue!5}64.5 & \cellcolor{blue!5}68.3 & - \\
         TransFusion~\cite{bai2022transfusion} & C+L &0.075 & VoxelNet&DLA-34& \cellcolor{blue!5}67.5 & \cellcolor{blue!5}71.3 & - \\
         BEVFusion~\cite{liu2022bevfusion} & C+L &0.075 & VoxelNet&Swin-T &  \cellcolor{blue!5}68.5 & \cellcolor{blue!5}71.4 & - \\
         % Fuller-det &C+L  &0.075 & VoxelNet&Swin-T & \cellcolor{blue!5}\textbf{67.60} &\cellcolor{blue!5}\textbf{71.30}  &- \\
         % Fuller-det (upper bound) &C+L  &0.1 &VoxelNet&Swin-T & \cellcolor{blue!5}\textbf{62.07} &\cellcolor{blue!5}\textbf{66.57} &- \\
         Fuller-det &C+L  &0.075 & VoxelNet&Swin-T & \cellcolor{blue!5}\textbf{67.6} &\cellcolor{blue!5}\textbf{71.3}  &- \\
         Fuller-det (upper bound) &C+L  &0.1 &VoxelNet&Swin-T & \cellcolor{blue!5}\textbf{62.1} &\cellcolor{blue!5}\textbf{66.6} &- \\
         \midrule
          \midrule
         \multicolumn{8}{c}{BEV Map Segmentation}\\
          \midrule
         OFT$^{\ddag}$~\cite{roddick2018orthographic} &C  &- &- &ResNet-18 &- &- &\cellcolor{blue!5}42.1 \\
         LSS$^{\ddag}$~\cite{philion2020lift} &C  &- &- &EfficientNet-B0~\cite{tan2019efficientnet}&- &-&\cellcolor{blue!5}44.4 \\
         PointPillars$^{\ddag}$~\cite{lang2019pointpillars} &L & 0.1&- &PointPillars &- &- &\cellcolor{blue!5}43.8 \\
         CenterPoint$^{\ddag}$~\cite{yin2021center} &L &0.1  &VoxelNet &- &- &-  &\cellcolor{blue!5}48.6 \\
         PointPainting$^{\ddag}$~\cite{vora2020pointpainting} & C+L  &0.1& PointPillars & - &- &- & \cellcolor{blue!5}49.1 \\
         MVP$^{\ddag}$~\cite{yin2021multimodal} & C+L &0.1 & VoxelNet & DLA-34\cite{yu2018deep}  &- &- & \cellcolor{blue!5}49.0 \\
         BEVFusion~\cite{liu2022bevfusion} & C+L  &0.1 & VoxelNet&Swin-T & -&- & \cellcolor{blue!5}62.7 \\
         % Fuller-seg(upper bound) &C+L  &0.1 &VoxelNet&Swin-T&- & - &\cellcolor{blue!5}\textbf{62.27} \\
         Fuller-seg(upper bound) &C+L  &0.1 &VoxelNet&Swin-T&- & - &\cellcolor{blue!5}\textbf{62.3} \\
         \midrule
          \midrule
         \multicolumn{8}{c}{3D Detection + BEV Map Segmentation}\\
          \midrule
         BEVFusion$^{\dag}$~\cite{liu2022bevfusion} (share) & C+L  &0.1 & VoxelNet&Swin-T &\cellcolor{blue!5}- & \cellcolor{blue!5}69.7 & \cellcolor{blue!5}54.0\\
         BEVFusion$^{\dag}$~\cite{liu2022bevfusion} (sep) & C+L  &0.1 &VoxelNet&Swin-T & \cellcolor{blue!5}- & \cellcolor{blue!5}69.9 & \cellcolor{blue!5}58.4\\
         % Baseline$^{*}$ (upper bound) &C+L &D+S & 62.07 & 66.57 & 62.27\\
         % Baseline(share)& C+L  &0.1 &VoxelNet&Swin-T& \cellcolor{blue!5}\textbf{59.09} & \cellcolor{blue!5}\textbf{65.03} & \cellcolor{blue!5}\textbf{43.97}\\
         % Fuller(share) &C+L  &0.1 & VoxelNet&Swin-T &\cellcolor{blue!5}\textbf{60.47} &\cellcolor{blue!5}\textbf{65.34}  &\cellcolor{blue!5}\textbf{58.35}\\
         % Baseline(share)& C+L  &0.1 &VoxelNet&Swin-T& \cellcolor{blue!5}\textbf{59.1} & \cellcolor{blue!5}\textbf{65.0} & \cellcolor{blue!5}\textbf{44.0}\\
         Baseline(share)& C+L  &0.1 &VoxelNet&Swin-T& \cellcolor{blue!5}59.1 & \cellcolor{blue!5}65.0 & \cellcolor{blue!5}44.0\\
         Fuller(share) &C+L  &0.1 & VoxelNet&Swin-T &\cellcolor{blue!5}\textbf{60.5} &\cellcolor{blue!5}\textbf{65.3}  &\cellcolor{blue!5}\textbf{58.4}\\
         \bottomrule
    \end{tabular}
    % \begin{tablenotes}
    %     \footnotesize
    %     \item[$\dag$] means the multi-task result in BEVFusion\cite{liu2022bevfusion}. $^{\ddag}$ means re-implementation result in BEVFusion\cite{liu2022bevfusion}. `share' means multi-task heads share one BEV encoder to process the fused multimodal feature. `sep' means task heads have separate encoders.
    % \end{tablenotes}
\end{threeparttable}}
\vspace{-3mm}
\label{tab:more_comparison}
\end{table*}

% \begin{table*}[t]
%     \centering
%     \caption{Comparison with benchmark. The upper two sub-tables are single task results while the bottom one is multi-task result.‘L’ and ‘C’ represent LiDAR and Camera, respectively. We treat single task result as our upper bound because multi-task will generally decrease the performance. Baseline means Fuller is naively trained where detection loss and segmentation loss are set to 1:1. `-' means inapplicable.
%     %\xd{can remove some old methods into appendix}
%     }\vspace{-3mm}
%     \resizebox{2.0\columnwidth}{!}
%     {\tablestyle{5pt}{1.0}
%     \begin{threeparttable}

%     \begin{tabular}{@{}l|cccc|cccc}
%     \toprule
%          % \multicolumn{1}{c|}{\multirow{2}{*}{Method}}& & & &\multicolumn{2}{c}{Det} &Seg \\ \cline{5-6}
%           &Modality& VoxelSize & LiDAR &Image &mAP(\%)$\uparrow$ &NDS$\uparrow$ &mIoU(\%)$\uparrow$ &$\Delta_{\rm MTL}$(\%)$\downarrow$\\
%           \midrule
%           \midrule
%          \multicolumn{9}{c}{3D Detection}\\
%           \midrule
%         %  M$^2$BEV~\cite{xie2022m} & C & -&- & ResNeXt-101~\cite{Xie_2017_CVPR}&\cellcolor{blue!5}41.7 &\cellcolor{blue!5}47.0 & -\\
%          BEVFormer~\cite{li2022bevformer} & C &- &- & ResNet101~\cite{He_2016_CVPR}& 41.6 & 51.7 & - &-\\
%         %  PointPillars$^{\ddag}$~\cite{lang2019pointpillars} &L &0.075 &PointPillars &- &\cellcolor{blue!5}52.3 &\cellcolor{blue!5}61.3 &- \\
%          CenterPoint~\cite{yin2021center} &L & 0.075&VoxelNet &- & 59.6 & 66.8 &- &-\\
%         %  PointPainting$^{\ddag}$~\cite{vora2020pointpainting}& C+L&0.075 & PointPillars &- & \cellcolor{blue!5}65.8 &  \cellcolor{blue!5}69.6 & -\\
%          MVP$^{\ddag}$~\cite{yin2021multimodal}& C+L & 0.075 &  VoxelNet & DLA-34&  66.1 &  70.0 &- &-\\
%         %  FusionPainting~\cite{xu2021fusionpainting} & C+L & -&Cylinder3D~\cite{zhou2020cylinder3d} &HTCNet~\cite{Chen_2019_CVPR}&\cellcolor{blue!5}66.5 & \cellcolor{blue!5}70.7 & - \\
%         %  AutoAlign~\cite{chen2022autoalign} & C+L &0.075 & CenterPoint & ResNet-50& \cellcolor{blue!5}66.6 & \cellcolor{blue!5}71.1 & - \\
%          % FUTR3D~\cite{chen2022futr3d} & C+L & 0.075& VoxelNet & ResNet-101& \cellcolor{blue!5}64.5 & \cellcolor{blue!5}68.3 & - \\
%          TransFusion~\cite{bai2022transfusion} & C+L &0.075 & VoxelNet&DLA-34&  67.5 &  71.3 &- &-\\
%          BEVFusion~\cite{liu2022bevfusion} & C+L &0.075 & VoxelNet&Swin-T &   68.5 &  71.4 & - &-\\
%          % Fuller-det &C+L  &0.075 & VoxelNet&Swin-T & \cellcolor{blue!5}\textbf{67.60} &\cellcolor{blue!5}\textbf{71.30}  &- \\
%          % Fuller-det (upper bound) &C+L  &0.1 &VoxelNet&Swin-T & \cellcolor{blue!5}\textbf{62.07} &\cellcolor{blue!5}\textbf{66.57} &- \\
%          Fuller-det &C+L  &0.075 & VoxelNet&Swin-T &  67.6 & 71.3  &- &-\\
%          Fuller-det (upper bound) &C+L  &0.1 &VoxelNet&Swin-T &  \textbf{62.1} & \textbf{66.6} &- &-\\
%          \midrule
%           \midrule
%          \multicolumn{9}{c}{BEV Map Segmentation}\\
%           \midrule
%         %  OFT$^{\ddag}$~\cite{roddick2018orthographic} &C  &- &- &ResNet-18 &- &- &\cellcolor{blue!5}42.1 \\
%          LSS$^{\ddag}$~\cite{philion2020lift} &C  &- &- &EfficientNet-B0&- &-& 44.4 &-\\
%         %  PointPillars$^{\ddag}$~\cite{lang2019pointpillars} &L & 0.1&- &PointPillars &- &- &\cellcolor{blue!5}43.8 \\
%          CenterPoint$^{\ddag}$~\cite{yin2021center} &L &0.1  &VoxelNet &- &- &-  & 48.6 &-\\
%         %  PointPainting$^{\ddag}$~\cite{vora2020pointpainting} & C+L  &0.1& PointPillars & - &- &- & \cellcolor{blue!5}49.1 \\
%          % MVP$^{\ddag}$~\cite{yin2021multimodal} & C+L &0.1 & VoxelNet & DLA-34\cite{yu2018deep}  &- &- & \cellcolor{blue!5}49.0 \\
%          BEVFusion~\cite{liu2022bevfusion} & C+L  &0.1 & VoxelNet&Swin-T & -&- &  62.7 &-\\
%          % Fuller-seg(upper bound) &C+L  &0.1 &VoxelNet&Swin-T&- & - &\cellcolor{blue!5}\textbf{62.27} \\
%          Fuller-seg(upper bound) &C+L  &0.1 &VoxelNet&Swin-T&- & - & \textbf{62.3} &-\\
%          \midrule
%           \midrule
%          \multicolumn{9}{c}{3D Detection + BEV Map Segmentation}\\
%           \midrule
%          BEVFusion$^{\dag}$~\cite{liu2022bevfusion} (share) & C+L  &0.1 & VoxelNet&Swin-T & - &  69.7 &  54.0 &-\\
%          BEVFusion$^{\dag}$~\cite{liu2022bevfusion} (sep) & C+L  &0.1 &VoxelNet&Swin-T &  - &  69.9 &  58.4 &-\\
%          % Baseline$^{*}$ (upper bound) &C+L &D+S & 62.07 & 66.57 & 62.27\\
%          % Baseline(share)& C+L  &0.1 &VoxelNet&Swin-T& \cellcolor{blue!5}\textbf{59.09} & \cellcolor{blue!5}\textbf{65.03} & \cellcolor{blue!5}\textbf{43.97}\\
%          % Fuller(share) &C+L  &0.1 & VoxelNet&Swin-T &\cellcolor{blue!5}\textbf{60.47} &\cellcolor{blue!5}\textbf{65.34}  &\cellcolor{blue!5}\textbf{58.35}\\
%          Baseline(share)& C+L  &0.1 &VoxelNet&Swin-T&  {59.1} &  {65.0} &  {44.0} & {33.6}\\
%          Fuller(share) &C+L  &0.1 & VoxelNet&Swin-T & \textbf{60.5} & \textbf{65.3}  & \textbf{58.4} & \textbf{10.8}\\
%          \bottomrule
%     \end{tabular}
%     \begin{tablenotes}
%         \footnotesize
%         \item[$\dag$] means the multi-task result in BEVFusion\cite{liu2022bevfusion}. $^{\ddag}$ means re-implementation result in BEVFusion\cite{liu2022bevfusion}. `share' means multi-task heads share one BEV encoder to process the fused multimodal feature. `sep' means task heads have separate encoders.
%     \end{tablenotes}
% \end{threeparttable}}
% \vspace{-3mm}
% \label{tab:baseline}
% \end{table*}