clear all
close all
clc

adj=[ 0 1 0 1 1 1 0 1; % 3 e 7
    1 0 1 1 0 1 0 1; % 5 e 7
    0 1 0 1 1 1 1 0; % 1 e 8
    1 1 1 0 0 0 1 1; % 5 e 6
    1 0 1 0 1 1 1 1; % 2 e 4
    1 1 1 0 1 0 1 0; % 4 e 8
    0 0 1 1 1 1 0 1; % 1 e 2
    1 1 0 1 1 0 1 0; % 3 e 6
]
%5
b43=[0 0 1]-[0 0 0];
b73=[0 1 0]-[0 0 0];
b23=[1 0 0]-[0 0 0];
b63=[1 1 0]-[0 0 0];
b53=[1 1 1]-[0 0 0];

b84=[0 1 1]-[0 0 1];
b14=[1 0 1]-[0 0 1];
b24=[1 0 0]-[0 0 1];
b74=[0 1 0]-[0 0 1];

b87=[0 1 1]-[0 1 0];
b57=[1 1 1]-[0 1 0];
b67=[1 1 0]-[0 1 0];

b18=[1 0 1]-[0 1 1];
b28=[1 0 0]-[0 1 1];
b58=[1 1 1]-[0 1 1];

b21=[1 0 0]-[1 0 1];
b51=[1 1 1]-[1 0 1];
b61=[1 1 0]-[1 0 1];

b26=[1 0 0]-[1 1 0];
b56=[1 1 1]-[1 1 0];

B=5*blkdiag(b43,b73,b23,b63,b53,b84,b14,b24,b74,b87,...
    b57,b67,b18,b28,b58,b21,b51,b61,b26,b56);

ET=[0 0 -1 1 0 0 0 0;
    0 0 -1 0 0 0 1 0;
    0 1 -1 0 0 0 0 0;
    0 0 -1 0 0 1 0 0;
    0 0 -1 0 1 0 0 0;
    0 0 0 -1 0 0 0 1;
    1 0 0 -1 0 0 0 0;
    0 1 0 -1 0 0 0 0;
    0 0 0 -1 0 0 1 0;
    0 0 0 0 0 0 -1 1;
    0 0 0 0 1 0 -1 0;
    0 0 0 0 0 1 -1 0;
    1 0 0 0 0 0 0 -1;
    0 1 0 0 0 0 0 -1;
    0 0 0 0 1 0 0 -1;
    -1 1 0 0 0 0 0 0;
    -1 0 0 0 1 0 0 0 ;
    -1 0 0 0 0 1 0 0 ;
    0 1 0 0 0 -1 0 0;
    0 0 0 0 1 -1 0 0 ;
    ];

BT=B';
R=B*kron(ET,eye(3));
rank(R)