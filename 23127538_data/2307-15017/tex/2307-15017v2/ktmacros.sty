\ProvidesPackage{ktmacros}

\newif\if@draft
\DeclareOption{draft}{\@drafttrue}
\ProcessOptions\relax

\usepackage{import}
\usepackage{graphicx,color}
\usepackage{array,float}
\usepackage{url}
%\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{amstext,amssymb,amsmath}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{bbm}
\usepackage{verbatim}
\usepackage{bm}
%\usepackage{paralist}
%\usepackage{mathrsfs}
\usepackage{ulem}\normalem
%\usepackage[numbers]{natbib}
%\usepackage{natbib}
\usepackage{hyperref}
%\usepackage[noend]{algcompatible}
\usepackage{thmtools,thm-restate} % Used to restate lemmas without new introducing new numbers.

\usepackage{algorithm}
\usepackage[noend]{algcompatible}
\usepackage[capitalise,nameinlink]{cleveref}
\usepackage[short]{optidef}

%\usepackage{authblk}

%\newif\ifnotes\notestrue
%\newif\ifnotes\notesfalse

\newtheorem{example}{Example}
\if@draft
   \setlength{\marginparwidth}{2cm}  % Needed to get todonotes to work with 2 column
   \usepackage[colorinlistoftodos, textsize=scriptsize]{todonotes}
 \else
    \usepackage[disable]{todonotes}
\fi
%\renewcommand{\algorithmicrequire}{\textbf{Input:}}
%\renewcommand{\algorithmicensure}{\textbf{Output:}}


\newcommand{\thet}{\theta}
\newcommand{\linfty}[1]{\|#1\|_\infty}

\newcommand{\poly}{\text{poly}\,}
\newcommand{\polylog}{\text{polylog}\,}



\newcommand{\eps}{\varepsilon}
\newcommand{\Ex}{\mathbb{E}}

\newcommand{\vl}{{\bf l}}
\newcommand{\vx}{{\bf x}}
\newcommand{\vw}{{\bf w}}
\newcommand{\vz}{{\bf z}}
\newcommand{\vy}{{\bf y}}
\newcommand{\vv}{{\bf v}}

\newcommand{\mcX}{\mathcal{X}}
\newcommand{\mtX}{\mathcal{\tilde{X}}}
\newcommand{\mcN}{\mathcal{N}}

\newcommand{\Id}{\mathbb{I}}

%\newcommand{\Y}{\infty}
\renewcommand{\Re}{\mathbb{R}}
\newcommand{\sign}{\textbf{sgn}}
\newcommand{\one}{\mathbbm{1}}

\newcommand{\norm}[1]{\|#1\|}
\newcommand{\normalized}[1]{\frac{#1}{\|#1\|}}

\newcommand{\eqdef}{\ensuremath{\stackrel{eq}{=}}}

\newcommand{\ceil}[1]{\ensuremath{\lceil #1 \rceil}}

\newcommand{\knote}[1]{\todo[color=red!40, inline]{KT: #1}}
\newcommand{\anote}[1]{\todo[color=blue!40, inline]{AM: #1}}

\newcommand{\remove}[1]{}
\newcommand{\ignore}[1]{}

\newcommand{\wrapalgo}[2][0.9\linewidth]
{%
\begin{center}\setlength{\fboxsep}{5pt}\fbox{\begin{minipage}{#1}
#2
\end{minipage}}\end{center}
\vspace{-0.25cm}
}


% Proof environments
% The Theorems are numbered consecutively
% Lemmas are numbered by section, and observations, claims, facts, and
% assumptions take their numbering. Propositions and definitions have their
% own numbering by section.
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}[section]
\newtheorem*{lemma*}{Lemma}
\newtheorem{corollary}{Corollary}[section]
\newtheorem{observation}[theorem]{Observation}
\newtheorem{proposition}{Proposition}
\newtheorem{definition}{Definition}[section]
\newtheorem{claim}{Claim}[section]
\newtheorem{fact}[theorem]{Fact}
\newtheorem{assumption}{Assumption}
\newtheorem{conjecture}[theorem]{Conjecture}

%\renewenvironment{proof}{\noindent{\bf Proof}\hspace*{1em}}{\qed\\}

\newenvironment{proof-sketch}{\noindent{\bf Sketch of Proof}
  \hspace*{1em}}{\qed\bigskip\\}
\newenvironment{proof-idea}{\noindent{\bf Proof Idea}
  \hspace*{1em}}{\qed\bigskip\\}
\newenvironment{proof-of-lemma}[1][{}]{\noindent{\bf Proof of Lemma {#1}}
  \hspace*{1em}}{\qed\bigskip\\}
\newenvironment{proof-of-proposition}[1][{}]{\noindent{\bf
    Proof of Proposition {#1}}
  \hspace*{1em}}{\qed\bigskip\\}
\newenvironment{proof-of-theorem}[1][{}]{\noindent{\bf Proof of Theorem {#1}}
  \hspace*{1em}}{\qed\bigskip\\}
\newenvironment{inner-proof}{\noindent{\bf Proof}\hspace{1em}}{
  $\bigtriangledown$\medskip\\}
%% \newenvironment{proof-of-lemma}[1][{}]{\noindent{\bf Proof of Lemma {#1}}
%%   \hspace*{1em}\renewcommand{\qedsymbol}{$\bigtriangledown$}}{\qed\bigskip\\}
\newenvironment{proof-attempt}{\noindent{\bf Proof Attempt}
  \hspace*{1em}}{\qed\bigskip\\}
\newenvironment{proofof}[1]{\noindent{\bf Proof} of {#1}:
  \hspace*{1em}}{\qed\bigskip\\}

\newenvironment{remark}{\noindent{\bf Remark}
  \hspace*{1em}}{\bigskip}

% \newcounter{example}

% \newenvironment{example}[1][]{
%   \refstepcounter{example}
%   \ifthenelse{\isempty{#1}}{%
%     % There is no text to display in the example
%     \noindent \textbf{Example \theexample:}\hspace*{.05em}
%   }{%
%     \noindent \textbf{Example \theexample} ({#1})\textbf{:}\hspace*{.05em}
%   }
% }{%
%   $\Diamond$ \medskip
% }

\newenvironment{example*}[1][]{
  \ifthenelse{\isempty{#1}}{%
    % There is no text to display in the example
    \noindent \textbf{Example:}\hspace*{.05em}
  }{%
    \noindent \textbf{Example} ({#1})\textbf{:}\hspace*{.05em}
  }
}{%
  $\Diamond$ \bigskip
}

% Makes equation numbers have (1.1) style
% \numberwithin{equation}{section}
% \numberwithin{equation}{subsection}

%%%new additions

\newcommand{\dalpha}[1]{D_{#1}}
\providecommand{\E}{\mathop{\mathbb E}}
\def\output{\mathcal{S}}
\newcommand{\cD}{\mathcal{D}}
\newcommand{\cA}{\mathcal{A}}
\def\lr{\mathcal{R}}
\def\Aldp[#1]{\mathcal{R}^{(#1)}}
\def\out[#1]{\mathcal{S}^{(#1)}}
