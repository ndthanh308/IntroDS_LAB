\usetikzlibrary{decorations.markings}
\usetikzlibrary{fit}

\newcommand{\arrowLength}{2.3pt}
\newcommand{\arrowWidth}{4.6pt}

\tikzcdset{
    mark/.style={
        postaction={
            decorate,
            decoration={
                markings,
                mark={#1}
            },
        },
    },
    wideMark/.style={
        labels={
            inner sep=0.8ex,
        },
    },
    morphismTip/.tip={Triangle[length=\arrowLength, width=\arrowWidth]},
    lensTip/.tip={Diamond[length=2*\arrowLength, width=\arrowWidth]},
    functor/.style={
        wideMark,
        mark=at position {0.5*\pgfdecoratedpathlength + \arrowLength} with {\arrow{morphismTip}},
    },
    cofunctor/.style={
        wideMark,
        mark=at position {0.5*\pgfdecoratedpathlength - \arrowLength} with {\arrowreversed{morphismTip}},
    },
    lens/.style={
        wideMark,
        mark=at position {0.5*\pgfdecoratedpathlength + \arrowLength} with {\arrow{lensTip}},
    },
    proarrow/.style={
        wideMark,
        mark=at position 0.5 with {\draw[-] (0,-2.5pt) -- (0,2.5pt);}
    },
    cell/.style={
        phantom,
        "\xRightarrow{#1}",
    },
    cellUnlabelled/.style={
        phantom,
        "\Rightarrow",
    },
    PPB/.style={
        phantom, "\PPB"{font=\scriptsize}
    },
}

\tikzcdset{
    ar/.style={
        ampersand replacement=\&
    },
    upLeftAdjointTo/.style={
        phantom, "\vdash"{sloped, rotate=90, font=\scriptsize}
    }
}
\tikzset{
    boxed/.style={
        draw,
        thick,
        fill=black!5!white,
        rounded corners,
        % inner xsep=1ex,
        % inner ysep=0.85ex,
        outer xsep=1ex,
        outer ysep=0.85ex,
        inner sep=0pt,
        prefix after command={
            \pgfextra{\tikzset{
                every label/.style={
                    inner sep=0ex
                }
            }}
        }
    },
    description/.append style={
        inner ysep=0.5ex,
        inner xsep=0.1ex,
    },
}
