%comments
\newcommand{\sdcmt}[1]{{\color{blue} [Sarbojit: {#1}]}}
\newcommand{\fbcom}[1]{\textcolor{orange}{\textbf{FB}: #1}}
\newcommand{\bjcom}[1]{\textcolor{magenta}{\textbf{BJ}: #1}}
\newcommand{\bjnote}[1]{}
\newcommand{\bjforget}[1]{}
%% \newcommand\bjnote[1]{\textcolor{red}{\textbf{BJ}: #1}}
\newcommand\KS[1]{\textcolor{magenta}{\textbf{KS}: #1}}
\newcommand\ML[1]{\textcolor{green}{\textbf{ML}: #1}}
\newcommand\MLpar[1]{\textcolor{green}{(\textbf{ML}: #1)}}
\newcommand{\fix}[1]{{\color{red} {#1}}}
\newcommand{\old}[1]{{\color{gray} {\small #1}}}
\newcommand{\revise}[1]{{\color{magenta} {#1}}}

\newcommand{\toberemoved}[1]{{\color{green} {#1}}}
%% \newcommand{\toberemoved}[1]{}
\newcommand{\hasbeenremoved}[1]{}
%% \newcommand{\toberemoved}[1]{}

%% \newlist{ruleenum}{enumerate}{2} % also creates a counter called 'ruleenumi'
%% \setlist[ruleenum]{ref=R\arabic*, label={R\arabic*.}}
%% \crefname{ruleenumi}{rule}{rules}
%% \Crefname{ruleenumi}{Rule}{Rules}


% SMC algorithms
\newcommand\EventDPOR{\mbox{Event-DPOR}\xspace}
\newcommand\OptimalDPOR{\mbox{Optimal-DPOR}\xspace}
\newcommand\LAPOR{\mbox{LAPOR}\xspace}

% tools
\newcommand\CDSChecker{\textsc{CDSChecker}\xspace}
\newcommand\GenMC{\textsc{GenMC}\xspace}
\newcommand\RCMC{\textsc{RCMC}\xspace}
\newcommand\Nidhugg{\textsc{Nidhugg}\xspace}

% mathbb
\newcommand{\program}{\ensuremath{\mathbb{P}}}
\newcommand{\threads}{\ensuremath{\mathbb{T}}}
\newcommand{\variables}{\ensuremath{\mathbb{X}}}
\newcommand{\values}{\ensuremath{\mathbb{V}}}
\newcommand{\messages}{\ensuremath{\mathbb{M}}}
\newcommand{\bools}{\ensuremath{\mathbb{B}}}
\newcommand{\lvars}{\ensuremath{\mathbb{R}}}
\newcommand{\states}{\ensuremath{\mathbb{S}}}
\newcommand{\lstates}{\ensuremath{\Gamma}}
%\newcommand{\inits}{\ensuremath{\mathbb{W}_{init}}}
\newcommand{\labels}{\ensuremath{\Lambda}}
\newcommand{\naturals}{\ensuremath{\mathbb{N}}}
\newcommand{\events}{\ensuremath{\mathbb{E}}}

% bools 
\newcommand{\booleans}{\ensuremath{\mathbb{B}}}
\newcommand{\true}{\ensuremath{\mathtt{true}}}
\newcommand{\false}{\ensuremath{\mathtt{false}}}

% algo stuff
\newcommand{\explore}{\ensuremath{Explore}}
\newcommand{\schedules}{\ensuremath{\mathtt{Schedules}}}
\newcommand{\swappable}{\ensuremath{\mathtt{Swappable}}}
\newcommand{\front}{\ensuremath{\mathtt{front}}}
\newcommand{\posreorder}[3]{\ensuremath{PossibleReordering({#1},{#2},{#3})}}
\newcommand{\done}{\ensuremath{done}\xspace}
\newcommand{\accesses}{\ensuremath{msgAccesses}}
\newcommand{\tmpaccesses}{\ensuremath{tmpAccesses}}
\newcommand{\returnaccesses}{\ensuremath{retAccesses}}
\newcommand{\accessof}[1]{\ensuremath{access}(#1)}
\newcommand{\accessesof}[1]{\ensuremath{accesses}(#1)}
\newcommand{\doneaccesses}{\ensuremath{\mathit{doneAccesses}}}
\newcommand{\sleeptree}{\ensuremath{sleeptree}}
\newcommand{\tmpsleeptree}{\ensuremath{tmpsleeptree}}
\newcommand{\sleeptreeof}[1]{\ensuremath{sleeptree}(#1)}
\newcommand{\sleeptrees}{\ensuremath{sleeptrees}}
\newcommand{\pendingwus}[1]{\ensuremath{\pendingwusname(#1)}}
\newcommand{\pendingwusname}{\mathit{parkedWuS}}
\newcommand{\wustobeinserted}{\ensuremath{wusToBeInserted}}
\newcommand{\insertpendingwu}[2]{\ensuremath{\mbox{\it InsertParkedWuS}(#1,#2)}}
\newcommand{\insertpendingwuname}{\ensuremath{\mbox{\it InsertParkedWuS}}\xspace}
\newcommand{\reverserace}{\ensuremath{ReverseRace}}
\newcommand{\WuT}{\ensuremath{WuT}}
\newcommand{\sleepsetafter}[2]{\ensuremath{sleepSet}(#1,#2)}
\newcommand{\msgconflictsafter}[2]{\mbox{\it msgConflicts}(#1,#2)}
\newcommand{\sizeofws}{\ensuremath{size\_of\_WS}}
%% \newcommand{\treeorder}{\ensuremath{\triangleleft}}
\newcommand{\treeorder}{\ensuremath{\propto}}

% expr
\newcommand{\expr}{\ensuremath{expr}}
\newcommand{\valuation}{\ensuremath{\mathtt{Val}}}
\newcommand{\bvaluation}{\ensuremath{\mathtt{BVal}}}

% init
\newcommand{\init}{\ensuremath{init}}

% events
\newcommand{\event}{e}
\newcommand{\wevent}{\ensuremath{\langle t, i, W, x, v, e_p \rangle}}
\newcommand{\revent}{\ensuremath{\langle t, i, R, x, e_w, e_p \rangle}}
\newcommand{\pevent}{\ensuremath{\langle t, i, P, m, t_{dest}, e_p \rangle}}
\newcommand{\rcvevent}{\ensuremath{\langle t, i, R, m \rangle}}
\newcommand{\thof}[1]{\ensuremath{th({#1})}}
%% \newcommand{\procof}[1]{\ensuremath{th({#1})}}
\newcommand{\idof}[1]{\ensuremath{id({#1})}}
\newcommand{\typeof}[1]{\ensuremath{type({#1})}}
\newcommand{\varof}[1]{\ensuremath{var({#1})}}
\newcommand{\valof}[1]{\ensuremath{var({#1})}}
\newcommand{\pbof}[1]{\ensuremath{post({#1})}}
\newcommand{\srcof}[1]{\ensuremath{src({#1})}}
\newcommand{\oldmsgof}[1]{\ensuremath{msg({#1})}}
%% \newcommand{\msgof}[2]{\ensuremath{[{#1},{#2}]}}
\newcommand{\msgof}[2]{\transpair{#1}{#2}}
\newcommand{\destof}[1]{\ensuremath{dest({#1})}}
\newcommand{\postev}{{\mathit post}}
\newcommand{\satrel}[1]{\ensuremath{\langle\!\langle{#1}\rangle\!\rangle}}
%% \newcommand{\weaksatrel}[1]{\ensuremath{\langle{#1}\rangle}}
\newcommand{\weaksatrel}[1]{\ensuremath{\langle\!\langle{#1}\rangle\!\rangle}}
\newcommand{\mseq}[2]{\ensuremath{\xrightarrow{seq\langle{#2}\rangle}_{#1}}}
\newcommand{\hbmseq}[2]{\ensuremath{\xrightarrow{hbm\langle{#2}\rangle}_{#1}}}
\newcommand{\hbwpref}[2]{\ensuremath{\xrightarrow{hbp\langle{#1}\rangle}_{#1.#2}}}
\newcommand{\edseq}[2]{\ensuremath{\xrightarrow{ed\langle{#2}\rangle}_{#1}}}
\newcommand{\writeop}[2]{W(#1,#2)}



% framework
\newcommand{\exseq}{E}
\newcommand{\qexseq}{E_Q}
\newcommand{\epexseq}{E_{EP}}
\newcommand{\pexseq}{E_P}
\newcommand{\qexseqs}{\ensuremath{\mathcal{E}}_Q}
\newcommand{\trace}{\tau}
\newcommand{\tracetree}{\ensuremath{\mathcal{T}}}
\newcommand{\stateafter}[1]{\mystate_{[#1]}}
\newcommand{\mystate}{s}  % \state is defined in some package
\newcommand{\postevents}{{\it PE}}  % set of post events
\newcommand{\notdep}{{\it notdep}}
\newcommand{\notsucc}[2]{\mbox{\notdep}(#1,#2)}
\newcommand{\notsuccmsg}[3]{\mbox{\notdep}(#1,#2,#3)}
\newcommand{\notsuccset}[2]{\mbox{\it notdepSet}(#1,#2)}
\newcommand{\exseqmust}{\exseq_{must}}
\newcommand{\exseqmay}{\exseq_{may}}
\newcommand{\unaryqexs}[1]{\mbox{\it unary}(#1)}
\newcommand{\revnotdep}{{\it reverse\_race}}
\newcommand{\reversenotsucc}[3]{\mbox{\revnotdep}(#2,#3,#1)}
\newcommand{\reverserel}[3]{{\it rev}(#1,#2,#3)}
\newcommand{\schedulable}[1]{{\it schedulable}(#1)}
\newcommand{\resched}[1]{{\it resched}(#1)}
\newcommand{\reschedafter}[2]{{\it resched}_{[#1]}(#2)}
\newcommand{\visit}[1]{{\it visit}(#1)}
\newcommand{\visited}[1]{{\it visited}(#1)}
\newcommand{\origrev}{{\it origrev}}
\newcommand{\origreverse}[1]{\mbox{\origrev}(#1)}
%% \newcommand{\origreverse}[3]{\mbox{\origrev}_{[#1]}(#2,#3)}
\newcommand{\wellformed}[1]{\mbox{\it wf}(#1)}
\newcommand{\set}[1]{\{#1\}}
\newcommand{\setcomp}[2]{\{#1\mid #2\}}
\newcommand{\tuple}[1]{\ensuremath{\langle {#1}\rangle}}
%% \newcommand{\hb}[1]{\ensuremath{\leq{#1}}}
\newcommand{\happbf}[2]{\ensuremath{\xrightarrow{#1}_{#2}}}
\newcommand{\nhappbf}[2]{\ensuremath{\overset{#1}{\nrightarrow_{#2}}}}
\newcommand{\apo}{\ensuremath{\rightarrow}}
\newcommand{\adom}{\ensuremath{dom}}
\newcommand{\dom}[1]{\ensuremath{dom({#1})}}
\newcommand{\domofafter}[2]{\ensuremath{dom_{#1}({#2})}}
\newcommand{\primaryof}[1]{\{#1\}}
\newcommand{\derivedof}[1]{[\![#1]\!]}
\newcommand{\derivedrel}{{\it derrel}}
\newcommand{\derrel}[3]{\happbf{der(#2,#3)}{E}}
\newcommand{\race}[1]{\ensuremath{\lessdot_{#1}}}
\newcommand{\prefix}{\leq}
\newcommand{\totorder}[1]{<_{#1}}
\newcommand{\precof}[1]{\prec_{#1}}
\newcommand{\rev}[1]{\ensuremath{\sim_{#1}}}
\newcommand{\revconf}[1]{\ensuremath{\leq_{#1}}}
\newcommand{\revrace}[1]{\ensuremath{\lesssim_{#1}}}
\newcommand{\revmsgrace}[2]{\ensuremath{\lesssim_{#1}^{#2}}}
\newcommand{\msgrevrace}[3]{\ensuremath{\lesssim_{#1}^{#2}}}
\newcommand{\pre}[2]{\ensuremath{pre({#1},{#2})}}
\newcommand{\preinclude}[2]{\ensuremath{\widetilde{pre}({#1},{#2})}}
\newcommand{\obs}[2]{\ensuremath{observers({#1},{#2})}}
%% \newcommand{\redseqs}[2]{\ensuremath{redundant({#1},{#2})}}
\newcommand{\since}[3]{\ensuremath{\mathit{since}_{[{#1},{#2}]}(#3)}}
\newcommand{\before}[3]{\ensuremath{\mathit{before}_{[{#1},{#2}]}(#3)}}
\newcommand{\redundant}[3]{\ensuremath{redundant_{[{#1},{#2}]}(#3)}}
\newcommand{\wut}[1]{\ensuremath{wut({#1})}}
\newcommand{\wutname}{\ensuremath{wut}}
\newcommand{\insrtWS}[3]{\ensuremath{insert_{[{#1}]}({#2},{#3})}}
\newcommand{\ndep}[2]{\ensuremath{notdep({#1},{#2)}}}
\newcommand{\notobs}[3]{\ensuremath{notobs({#1},{#2},{#3})}}
\newcommand{\hbpreserved}[2]{\ensuremath{HBPreserved({#1},{#2})}}
\newcommand{\enabled}[1]{\ensuremath{enabled({#1})}}
\newcommand{\fst}[1]{\ensuremath{\mathit{fst}({#1})}}
\newcommand{\lst}[1]{\ensuremath{lst({#1})}}
\newcommand{\rst}[1]{\ensuremath{rst({#1})}}
\newcommand{\exseqs}{\ensuremath{\mathcal{E}}}
\newcommand{\inits}[2]{\ensuremath{I_{[{#1}]}({#2})}}
\newcommand{\winits}[2]{\ensuremath{WI_{[{#1}]}({#2})}}
\newcommand{\winitthreads}[2]{\ensuremath{WIT_{[{#1}]}({#2})}}
\newcommand{\winitmsgs}[2]{\ensuremath{WIM_{[{#1}]}({#2})}}
\newcommand{\infirstseqs}[1]{\ensuremath{\sqsubseteq_{[#1]}}}
\newcommand{\notinfirstseqs}[1]{\ensuremath{\not\sqsubseteq_{[#1]}}}
\newcommand{\inwfirstseqs}[1]{\ensuremath{\sim_{[#1]}}}
\newcommand{\notinwfirstseqs}[1]{\ensuremath{\not\sim_{[#1]}}}
\newcommand{\remove}{\! \setminus \!}
\newcommand{\residual}[3]{#2\setminus_{[#1]}#3}
\newcommand{\residualafterempty}[2]{#1\setminus{#2}}
\newcommand{\racefree}[1]{\ensuremath{\lhd_{[#1]}}}
\newcommand{\racefreeafterempty}{\ensuremath{\lhd}}
\newcommand{\notracefree}[1]{\ \ / \!\!\!\! \lhd_{[#1]}}
\newcommand{\notracefreeafterempty}{\ \ / \!\!\!\! \lhd \ }
\newcommand{\checkwi}{\ensuremath{\mbox{\em Check-WI}}}
\newcommand{\insertwus}[3]{\mathit{Insert({#1},{#2},{#3})}}
\newcommand{\insertwusiter}[2]{\ensuremath{\mathit{InsertWuS}({#1},{#2})}}
\newcommand{\insertwusname}{\ensuremath{\mathit{InsertWuS}}\xspace}
\newcommand{\insertwustwo}[2]{\ensuremath{InsertWuS({#1},{#2})}}
\newcommand{\insertseq}[3]{\ensuremath{insert_{[{#1}]}({#2},{#3})}}
\newcommand{\insertrec}[5]{\ensuremath{Insert_{[{#1},{#2}]}({#3},{#4},{#5})}}
\newcommand{\mtequiv}{\simeq}
\newcommand{\equivafter}[1]{\simeq_{[#1]}}
\newcommand{\mtprefix}{\sqsubseteq}
\newcommand{\notmtprefix}{\ \ / \!\!\!\! \mtprefix}
\newcommand{\mtprefixafter}[1]{\mtprefix_{[#1]}}
\newcommand{\notmtprefixafter}[1]{\ \ / \!\!\!\! \mtprefix_{[#1]}}
\newcommand{\wmtprefix}{\sim}
\newcommand{\wmtprefixafter}[1]{\wmtprefix_{[#1]}}
\newcommand{\notwmtprefixafter}[1]{\ \ / \!\!\!\! \wmtprefix_{[#1]}}
\newcommand{\eqclass}[1]{\ensuremath{[{#1}]_\simeq}}
\newcommand{\emptyseq}{\ensuremath{\langle\rangle}}
\newcommand{\emptytree}{\ensuremath{\langle\{\langle\rangle\},\emptyset\rangle}}
\newcommand{\nextev}[2]{\ensuremath{next_{[{#1}]}({#2})}}
\newcommand{\mtclass}[1]{[#1]_{\simeq}}
\newcommand{\valid}[2]{\ensuremath{{#1}\!\vdash\!{#2}}}
\newcommand{\subtreeafter}[2]{\mbox{\sl subtree}(#2,#1)}
%% \newcommand{\indafter}[3]{\ensuremath{{#1}\vdash{#2}\diamond{#3}}}
\newcommand{\indafter}[3]{\ensuremath{{#2}\diamond_{[#1]}{#3}}}
\newcommand{\notindafter}[3]{\ensuremath{{#1}\nvdash{#2}\diamond{#3}}}
\newcommand{\witness}[3]{\ensuremath{Witness_{[#1,#2]}({#3})}}
\newcommand{\completion}[3]{\ensuremath{[#2]_{#1}^{#3}}}

% queues and send
\newcommand{\queue}{\ensuremath{\mathtt{q}}}
\newcommand{\post}{\texttt{post}}
\newcommand{\receive}{\texttt{rcv}}
\newcommand{\enq}{\ensuremath{\mathtt{enq}}}
\newcommand{\deq}{\ensuremath{\mathtt{deq}}}

% statements
\newcommand{\block}{\ensuremath{\mathtt{b}}}

% orders
\newcommand{\po}{\ensuremath{\color{red}\mathtt{po}\color{black}}}
\newcommand{\mo}{\ensuremath{\color{red}\mathtt{mo}\color{black}}}
\newcommand{\rf}{\ensuremath{\color{green}\mathtt{rf}\color{black}}}
\newcommand{\co}{\ensuremath{\color{orange}\mathtt{co}\color{black}}}
\newcommand{\fr}{\ensuremath{\color{RoyalBlue}\mathtt{fr}\color{black}}}
\newcommand{\pb}{\ensuremath{\color{violet}\mathtt{pb}\color{black}}}
\newcommand{\eom}{\ensuremath{\color{Brown}\mathtt{moe}\color{black}}}
\newcommand{\ppm}{\ensuremath{\color{gray}\mathtt{pom}\color{black}}}
\newcommand{\mustppm}{\ensuremath{\color{red}\mathtt{Mpom}\color{black}}}
\newcommand{\mayppm}{\ensuremath{\color{orange}\mathtt{mpom}\color{black}}}
\newcommand{\must}{\ensuremath{\color{red}\mathtt{MUST}\color{black}}}
\newcommand{\may}{\ensuremath{\color{orange}\mathtt{MAY}\color{black}}}
\newcommand{\eop}{\ensuremath{\color{teal}\mathtt{mop}\color{black}}}
\newcommand{\cnf}{\ensuremath{\color{red}\mathtt{cnf}\color{black}}}
\newcommand{\sch}{\ensuremath{\color{blue}\mathtt{sch}\color{black}}}
\newcommand{\dc}{\ensuremath{\color{orange}\mathtt{dc}\color{black}}}
\newcommand{\hb}{\ensuremath{\color{blue}\mathtt{hb}\color{black}}}
\newcommand{\rsc}{\ensuremath{\color{violet}\mathtt{rsc}\color{black}}}
\newcommand{\compl}{\ensuremath{\color{violet}\mathtt{cpl}\color{black}}}
\newcommand{\mec}{\ensuremath{\color{violet}\mathtt{mec}\color{black}}}
\newcommand{\all}{\ensuremath{\color{black}\mathtt{ed+}\color{black}}}
\newcommand{\weakall}{\ensuremath{\color{black}{\mathtt{ed}}\color{black}}}
\newcommand{\sat}{\ensuremath{\color{gray}\mathtt{st}\color{black}}}
\newcommand{\ppr}{\ensuremath{\color{violet}\mathtt{ppr}\color{black}}}
\newcommand{\wi}{\ensuremath{\color{violet}\mathtt{wi}\color{black}}}
\newcommand{\pprev}{\happbf{\ppr}{E.v.w_f}}
\newcommand{\mustaccess}{\ensuremath{\mbox{\em MustAccess}}}
\newcommand{\mayaccess}{\ensuremath{\mbox{\em MayAccess}}}
\newcommand{\accessesbefore}{\ensuremath{\mbox{\em accessesbefore}}}
\newcommand{\eventsbefore}{\ensuremath{\mbox{\em eventsbefore}}}
\newcommand{\postsbefore}{\ensuremath{\mbox{\em postsbefore}}}
%% \newcommand{\accessof}{\ensuremath{\mbox{\em access}}}
\newcommand{\seenp}{\ensuremath{\mbox{\em seenp}}}


% syntax
\newcommand{\progsyn}{\ensuremath{\mathbf{Prog}}}
\newcommand{\threadsyn}{\ensuremath{\mathbf{Code}}}
\newcommand{\instsyn}{\ensuremath{\mathbf{Inst}}}
\newcommand{\msgsyn}{\ensuremath{\mathbf{Msg}}}
\newcommand{\eomsyn}{\ensuremath{\mathtt{eom}}}
\newcommand{\fetchsyn}{\textbf{fetch}}

% labels
\newcommand{\stmtlabel}{\ensuremath{\lambda}}

\newcommand{\procof}[1]{\widehat{#1}}
\newcommand{\pair}[2]{\langle#1,#2\rangle}
\newcommand{\transpair}[2]{\pair{#1}{#2}}
\newcommand{\messageof}[1]{\mbox{\it msg\langle{#1}\rangle}}
\newcommand{\messof}[1]{\mathit{msg}\langle{#1}\rangle}

% succ
\newcommand{\nnext}{\ensuremath{\mathtt{succ}}}
\newcommand{\tnext}{\ensuremath{\mathtt{Tsucc}}}
\newcommand{\fnext}{\ensuremath{\mathtt{Fsucc}}}

% trace
\newcommand{\presche}{\ensuremath{pre}}
\newcommand{\postsche}{\ensuremath{post}}
\newcommand{\predecs}{\ensuremath{predecs}}

% transitions 
\newcommand{\trans}[1]{\ensuremath{\rightarrowtail_{#1}}}
\NewDocumentCommand{\rtrans}{oo} 
{\IfNoValueTF {#1}
        {\ensuremath{\xrightarrow{}}\xspace}
        {\IfNoValueTF {#2}
            {\ensuremath{\xrightarrow{#1}}\xspace}
            {\ensuremath{\xrightarrow[#2]{#1}}\xspace}}}

\NewDocumentCommand{\rntrans}{oo} 
{\IfNoValueTF {#1}
        {\ensuremath{\centernot{\xrightarrow{}}}\xspace}
        {\IfNoValueTF {#2}
            {\ensuremath{\centernot{\xrightarrow{#1}}}\xspace}
            {\ensuremath{\centernot{\xrightarrow[#2]{#1}}}\xspace}}}

%\newtheorem{theorem}{Theorem}
%\newtheorem{claim}[theorem]{Claim}
%% \newtheorem{example}{Example}

%Algorithm

\newcommand{\keyword}[1]{\mbox{\bf #1}}
%% \newcommand{\redundant}[2]{#1 \in \redseqs{#2}{\done}}
%% \newcommand{\notredundant}[2]{#1 \not\in \redseqs{#2}{\done}}
\newcommand{\notredundant}[3]{\neg\redundant{#1}{#2}{#3}}
\newcommand{\notredundantone}[1]{\redseqs{#1}{\done} = \emptyset}
\SetKw{Continue}{continue}

%proof

\newcommand{\Eup}[1]{E'_{#1}} % E upper for thread p
\newcommand{\Elp}[1]{w'_{#1}} % E lower for thread p
\newcommand{\Eu}[0]{\Eup{q}} % E upper
\newcommand{\El}[0]{\Elp{q}} % E lower
\newcommand{\wlp}[1]{w_{#1}} % w's longest independent prefix for a thread
\newcommand{\wl}{\wlp{q}}
\newcommand{\wlpe}[0]{w''_{q}} % extension of w's longest prefix
\newcommand{\Efr}[0]{\wlp.\wlpe.q} % E's first reversal
\newcommand{\Esr}[0]{\wlp.\wlpe} % E's second reversal
\newcommand{\Er}[0]{E'''} % E's reversal
\newcommand{\cem}[0]{e_q''} % conflicting event in message
\newcommand{\cep}[0]{e_q'} % conflicting post event  
\newcommand{\ce}[0]{e_q} % conflicting event
\newcommand{\rcs}[0]{\ce} % race-clearing sequence
\newcommand{\qe}[0]{\nextev{\Eu}{q}} % q's event
\newcommand{\ui}[0]{u_{1}}
\newcommand{\uii}[0]{u_{2}}
\newcommand{\uiii}[0]{u_{3}}
\newcommand{\uip}[0]{u_{1}'}
\newcommand{\uiip}[0]{u_{2}'}
\newcommand{\uiiip}[0]{u_{3}'}

%tikz
\newcommand\thread{{\it t}}

%\definecolor{t1bg}{HTML}{ffcc99}
%\definecolor{t2bg}{HTML}{cbdcff}
%\definecolor{t3bg}{HTML}{ccffff}
%\def\ta#1{\colorlet{saved}{.}\mbox{\colorbox{t1bg}{\color{saved}#1}}\color{saved}}
%\def\tb#1{\colorlet{saved}{.}\mbox{\colorbox{t2bg}{\color{saved}#1}}\color{saved}}
%\def\tc#1{\colorlet{saved}{.}\mbox{\colorbox{t3bg}{\color{saved}#1}}\color{saved}}

\renewcommand{\textfraction}{.1}
\renewcommand{\floatpagefraction}{.9}

\tikzset{event/.style={draw=none,fill=none,align=left}}
\tikzset{arc/.style={->,>=stealth,thick}}
\tikzset{arcDerived/.style={->,>=stealth,thick,dashed}}

%table
\newcommand{\bench}[1]{\textsf{\mbox{#1}}}
\newcommand{\evt}[1]{\texttt{#1--event}\xspace}
\newcommand{\opt}[1]{\texttt{#1--optimal}\xspace}
\newcommand{\genmcmo}[1]{\texttt{#1--mo}\xspace}
\newcommand{\lapormo}[1]{\texttt{#1--lapor}\xspace}

\newlist{propenum}{enumerate}{2} % also creates a counter called 'propenumi'
\setlist[propenum]{ref=\arabic*, label={\arabic*.}}
\crefname{propenumi}{property}{properties}
\crefname{propenumii}{property}{properties}

\newlist{ruleenum}{enumerate}{2} % also creates a counter called 'ruleenumi'
\setlist[ruleenum]{ref=R\arabic*, label={R\arabic*.}}
\crefname{ruleenumi}{rule}{rules}
\Crefname{ruleenumi}{Rule}{Rules}

\newlist{phaseenum}{enumerate}{2} % also creates a counter called 'phaseenumi'
\setlist[phaseenum]{ref=P-\Roman*, label={P-\Roman*.}}
\crefname{phaseenumi}{phase}{phases}
\Crefname{phaseenumi}{Phase}{Phases}

%% Show one thing or another depending on whether a reference is defined
\makeatletter
\newcommand{\iffref}[3]{\@ifundefined{r@#1}{#3}{#2}}
\makeatother
