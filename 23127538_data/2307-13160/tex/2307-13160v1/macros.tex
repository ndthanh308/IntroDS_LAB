\newcommand\calF{\mathcal{F}}
\newcommand\calG{\mathcal{G}}
\newcommand\calM{\mathcal{M}}
\newcommand\calV{\mathcal{V}}
\newcommand\calU{\mathcal{U}}
\newcommand\calW{\mathcal{W}}
\newcommand\calP{\mathcal{P}}
\newcommand\calD{\mathbb{D}}
%%%%%%%%%%%%%%%%%
%% macros introduced by Luke 
\newcommand\mydef[1]{{\bf\em #1}}
%%%%%%%%%%%%%%%%%

\newcommand{\numviparams}{{| \lambda |}}
\newcommand{\scoreaccvars}[1]{s_1^{#1}, \ldots, s_{\numviparams}^{#1}}
\newcommand{\scoreaccvar}[2]{s_{#1}^{#2}}
\newcommand{\isdeterm}[1]{\text{Deterministic}({#1})}


\newcommand{\expect}[1]{\mathbb{E}\left[{#1}\right]}
\newcommand{\var}[1]{\mathbb{V}\left[ {#1} \right]}
\newcommand{\expectdist}[2]{\mathbb{E}_{#1}\left[ {#2} \right]}
\newcommand{\vardist}[2]{\mathbb{V}_{#1}\left[ {#2} \right]}
\newcommand{\cov}[2]{\mathbb{C}\text{ov}[{#1}][{#2}]}
\newcommand{\covv}[1]{\mathbb{C}\text{ov}[{#1}]}
\newcommand{\corr}[1]{\mathbb{C}\text{orr}[{#1}]}

\newcommand{\fix}[1]{\mathit{fix}\left({#1}\right)}
\newcommand{\sbr}[1]{\left\llbracket {#1} \right\rrbracket}
\newcommand{\ctxtype}[3]{{#1} \cong_\text{ctx} {#2} : {#3}}
\newcommand{\bigstep}[3]{{#1} \Downarrow_{#2} {#3}}


% PCF types
\newcommand{\bool}{\mathit{bool}}
\newcommand{\nat}{\mathit{nat}}

\newcommand{\ctx}[1]{\mathcal{C}\left[ {#1}\right] }
\newcommand{\pcft}[1]{\text{PCF}_{#1}}

\newcommand{\nfl}{\mathbb{N}_\bot}
\newcommand{\bfl}{\mathbb{B}_\bot}

% PCF constructs
\newcommand{\succc}[1]{\mathbf{succ}({#1})}
\newcommand{\succcn}[2]{\mathbf{succ}^{#1}({#2})}
\newcommand{\zero}{\mathbf{0}}
\newcommand{\zerotest}[1]{\mathbf{zero}\left({#1}\right)}
\newcommand{\pred}[1]{\mathbf{pred}\left( {#1} \right)}
\newcommand{\predn}[2]{\mathbf{pred}^{#1}\left( {#2} \right)}
\def\solvable{\#}

\newcommand{\true}{\mathbf{true}}
\newcommand{\false}{\mathbf{false}}
\newcommand{\pcffix}[1]{\mathbf{fix}\left({#1}\right)}
\newcommand{\pcffn}[3]{\mathbf{fn}~{#1}:{#2}\mathpunct{.}{#3}}
\newcommand{\pairtype}[2]{{#1} * {#2}}
\newcommand{\pairexp}[2]{\mathbf{pair}({#1}, {#2})}
\newcommand{\leftexp}[1]{\mathbf{left}({#1})}
\newcommand{\rightexp}[1]{\mathbf{right}({#1})}

\newcommand{\RationalPos}{\mathbb{Q}^{+}}

\newcommand{\meas}[1]{\mathbb{M}\left( {#1} \right) }
\newcommand{\integ}[1]{\sbr{#1}_I}

\newcommand{\notbigstep}[2]{{#1}~\cancel{\Downarrow}_{#2}}
\newcommand{\subtrace}[3]{{#1}^{{#2} \ldots {#3}}}
\newcommand{\supp}[1]{\textsf{supp}\left({#1}\right)}
\newcommand{\dom}[1]{\textsf{Dom}\left({#1}\right)}
\newcommand{\suppk}[2]{\textsf{Supp}^{#1}\left({#2}\right)}
\newcommand{\tracespace}{\bigcup_{n \in \mathbb{N}}[0, 1]^n}
\newcommand{\generictracespace}{\mathbb{T}}
\newcommand{\nnreals}{\mathbb{R}_{\geq 0}}
\newcommand{\posreals}{\mathbb{R}_{> 0}}
\newcommand{\reals}{\mathbb{R}}

\newcommand{\unrollkM}[2]{\textsf{unroll}_{#1}\left({#2}\right)}
\newcommand{\nphmcint}[5]{\Psi_\textsf{NP}\left({#1}, {#2}, {#3}, {#4}, {#5}\right)}

%SPCF constructs
\newcommand{\spcfvalues}{\Lambda^0_v}

\newcommand{\prevalueM}[1]{\textsf{value}^{-1}_{#1}(\spcfvalues{})}
\newcommand{\num}[1]{\underline{#1}}

% \theoremstyle{definition}
% \newtheorem{thm}{Theorem}
% \newtheorem{lem}{Lemma}
% \newtheorem{defn}{Definition}
% \newtheorem{conj}{Conjecture}
% \newtheorem{prop}{Proposition}

%\theoremstyle{definition}
%\newtheorem{defn}{Definition}[section]
%\newtheorem{example}[defn]{Example}
%
%
%\theoremstyle{plain}
%\newtheorem{thm}{Theorem}[section]
%\newtheorem{lem}[thm]{Lemma}
%\newtheorem{cor}[thm]{Corollary}
%\newtheorem{conj}[thm]{Conjecture}
%\newtheorem{prop}[thm]{Proposition}
%\newtheorem{remark}[thm]{Remark}

%% Proofs
%\let\oldproof\proof
%\renewcommand{\proof}{\color{blue}\oldproof}


\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{myStyle}{
    belowcaptionskip=1\baselineskip,
    breaklines=true,
    frame=none,
    basicstyle=\footnotesize\ttfamily,
    keywordstyle=\bfseries\color{green!40!black},
    commentstyle=\itshape\color{purple!40!black},
    identifierstyle=\color{blue},
    backgroundcolor=\color{gray!10!white},
    %backgroundcolor=\color{backcolour}, 
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    breakatwhitespace=false,                          
    keepspaces=true,                 
    numbers=left,       
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
}

% argmin/argmax
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

% Concatenation of lists
\newcommand\doubleplus{+\kern-1.3ex+\kern0.8ex}

% Program configurations
\newcommand{\tuple}[1]{\ensuremath{\langle #1 \rangle}}
% Rule based definitions
\newcommand{\Rule}[4][]{\ensuremath{\inferrule*[lab={\hypertarget{#2}{(\TirName{#2})}},#1]{#3}{#4}}}

% Calligraphic symbols
\newcommand{\calI}{{\mathcal I}} 
\newcommand{\calT}{{\mathcal T}}

%  Macro for new Y operator.
\newcommand{\yBounded}[3]{\mu^{#1}_{#2}\rvert_{#3}}

%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%

\newcommand{\expv}{\mathbb{E}}

\newcommand{\combTr}[2]{\left[\begin{matrix}
		#1\\
		#2
	\end{matrix} \right]}

\newcommand{\exType}[2]{\left\{\begin{matrix}
		#1\\
		#2
	\end{matrix} \right\}}
\newcommand{\myint}[1]{ [#1]}
\newcommand{\Uniform}{\ensuremath{\mathrm{Uniform}}}
\newcommand{\Normal}{\ensuremath{\mathrm{normal}}}
\DeclareMathOperator{\abs}{abs}
\DeclareMathOperator{\pdf}{pdf}

\newcommand{\intConf}[1]{\lceil#1\rceil}
\newcommand{\tr}{\boldsymbol{t}}

\newcommand{\sample}{\tt{sample}}
%\newcommand{\fix}{\texttt{fix}}
%\newcommand{\num}[1]{\underline{#1}}
\newcommand{\myif}{\texttt{if}}
\newcommand{\mylet}{\texttt{let} \, }
\newcommand{\myin}{\, \texttt{in} \,}
\newcommand{\mythen}{\, \texttt{then} \,}
\newcommand{\myelse}{\, \texttt{else} \,}
\newcommand{\score}{\tt{score}}
\newcommand{\tick}{\tt{tick}}

\newcommand{\term}{\tt{term}}
\newcommand{\pv}{\mathbf{v}}
\newcommand{\rv}{\mathbf{r}}

\newcommand{\interval}{\mathfrak{I}}

\newcommand{\typeReal}{\textbf{\textsf{R}}}

\newcommand{\symbolInt}{\myint{\cdot}}

\newcommand{\LambdaInterval}{\Lambda_{\interval}}
\newcommand{\LambdaSymbolic}{\Lambda_{\text{sym}}}

\newcommand{\toIntervalTerm}[1]{#1^{2\interval}}

%Others
\newcommand{\Sset}{\mathbb{S}}
\newcommand{\Iset}{\mathbb{I}}
\newcommand{\Rset}{\mathbb{R}}
\newcommand{\Nset}{\mathbb{N}}
\newcommand{\Zset}{\mathbb{Z}}

\newcommand{\Term}{\mathbb{T}}
\newcommand{\prob}{\mathbb{P}}
\newcommand{\expt}{\mathbb{E}}


\newcommand{\Leb}{\tt{Leb}}
\newcommand{\Red}{\tt{Red}}
\newcommand{\cost}{\text{cost}}

%\newcommand{\intervalab}[2]{\underline{[#1,#2]}}
\newcommand{\intervalab}{\underline{[a,b]}}
\newcommand{\interI}{\mathcal{I}}
\newcommand{\trans}{\mathcal{T}}

\newcommand{\iv}{\mathbb{I}}

% Programming language constructs
\newcommand{\lit}[1]{\underline{#1}}
\newcommand{\letIn}[1]{\mathsf{let}\,{#1}\,\mathsf{in}\,}
\newcommand{\fixLam}[2]{\mu {#1} {#2}.}
\newcommand{\ifElse}[3]{\mathsf{if} (#1 \le \num{0}) \, {#2} \,\mathsf{else}\, {#3}}

%%Basic notions
\newcommand{\pspace}{(\Omega,\mathcal{F},\probm)}
\newcommand{\probm}{\mathbb{P}}
\newcommand{\condexpv}[2]{{\expt}{\left[{#1} \mid {#2}\right]}}

\newcommand{\stdConf}[1]{(#1)}
%\newcommand{\intConf}[1]{\lceil#1\rceil}
%\newcommand{\intConf}[1]{(#1)}
%\newcommand{\symConf}[1]{\langle\!\langle  #1 \rangle\!\rangle}
%\newcommand\symPath[1]{(#1)}
\newcommand{\symPath}[1]{\langle\!\langle  #1 \rangle\!\rangle}
\newcommand\symConf[1]{(#1)}

\newcommand{\ifSimple}[3]{\mathsf{if}(#1, #2, #3)}
%\newcommand{\ifElse}[3]{\mathsf{if} (#1 \le 0) \, \allowbreak {#2} \, \allowbreak \mathsf{else}\, {#3}}
%\newcommand{\ifElse}[3]{\ifSimple{#1}{#2}{#3}}

%\newcommand{\trace}{\mathsf{s}}
%
%\newcommand\defn[1]{{\bf \em #1}}
\newcommand{\traces}{\mathbb{T}}
%
%\newcommand{\stdConf}[1]{(#1)}
%%\newcommand{\intConf}[1]{\lceil#1\rceil}
%\newcommand{\intConf}[1]{(#1)}
%%\newcommand{\symConf}[1]{\langle\!\langle  #1 \rangle\!\rangle}
%%\newcommand\symPath[1]{(#1)}
%\newcommand{\symPath}[1]{\langle\!\langle  #1 \rangle\!\rangle}
%\newcommand\symConf[1]{(#1)}

\newcommand{\valueSem}[1]{\mathsf{val}_{#1}} % value (semantics)
\newcommand{\weightSem}[1]{\mathsf{wt}_{#1}} % weight (semantics)
\newcommand{\measureSem}[1]{\llbracket #1 \rrbracket}
\newcommand{\posterior}{\mathsf{posterior}}


%%%%%%%%%
% 
%%%%%%%%
\newcommand{\loc}{\ell}
\newcommand{\locs}{\mathit{L}}
\newcommand{\blocs}{\mathit{L}_{\mathrm{b}}}

\newcommand{\iflocs}{\mathit{L}_{\mathrm{if}}}
\newcommand{\looplocs}{\mathit{L}_{\mathrm{while}}}

\newcommand{\alocs}{\mathit{L}_{\mathrm{a}}}
\newcommand{\wlocs}{\mathit{L}_{\mathrm{w}}}
\newcommand{\rlocs}{\mathit{L}_{\mathrm{r}}}
\newcommand{\Alocs}[1]{\mathit{L}_{\mathrm{A}}^{\mathsf{#1}}}
\newcommand{\Dlocs}{\mathit{L}_{\mathrm{nd}}}
\newcommand{\transitions}{{\rightarrow}}

%%% 
\newcommand{\plocs}{\mathit{L}_{\mathrm{p}}}
\newcommand{\tlocs}{\mathit{L}_{\mathrm{t}}}

\newcommand{\lin}{\loc_\mathrm{init}}
\newcommand{\lout}{\loc_\mathrm{out}}
\newcommand{\val}[1]{\mbox{\sl Val}_{#1}}

\newcommand{\pvars}{V_\mathrm{p}}
\newcommand{\rvars}{V_{\mathrm{r}}}
\newcommand{\pre}{\mathrm{pre}}

\newcommand{\sle}{\sqsubseteq}
\newcommand{\sge}{\sqsupseteq}

\newcommand{\lfp}{\mathrm{lfp}}
\newcommand{\gfp}{\mathrm{gfp}}

\newcommand{\rdvarjdis}{\mathcal D}
\newcommand{\sampset}{\textit{supp}}

\newcommand{\upd}{\mbox{\sl upd}}
\newcommand{\wet}{\mbox{\sl wt}}
\newcommand{\transset}{\mathfrak T}
\newcommand{\valin}{\pv_{\mathrm{init}}}
\newcommand{\ret}{\mbox{\sl ret}}

\newcommand{\win}{w_{\mathrm{init}}}

\newcommand{\sampdpd}{\overline{\Upsilon}}

\newcommand{\outmap}{\text{O}}
\newcommand{\sat}[1]{\langle #1 \rangle}
\newcommand{\monoid}{\mbox{\sl Monoid}}
\newcommand{\handelmanformat}{(\dagger)}

\newcommand{\trunc}{\mathcal{B}}

\newcommand{\ewt}{\mbox{\sl ewt}}
\newcommand{\statemap}{\text{St}}

\newcommand{\valrd}{{\mathbf{r}}}
\newcommand{\frmloc}{\ell^{\mathrm{src}}}
\newcommand{\toloc}{\ell^{\mathrm{dst}}}

\newcommand{\monomials}{\mathbf{M}}