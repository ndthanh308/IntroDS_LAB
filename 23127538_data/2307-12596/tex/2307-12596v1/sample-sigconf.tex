\documentclass[acmsmall]{acmart}
\usepackage{url}
\usepackage{tcolorbox}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[export]{adjustbox}
\tcbuselibrary{listings} % For combining with listings
% \tcbuselibrary{minted} % For combining with minted
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{flushend}
\usepackage{balance}
\usepackage{fancyhdr}
\usepackage{multirow}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    citecolor=blue,
    pdfpagemode=FullScreen,
    }
\urlstyle{same}
\usepackage{listings}

\usepackage{xcolor}

%New colors defined below
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

%Code listing style named "mystyle"
\lstdefinestyle{mystyle}{
  label=code:sample,
  % caption=Test,
  backgroundcolor=\color{backcolour}, commentstyle=\color{codegreen},
  keywordstyle=\color{magenta},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{codepurple},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,         
  breaklines=true,                 
  captionpos=t,                    
  keepspaces=true,                 
  numbers=left,                    
  numbersep=2pt,                  
  showspaces=false,                
  showstringspaces=false,
  showtabs=false,                  
  tabsize=1
}

%"mystyle" code listing set
\lstset{style=mystyle}

\usepackage[font=small,labelfont=bf]{caption}

\AtBeginDocument{%
  \providecommand\BibTeX{{%
    \normalfont B\kern-0.5em{\scshape i\kern-0.25em b}\kern-0.8em\TeX}}}


\newcommand{\ea}{\textit{et al.}}
\newcommand{\rqone}{How ?}
\newcommand{\rqtwo}{What ?}
\newcommand{\rqthree}{What ?}


\newcommand\lili[1]{{\textcolor{blue}{Li: #1}}}
\newcommand\yue[1]{{\textcolor{red}{yue: #1}}}
\newcommand\thanh[1]{{\textcolor{orange}{thanh: #1}}}
\newcommand\rw[1]{{\textcolor{green}{ratna: #1}}}
\newcommand\kla[1]{{\textcolor{blue}{Kla: #1}}}
\newcommand\david[1]{{\textcolor{blue}{David: #1}}}

\renewcommand{\lstlistingname}{Code}

% \lstset{
%     tabsize=3,
%     %frame=lines,
%     caption=Test,
%     label=code:sample,
%     frame=shadowbox,
%     rulesepcolor=\color{gray},
%     xleftmargin=20pt,
%     framexleftmargin=15pt,
%     keywordstyle=\color{blue}\bf,
%     commentstyle=\color{teal},
%     stringstyle=\color{red},
%     numbers=left,
%     numberstyle=\tiny,
%     numbersep=5pt,
%     breaklines=true,
%     showstringspaces=false,
%     basicstyle=\footnotesize,
%     emph={str},
%     emphstyle={\color{magenta}}
% }


\newcommand{\find}[1]{
\begin{tcolorbox}[leftrule=1mm,toprule=0mm,bottomrule=0mm,left=1pt,right=2pt,top=2pt,bottom=2pt]
\em #1
\end{tcolorbox}
}

\newcommand{\smallsection}[1]{\noindent {\bf \underline{#1}}.\hspace{1mm}}


\begin{document}
\title{Refining ChatGPT-Generated Code: Characterizing and Mitigating Code Quality Issues}

\thispagestyle{fancy}

\cfoot{\thepage} 
\renewcommand{\headrulewidth}{0pt} 
\renewcommand{\footrulewidth}{0pt}
\pagestyle{fancy}
\cfoot{\thepage} 

\author{Yue Liu}
\email{yue.liu1@monash.edu}
\affiliation{%
  \institution{Monash University}
  \country{Australia}
}
\author{Thanh Le-Cong}
\email{congthanh.le@student.unimelb.edu.au}
\affiliation{%
  \institution{The University of Melbourne}
  \country{Australia}
}

\author{Ratnadira Widyasari}
\email{ratnadiraw.2020@phdcs.smu.edu.sg}
\affiliation{%
  \institution{Singapore Management University}
  \country{Singapore}
}

\author{Chakkrit Tantithamthavorn}
\email{chakkrit@monash.edu}
\affiliation{%
  \institution{Monash University}
  \country{Australia}
}

\author{Li Li}
\email{lilicoding@ieee.org}
\affiliation{%
  \institution{Beihang University}
  \country{China}
}

\author{Xuan-Bach D. Le}
\email{bach.le@unimelb.edu.au}
\affiliation{%
  \institution{The University of Melbourne}
  \country{Australia}
}

\author{David Lo}
\email{davidlo@smu.edu.sg}
\affiliation{%
  \institution{Singapore Management University}
  \country{Singapore}
}



\begin{abstract}
Since its introduction in November 2022, ChatGPT has rapidly gained popularity due to its remarkable ability in language understanding and human-like responses. ChatGPT, based on GPT-3.5 architecture, has shown great promise for revolutionizing various research fields, including code generation. 
However, the reliability and quality of code generated by ChatGPT remain unexplored, raising concerns about potential risks associated with the widespread use of ChatGPT-driven code generation.

In this paper, we systematically study the quality of 4,066 ChatGPT-generated code implemented in two popular programming languages, i.e., Java and Python, for 2,033 programming tasks. 
The goal of this work is three folds. First, we analyze the correctness of ChatGPT on code generation tasks and uncover the factors that influence its effectiveness, including task difficulty, programming language, time that tasks are introduced, and program size. 
Second, we identify and characterize potential issues with the quality of ChatGPT-generated code. 
Last, we provide insights into how these issues can be mitigated.
Experiments highlight that out of 4,066 programs generated by ChatGPT, 2,757 programs are deemed correct, 1,081 programs provide wrong outputs, and 177 programs contain compilation or runtime errors. Additionally, we further analyze other characteristics of the generated code through static analysis tools, such as code style and maintainability, and find that 1,933 ChatGPT-generated code snippets suffer from maintainability issues. Subsequently, we investigate ChatGPT's self-debugging ability and its interaction with static analysis tools to fix the errors uncovered in the previous step. Experiments suggest that ChatGPT can partially address these challenges, improving code quality by more than 20\%, but there are still limitations and opportunities for improvement.
Overall, our study provides valuable insights into the current limitations of ChatGPT and offers a roadmap for future research and development efforts to enhance the code generation capabilities of AI models like ChatGPT.
\end{abstract}

\begin{CCSXML}
<ccs2012>
   <concept>
       <concept_id>10002944.10011123.10010912</concept_id>
       <concept_desc>General and reference~Empirical studies</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
   <concept>
       <concept_id>10011007.10011074</concept_id>
       <concept_desc>Software and its engineering~Software creation and management</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
 </ccs2012>
\end{CCSXML}

\ccsdesc[500]{General and reference~Empirical studies}
\ccsdesc[500]{Software and its engineering~Software creation and management}

\keywords{Automated code generation, ChatGPT, code analysis}

\maketitle

\input{sections/introduction}
\input{sections/background}
\input{sections/approach}
% \input{sections/experimental_design}
% \input{sections/result}
\input{sections/RQ1}
\input{sections/RQ2}
\input{sections/RQ3}
\input{sections/discussion}
\input{sections/related_work}
% \input{sections/threats}
\input{sections/conclusion}


%%
%% The next two lines define the bibliography style to be used, and
%% the bibliography file.



\bibliographystyle{ACM-Reference-Format}
\bibliography{sample-base}



%%

\end{document}
\endinput
%%
%% End of file `sample-sigconf.tex'.
