% This file was created with tikzplotlib v0.10.1.
\begin{tikzpicture}

\definecolor{darkgray176}{RGB}{176,176,176}
\definecolor{lightgray204}{RGB}{204,204,204}
\definecolor{green}{RGB}{0,128,0}
\definecolor{orange}{RGB}{255,165,0}
\definecolor{purple}{RGB}{128,0,128}

\begin{groupplot}[group style={group size=2 by 1,
    %xticklabels at=edge bottom,
    %xlabels at=edge bottom,
    horizontal sep=2cm},
    width=0.38\columnwidth,
    height=0.32\columnwidth,
    tick align=outside,
    tick pos=left,
    x grid style={black},
    %xlabel={\(\displaystyle \epsilon^2 / \mathbb{E}[{\| \vx \| ^2]}\)},
    xlabel={Perturbation level \(\displaystyle  \advnoiselevel^2 / \signalenergy\)},
    xtick style={color=black},
    y grid style={black},
    %ylabel={$R_{\epsilon}$},
    %ymin=0, ymax=1.5,
    ytick style={color=black},
    %legend cell align={left},
    legend style={
      fill opacity=0.8,
      draw opacity=1,
      text opacity=1,
      at={(1.3, 1.0)},
      anchor=north,
      draw=lightgray204
    },
]

\nextgroupplot[ylabel=Robust Risk $\hat R_{\advnoiselevel} / n$, ymin=-0.05, ymax=0.65, xmin=-0.01, xmax=0.31]

\addplot [draw=purple, fill=purple, forget plot, mark=*, only marks, mark size=1.3]
table{%
x  y
0 0.0144570712000132
0.03 0.0911787077784538
0.06 0.14598385989666
0.09 0.196288108825684
0.12 0.259189426898956
0.15 0.312755227088928
0.18 0.358387976884842
0.21 0.394662648439407
0.24 0.455720603466034
0.27 0.489737391471863
0.3 0.548383712768555
};
\path [draw=purple, fill=purple, opacity=0.2]
(axis cs:0,0.0146816419437528)
--(axis cs:0,0.0142325004562736)
--(axis cs:0.03,0.0877350196242332)
--(axis cs:0.06,0.14233885705471)
--(axis cs:0.09,0.19358266890049)
--(axis cs:0.12,0.249151021242142)
--(axis cs:0.15,0.299237728118896)
--(axis cs:0.18,0.346501111984253)
%--(axis cs:0.21,0.169662117958069)
--(axis cs:0.21,0.404348923563957)
--(axis cs:0.24,0.440460085868835)
%--(axis cs:0.27,0.294698715209961)
--(axis cs:0.27,0.500493415892124)
%0.27 0.489737391471863
--(axis cs:0.3,0.532227516174316)
--(axis cs:0.3,0.564539909362793)
--(axis cs:0.3,0.564539909362793)
%--(axis cs:0.27,1.24334537982941)
--(axis cs:0.27,0.500493415892124)
--(axis cs:0.24,0.470981121063232)
%--(axis cs:0.21,1.21199834346771)
--(axis cs:0.21,0.404348923563957)
--(axis cs:0.18,0.370274841785431)
--(axis cs:0.15,0.32627272605896)
--(axis cs:0.12,0.269227832555771)
--(axis cs:0.09,0.198993548750877)
--(axis cs:0.06,0.149628862738609)
--(axis cs:0.03,0.0946223959326744)
--(axis cs:0,0.0146816419437528)
--cycle;


\addplot [draw=brown, fill=brown, forget plot, mark=*, only marks, mark size=1.3]
table{%
x  y
0 0.0145480372011662
0.03 0.103674292564392
0.06 0.162117764353752
0.09 0.217594832181931
0.12 0.270199567079544
0.15 0.329420030117035
0.18 0.3896144926548
0.21 0.449223279953003
0.24 0.503972411155701
0.27 0.553259611129761
0.3 0.604214370250702
};
\path [draw=brown, fill=brown, opacity=0.2]
(axis cs:0,0.0146664849296212)
--(axis cs:0,0.014441796913743)
--(axis cs:0.03,0.1035242087394)
--(axis cs:0.06,0.161429154425859)
--(axis cs:0.09,0.217196078002453)
--(axis cs:0.12,0.26963078379631)
--(axis cs:0.15,0.328118891716003)
--(axis cs:0.18,0.385824239552021)
--(axis cs:0.21,0.447057546079159)
--(axis cs:0.24,0.501568802595139)
--(axis cs:0.27,0.550144843459129)
--(axis cs:0.3,0.602119567394257)
--(axis cs:0.3,0.606984004378319)
--(axis cs:0.3,0.606984004378319)
--(axis cs:0.27,0.556181343197823)
--(axis cs:0.24,0.506407313942909)
--(axis cs:0.21,0.451284474134445)
--(axis cs:0.18,0.392136896848679)
--(axis cs:0.15,0.330462814867497)
--(axis cs:0.12,0.272328098416328)
--(axis cs:0.09,0.218356383889914)
--(axis cs:0.06,0.162698857784271)
--(axis cs:0.03,0.103851693868637)
--(axis cs:0,0.0146664849296212)
--cycle;

\addplot [draw=black, fill=black, forget plot, mark=*, only marks, mark size=1.3]
table{%
x  y
0 0.0147133031859994
0.03 0.0948688238859177
0.06 0.150951772928238
0.09 0.201865255832672
0.12 0.250404059886932
0.15 0.297111332416534
0.18 0.34309321641922
0.21 0.391283273696899
0.24 0.435404896736145
0.27 0.47939532995224
0.3 0.522399187088013
};
\path [draw=black, fill=black, opacity=0.2]
(axis cs:0,0.0148402772191912)
--(axis cs:0,0.0145645293500274)
--(axis cs:0.03,0.0945356936007738)
--(axis cs:0.06,0.150286383926868)
--(axis cs:0.09,0.200690126419067)
--(axis cs:0.12,0.24816831484437)
--(axis cs:0.15,0.296323069632053)
--(axis cs:0.18,0.341460463106632)
--(axis cs:0.21,0.388256698250771)
--(axis cs:0.24,0.432234477996826)
--(axis cs:0.27,0.476193172931671)
--(axis cs:0.3,0.518781138658524)
--(axis cs:0.3,0.53201209962368)
--(axis cs:0.3,0.53201209962368)
--(axis cs:0.27,0.483060380518436)
--(axis cs:0.24,0.445162582397461)
--(axis cs:0.21,0.393343144655228)
--(axis cs:0.18,0.347739053964615)
--(axis cs:0.15,0.299826366901398)
--(axis cs:0.12,0.251888432204723)
--(axis cs:0.09,0.203933224976063)
--(axis cs:0.06,0.151830329596996)
--(axis cs:0.03,0.0961204923689365)
--(axis cs:0,0.0148402772191912)
--cycle;

%\addlegendentry{Reference}
\addplot [very thick, black]
table {%
0 0.0147133031859994
0.03 0.0948688238859177
0.06 0.150951772928238
0.09 0.201865255832672
0.12 0.250404059886932
0.15 0.297111332416534
0.18 0.34309321641922
0.21 0.391283273696899
0.24 0.435404896736145
0.27 0.47939532995224
0.3 0.522399187088013
};
%\addlegendentry{Jacobian}
\addplot [very thick, purple]
table {%
0 0.0144570712000132
0.03 0.0911787077784538
0.06 0.14598385989666
0.09 0.196288108825684
0.12 0.259189426898956
0.15 0.312755227088928
0.18 0.358387976884842
0.21 0.394662648439407
0.24 0.455720603466034
0.27 0.489737391471863
0.3 0.548383712768555
};
%\addlegendentry{Jittering}
\addplot [very thick, brown]
table {%
0 0.0145480372011662
0.03 0.103674292564392
0.06 0.162117764353752
0.09 0.217594832181931
0.12 0.270199567079544
0.15 0.329420030117035
0.18 0.3896144926548
0.21 0.449223279953003
0.24 0.503972411155701
0.27 0.553259611129761
0.3 0.604214370250702
};
%\addlegendentry{Weight Decay}
%\addlegendentry{Robust Training}

%\nextgroupplot[xlabel={\(\displaystyle \epsilon^2 / \mathbb{E}[{\| \vx \| ^2]}\)}, ymin=0.0, ymax=0.2, title={Standard Risks}]
%\nextgroupplot[ymin=0.045, ymax=0.13, ylabel={Standard Risk $R_0$}, xmin=0, xmax=0.3]
\nextgroupplot[ymin=0.01, ymax=0.06, ylabel={Standard Risk $\hat R_0 / n$}, xmin=-0.01, xmax=0.31,
%xtick={0.00, 0.03, 0.06, 0.09, 0.12, 0.15, 0.18, 0.21, 0.24, 0.27, 0.3},
%xticklabels={0.00, 0.03, 0.06, 0.09, 0.12, 0.15, 0.18, 0.21, 0.24, 0.27, 0.3},
%xtick={0.00, 0.06, 0.12, 0.18, 0.24, 0.3},
%xticklabels={0.00, 0.06, 0.12, 0.18, 0.24, 0.3},
xtick={0.0, 0.1, 0.2 , 0.3},
xticklabels={0.0, 0.1, 0.2, 0.3},
ytick={0.01, 0.03, 0.05},
yticklabels={0.01, 0.03, 0.05}, 
scaled ticks=false,
]

\addplot [draw=purple, fill=purple, forget plot, mark=*, only marks, mark size=1.3]
table{%
x  y
0 0.0147201688960195
0.03 0.0164544638246298
0.06 0.0178622920066118
0.09 0.0190845485776663
0.12 0.0203688740730286
0.15 0.0213488787412643
0.18 0.0224642120301723
0.21 0.0232909731566906
0.24 0.0247187204658985
0.27 0.0258494466543198
0.3 0.0265802890062332
};
\path [draw=purple, fill=purple, opacity=0.2]
(axis cs:0,0.0148649310786277)
--(axis cs:0,0.0143480968661606)
--(axis cs:0.03,0.0163093527406454)
--(axis cs:0.06,0.0177562140487134)
--(axis cs:0.09,0.0188704181462526)
--(axis cs:0.12,0.0202190331183374)
--(axis cs:0.15,0.0210787300765514)
--(axis cs:0.18,0.0221943242289126)
--(axis cs:0.21,0.0230888646654785)
--(axis cs:0.24,0.0242796497605741)
--(axis cs:0.27,0.0254145324788988)
--(axis cs:0.3,0.0263432427681983)
--(axis cs:0.3,0.027644968945533)
--(axis cs:0.3,0.027644968945533)
--(axis cs:0.27,0.0266839325763285)
--(axis cs:0.24,0.0252010421827435)
--(axis cs:0.21,0.023523269649595)
--(axis cs:0.18,0.0230983885936439)
--(axis cs:0.15,0.0217362204007804)
--(axis cs:0.12,0.0205480343475938)
--(axis cs:0.09,0.0192023307457566)
--(axis cs:0.06,0.0182512695342302)
--(axis cs:0.03,0.0165248928777874)
--(axis cs:0,0.0148649310786277)
--cycle;

\addplot [draw=brown, fill=brown, forget plot, mark=*, only marks, mark size=1.3]
table{%
x  y
0 0.014515558257699
0.03 0.0235897079110146
0.06 0.0255383010953665
0.09 0.0273451991379261
0.12 0.0299901366233826
0.15 0.0335953757166862
0.18 0.0413907021284103
0.21 0.0459551885724068
0.24 0.0489561781287193
0.27 0.0517510771751404
0.3 0.0538518205285072
};
\path [draw=brown, fill=brown, opacity=0.2]
(axis cs:0,0.0146731145773083)
--(axis cs:0,0.0144825459551066)
--(axis cs:0.03,0.0235293868370354)
--(axis cs:0.06,0.0254299680516124)
--(axis cs:0.09,0.0272969662025571)
--(axis cs:0.12,0.0297822892107069)
--(axis cs:0.15,0.0329402234777808)
--(axis cs:0.18,0.0387607873976231)
--(axis cs:0.21,0.0451293433085084)
--(axis cs:0.24,0.0487957499176264)
--(axis cs:0.27,0.0513954997435212)
--(axis cs:0.3,0.0537219090759754)
--(axis cs:0.3,0.0542244090512395)
--(axis cs:0.3,0.0542244090512395)
--(axis cs:0.27,0.052116633951664)
--(axis cs:0.24,0.0492330494895577)
--(axis cs:0.21,0.0463950236141682)
--(axis cs:0.18,0.0421377331390977)
--(axis cs:0.15,0.0360341919213533)
--(axis cs:0.12,0.0301450495049357)
--(axis cs:0.09,0.0274144658446312)
--(axis cs:0.06,0.0256019116379321)
--(axis cs:0.03,0.0236815906129777)
--(axis cs:0,0.0146731145773083)
--cycle;

\addplot [draw=black, fill=black, forget plot, mark=*, only marks, mark size=1.3]
table{%
x  y
0 0.0147440945729613
0.03 0.0177605431526899
0.06 0.0201129950582981
0.09 0.0225987322628498
0.12 0.0234517753124237
0.15 0.0238906741142273
0.18 0.0257232114672661
0.21 0.0262568555772305
0.24 0.0277578923851252
0.27 0.0280310809612274
0.3 0.0293545853346586
};
\path [draw=black, fill=black, opacity=0.2]
(axis cs:0,0.0148488094378263)
--(axis cs:0,0.0145646066591144)
--(axis cs:0.03,0.0175662638247013)
--(axis cs:0.06,0.0193404314294457)
--(axis cs:0.09,0.0213829477876425)
--(axis cs:0.12,0.0221542221494019)
--(axis cs:0.15,0.0230874824151397)
--(axis cs:0.18,0.0253729807026684)
--(axis cs:0.21,0.0253612977452576)
--(axis cs:0.24,0.027294160425663)
--(axis cs:0.27,0.0271437454596162)
--(axis cs:0.3,0.0284794061817229)
--(axis cs:0.3,0.0299957406148314)
--(axis cs:0.3,0.0299957406148314)
--(axis cs:0.27,0.027492879755795)
--(axis cs:0.24,0.0270194312334061)
--(axis cs:0.21,0.0266809953935444)
--(axis cs:0.18,0.0261396282352507)
--(axis cs:0.15,0.0249947922304273)
--(axis cs:0.12,0.0240897074900568)
--(axis cs:0.09,0.02321548352018)
--(axis cs:0.06,0.0213213860802352)
--(axis cs:0.03,0.0184874932095408)
--(axis cs:0,0.0148488094378263)
--cycle;


\addplot [very thick, black]
table {%
0 0.0147440945729613
0.03 0.0177605431526899
0.06 0.0201129950582981
0.09 0.0225987322628498
0.12 0.0234517753124237
0.15 0.0238906741142273
0.18 0.0257232114672661
0.21 0.0262568555772305
0.24 0.0277578923851252
0.27 0.0280310809612274
0.3 0.0293545853346586
};
\addlegendentry{Jacobian}
\addplot [very thick, purple]
table {%
0 0.0147201688960195
0.03 0.0164544638246298
0.06 0.0178622920066118
0.09 0.0190845485776663
0.12 0.0203688740730286
0.15 0.0213488787412643
0.18 0.0224642120301723
0.21 0.0232909731566906
0.24 0.0247187204658985
0.27 0.0258494466543198
0.3 0.0265802890062332
};
\addlegendentry{Jittering}
\addplot [very thick, brown]
table {%
0 0.014515558257699
0.03 0.0235897079110146
0.06 0.0255383010953665
0.09 0.0273451991379261
0.12 0.0299901366233826
0.15 0.0335953757166862
0.18 0.0413907021284103
0.21 0.0459551885724068
0.24 0.0489561781287193
0.27 0.0517510771751404
0.3 0.0538518205285072
};
\addlegendentry{$\ell_2$-reg.}
\end{groupplot}

\end{tikzpicture}