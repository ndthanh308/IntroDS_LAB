\documentclass[sigconf]{acmart}

%-------------------------------------------------------------------------------
% Templates
%-------------------------------------------------------------------------------
% Usenix
%\usepackage{usenix-2020-09}
%-------------------------------------------------------------------------------
% CCS
%
\fancyhf{} % Remove fancy page headers 
\fancyhead[C]{Decoding the Secrets of Machine Learning in Windows Malware Classification} % TODO: replace 9999 with your paper number
\fancyfoot[C]{\thepage}

%\setcopyright{none} % No copyright notice required for submissions
\acmConference[Decoding the Secrets of Machine Learning in Windows Malware Classification]{ACM Conference on Computer and Communications Security}{2023}{Copenhagen, Denmark}
\acmYear{2023}

\settopmatter{printacmref=false, printccs=true, printfolios=true} % We want page numbers on submissions

%\ccsPaper{9999} % TODO: replace with your paper number once obtained
%-------------------------------------------------------------------------------

%-------------------------------------------------------------------------------
% Packages
%-------------------------------------------------------------------------------
\usepackage[english]{babel}
\usepackage{amsmath}
\let\Bbbk\relax
\usepackage{amssymb}
\usepackage{booktabs}
\usepackage{comment}
\let\labelindent\relax
\usepackage{enumitem}
\usepackage{graphicx}
%\usepackage{subfig}
\usepackage{subcaption}
\usepackage{tabularx}
\usepackage{tikz}
\usepackage{xspace}
\usepackage{xurl}
\usepackage{array}
\usepackage{makecell}
\usepackage{multirow}
\setitemize{noitemsep,topsep=0pt,parsep=0pt,partopsep=0pt}

%% Change \paragraph spacing
\renewcommand{\paragraph}{\vspace{1pt}\noindent\textbf}
\addtolength{\abovedisplayskip}{-6pt}
\addtolength{\belowdisplayskip}{-6pt}

%-------------------------------------------------------------------------------
% New Commands
%-------------------------------------------------------------------------------
\usepackage[colorinlistoftodos]{todonotes}
\newcommand{\mynote}[2]{\xspace\fbox{\bfseries\sffamily\footnotesize{#1}}
    {\scriptsize$\blacktriangleright$\textsf{\small\emph{#2}}$\blacktriangleleft$}}
\newcommand{\td}[1]{\todo[inline,color=orange]{TODO: #1}}
\newcommand{\fix}[1]{\textbf{\textcolor{red}{#1}}}
\newcommand{\yufei}[1]{\textcolor{orange}{\mynote{Yufei}{#1}}}
\newcommand{\platon}[1]{\textcolor{cyan}{\mynote{Platon}{#1}}}
\newcommand{\leyla}[1]{\textcolor{green}{\mynote{Leyla}{#1}}}
\newcommand{\sav}[1]{\textcolor{purple}{\mynote{Savino}{#1}}}
\newcommand{\juan}[1]{\textcolor{purple}{\mynote{Juan}{#1}}}
\newcommand{\simo}[1]{\textcolor{blue}{\mynote{Simo}{#1}}}
\newcommand{\davide}[1]{\textcolor{red}{\mynote{Davide}{#1}}}

%\newcommand{\revision}[1]{\textbf{\textcolor{blue}{#1}}}
\newcommand{\revision}[1]{#1}


% \newcommand{\summary}[1]{
% \vspace{0.2cm}
% \noindent \fcolorbox{gray}{white}{\begin{minipage}[c]{0.96\columnwidth}
% \textbf{Summary}: #1
% \end{minipage}}
% }


\newcommand{\summary}[2]{
\vspace{0.2cm}
\noindent \fcolorbox{gray}{white}{\begin{minipage}[c]{0.98\columnwidth}
  \aques{#1} #2
\end{minipage}}
\vspace{-.3cm}
}

%-------------------------------------------------------------------------------
% Confusion Matrix
%-------------------------------------------------------------------------------
\newcommand\cmBox[1]{
  \fbox{\lower0.38cm
    \vbox to 0.9cm{\vfil
      \hbox to 0.9cm{\hfil\parbox{0.45cm}{#1}\hfil}
      \vfil}%
  }%
}
%-------------------------------------------------------------------------------

% Ignore stuff
\newcommand{\ignore}[1]{}
% Tickmark and Crossmark
\usepackage{amsfonts}
\newcommand{\Y}{\checkmark}
\usepackage{pifont}
\newcommand{\N}{\hspace{1pt}\ding{55}}
% Tools
\newcommand{\tool}{{\sc Tool}\xspace}
\newcommand{\Tool}{\tool}
\newcommand{\avclass}{AVClass2\xspace}
\newcommand{\trid}{trID\xspace}
% Dataset
\newcommand{\nummalware}{67,000\xspace}
\newcommand{\numbenign}{16,611\xspace}
\newcommand{\numfam}{670\xspace}
% Other
\newcommand{\vtag}[1]{\emph{#1}\xspace}
\newcommand{\xxx}{{\color{red} XXX}\xspace}
% Research questions
\newcounter{resnumber}
\newcommand{\rquesc}[0]{%
\textcolor{blue}{\stepcounter{resnumber}$\langle$\textbf{R\arabic{resnumber}}$\rangle$}%
}
\newcommand{\rques}[1]{%
\textcolor{blue}{$\langle$\textbf{R#1}$\rangle$}%
}
\newcommand{\aques}[1]{%
\textcolor{blue}{$\langle$\textbf{A#1}$\rangle$}%
}

%-------------------------------------------------------------------------------

\begin{document}

%-------------------------------------------------------------------------------
% CCS 
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10002978.10002997.10002998</concept_id>
<concept_desc>Security and privacy~Malware and its mitigation</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[300]{Security and privacy~Malware and its mitigation}

\keywords{malware detection, malware family classification, machine learning for malware}
%-------------------------------------------------------------------------------

\author{
  \begin{tabular}{c}
	Savino Dambra*\\
	Norton Research Group
  \end{tabular}
  \begin{tabular}{c}
	Yufei Han*\\
	INRIA
  \end{tabular}
  \begin{tabular}{c}
	Simone Aonzo*\\
	EURECOM
  \end{tabular}
  \begin{tabular}{c}
	Platon Kotzias*\\
	Norton Research Group
  \end{tabular}\\[-2pt]
  \begin{tabular}{c}
	Antonino Vitale\\
	EURECOM
  \end{tabular}
  \begin{tabular}{c}
	Juan Caballero\\
	IMDEA Software Institute
  \end{tabular}
  \begin{tabular}{c}
	Davide Balzarotti\\
	EURECOM
  \end{tabular}
  \begin{tabular}{c}
	Leyla Bilge\\
	Norton Research Group
  \end{tabular}
}


\date{}
\input{sec/abstract.tex}

% \title{Twenty Thousand Leagues Under the Hoods of Machines \\ in the Task of Classifying Windows Malware Families}
\title{Decoding the Secrets of\\ Machine Learning in Windows Malware Classification: \\A Deep Dive into Datasets, Features, and Model Performance}
\maketitle
\def\thefootnote{*}\footnotetext{These authors contributed equally to this work.}

\input{sec/intro.tex}
\input{sec/datasets.tex}
\input{sec/methodology.tex}
\input{sec/eval-detection.tex}
\input{sec/eval-hard}
\input{sec/eval-features}
\input{sec/eval-packers}
\input{sec/eval-missing}
\input{sec/eval-avclass}
\input{sec/eval-training}
\input{sec/eval-generalization}
\input{sec/related.tex}
\input{sec/conclusions.tex}
\input{sec/ack.tex}

%\newpage
\bibliographystyle{ACM-Reference-Format}
\bibliography{biblio}
\input{sec/appendix}

\end{document}
